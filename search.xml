<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>css揭密</title>
      <link href="/2019/05/15/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/css%E6%8F%AD%E5%AF%86/"/>
      <url>/2019/05/15/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/css%E6%8F%AD%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="第2章-背景与边框"><a href="#第2章-背景与边框" class="headerlink" title="第2章 背景与边框"></a>第2章 背景与边框</h2><h3 id="1-半透明边框"><a href="#1-半透明边框" class="headerlink" title="1 半透明边框"></a>1 半透明边框</h3><p><code>background-clip: border-box(default) | padding-box</code></p><h3 id="2-多重边框"><a href="#2-多重边框" class="headerlink" title="2 多重边框"></a>2 多重边框</h3><h4 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a><code>box-shadow</code></h4><p><code>box-shadow</code> 的好处在于，它支持逗号分隔语法，我们 可以创建任意数量的投影。</p><p>唯一需要注意的是，<code>box-shadow</code>是层层叠加的，第一层投影位于最顶层，依次类推。</p><p>注意事项:</p><ul><li><p>投影的行为跟边框不完全一致，因为它不会影响布局，而且也不会 受到 <code>box-sizing</code> 属性的影响。不过，你还是可以通过内边距或外边距(这取决于投影是内嵌和还是外扩的)来额外模拟出边框所需要 占据的空间。</p></li><li><p>上述方法所创建出的假“边框”出现在元素的外圈。它们并不会响 应鼠标事件，比如悬停或点击。如果这一点非常重要，你可以给 <code>box-shadow</code>属性加上<code>inset</code>关键字，来使投影绘制在元素的内圈。请注意，此时你需要增加额外的内边距来腾出足够的空隙。</p></li></ul><h4 id="outline-方案"><a href="#outline-方案" class="headerlink" title="outline 方案"></a>outline 方案</h4><p>在某些情况下，你可能只需要两层边框，那就可以先设置一层常规边 框，再加上 outline(描边)属性来产生外层的边框。这种方法的一大优点在于边框样式十分灵活，不像上面的 <code>box-shadow</code> 方案只能模拟实线边框(假设我们需要产生虚线边框效果，<code>box-shadow</code> 就没辙了)。</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Base IT knowledge l1</title>
      <link href="/2019/05/14/grow/base/Base-IT-knowledge-l1/"/>
      <url>/2019/05/14/grow/base/Base-IT-knowledge-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Clean-Code"><a href="#Clean-Code" class="headerlink" title="Clean Code"></a>Clean Code</h2><p>code authoring basics: coding and naming conventions<br>important ‘code smells’<br>refactoring basics</p><h2 id="Computer-science-fundamentals"><a href="#Computer-science-fundamentals" class="headerlink" title="Computer science fundamentals"></a>Computer science fundamentals</h2><p>Data structures: stack, array, linked list, queue, bag<br>Basic algorithms: elementary sort<br>Algorithms complexity basics<br>Merge and quick sort<br>Hash tables; hash functions<br>Priority queue/heap<br>Union-find structure and algorithm</p><h2 id="Version-control-principles"><a href="#Version-control-principles" class="headerlink" title="Version control principles"></a>Version control principles</h2><p>version control fundamentals, centralized vs distributed<br>svn basic usage: checkout, update, commit, merge, conflict resolution<br>git basic usage: clone, branches, merging, push, pull<br>git comparison to svn</p><h2 id="Automation-concepts"><a href="#Automation-concepts" class="headerlink" title="Automation concepts"></a>Automation concepts</h2><p>command-line scripting<br>powershell scripting<br>using msbuild for buiding automation<br>Continuous integration setup and usage (cruise control, teamcity)<br>overview of other scripting platforms (python, node.js, csipts)</p><h2 id="Computer-science"><a href="#Computer-science" class="headerlink" title="Computer science"></a>Computer science</h2><p>Divide-and-conquer algorithms generalization<br>Graph data structure, BFS, DFS algorithms<br>Greedy algorithms: Minimal spanning tree, shortest path</p><h2 id="Computers-and-networks"><a href="#Computers-and-networks" class="headerlink" title="Computers and networks"></a>Computers and networks</h2><p>Network fundamentals, OSI model<br>transport level protocols: IP, TCP, configuration<br>presentatin level protocols: https<br>application level protocols: http, ftp, smtp, dns<br>using utils: ping, nslookup, tracert, telnet, curl</p><h2 id="Xml-concepts"><a href="#Xml-concepts" class="headerlink" title="Xml concepts"></a>Xml concepts</h2><p>Xml overview<br>XPath concepts<br>XSD concepts</p><h2 id="Advanced-computer-science"><a href="#Advanced-computer-science" class="headerlink" title="Advanced computer science"></a>Advanced computer science</h2><p>strings algorithms: sort, substring search, regular expressions, compression<br>dynamic programming<br>nonlinear programming<br>memory-management (garbage collection)<br>data indexing</p><h2 id="Cryptography"><a href="#Cryptography" class="headerlink" title="Cryptography"></a>Cryptography</h2><p>cryptography algorithms: symmetrical, asymmetrical<br>applications: .net cryptolibrary, crypto++, else?</p><h2 id="Trees"><a href="#Trees" class="headerlink" title="Trees"></a>Trees</h2><p>binary search trees<br>balanced search trees: b-tree, red-black-tree, avl</p>]]></content>
      
      
      
        <tags>
            
            <tag> l1 </tag>
            
            <tag> base </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>client side javascript l1</title>
      <link href="/2019/05/14/grow/js/client-side-javascript-l1/"/>
      <url>/2019/05/14/grow/js/client-side-javascript-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Events-Handling"><a href="#Events-Handling" class="headerlink" title="Events Handling"></a>Events Handling</h2><p>Event Phases<br>Know Event phases<br>Be able to explain difference between capturing and bubbling<br>Event Listeners<br>Be able to handle events<br>Be able to create custom events<br>Be able to trigger events (both built-in and custom)</p><h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><p>XMLHttpRequest<br>Know HTTP protocol basics<br>Know AJAX concept<br>Know how XMLHttpRequest works<br>Understand AJAX security policy<br>Be able to explain difference between AJAX request and Form submit<br>Be able to create AJAX request (set content type, set response type, set custom headers)<br>Be able to process AJAX response (parse response data)<br>Be able to handle AJAX errors (including error codes)<br>[fetch]<br>[$.ajax]</p><h2 id="Cross-Domain-Communication"><a href="#Cross-Domain-Communication" class="headerlink" title="Cross-Domain Communication"></a>Cross-Domain Communication</h2><p>JSONP<br>Know JSONP prerequisites<br>Be able to create JSONP request<br>Be able to process JSON response<br>Be able to explain difference between JSONP and AJAX</p><h2 id="DOM-Manipulation"><a href="#DOM-Manipulation" class="headerlink" title="DOM Manipulation"></a>DOM Manipulation</h2><p>Selectors<br>Know various types of selectors<br>Understand selectors impotency and specifity<br>Know how to find and select the certain elements in DOM<br>Be able to discover selectors performance issues, limitations and optimizations<br>Traversing<br>Know how to traverse DOM tree vertically (parent, childNodes)<br>Know how to traverse DOM tree horizontally (siblings)<br>Be able to discover traversing performance and optimizations<br>Modification<br>Be able to add/remove/update DOM elements<br>Know DOM modification performance issues and bottlenecks<br>Understand DOM optimizations<br>Live Collections</p><h2 id="Events-Basics"><a href="#Events-Basics" class="headerlink" title="Events Basics"></a>Events Basics</h2><p>DOM Events<br>Know Event concept<br>Know basic Event types<br>Mouse / Keyboard Events<br>Form / Input Events</p><h2 id="Events-Propagation-Preventing"><a href="#Events-Propagation-Preventing" class="headerlink" title="Events Propagation / Preventing"></a>Events Propagation / Preventing</h2><p>Know Event propagation cycle<br>Know how to stop Event propagation<br>Know how to prevent Event default browser behavior<br>Delegating<br>Understand Event delegating concept<br>Understand Event delegating benefits and drawbacks<br>Be able to implement Event delegating</p><h2 id="Global-object-window"><a href="#Global-object-window" class="headerlink" title="Global object window"></a>Global object window</h2><p>Location<br>Know browser location structure<br>Be able to explain client and server side navigation concept<br>History API (Global object window)<br>Know browser history concept<br>Be able to navigate within browser history<br>Be able to use history state<br>Be able to replace history state<br>Navigator<br>Know how to parse user agent<br>Know how to discover client platform, browser<br>Document<br>Screen<br>Cookies<br>Know cookie concept and limitations<br>Know how to work with cookies<br>Know cookie types and security policy</p><h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><p>CommonJS<br>Know JavaScript modules concept<br>Know CommonJS module notation<br>Understand difference between module notation and implementation<br>Be able to use CommonJS modules in both browser and NodeJS<br>AMD, UMD<br>Know AMD notation<br>Know difference between CommonJS/AMD/UMD module notations<br>ES2015<br>Know ES2015 module notation</p><h2 id="Nodes-Modification"><a href="#Nodes-Modification" class="headerlink" title="Nodes Modification"></a>Nodes Modification</h2><p>Node Properties<br>Node Attributes<br>Know how to modify DOM element properties and attributes<br>Understand DOM element properties / attributes connection<br>Data Attributes<br>CSS Scripting<br>Be able to add/toggle/remove CSS classes for DOM element<br>Be able to modify inline styles for DOM element<br>Be able to explain inline styles performance issues</p><h2 id="Timers"><a href="#Timers" class="headerlink" title="Timers"></a>Timers</h2><p>[setTimeout]<br>[setInterval]<br>[clearTimeout]<br>[requestAnimationFrame]<br>Understand [requestAnimationFrame] concept<br>Be able to explain difference between [setTimeout] and [requestAnimationFrame]</p><h2 id="Web-Storage"><a href="#Web-Storage" class="headerlink" title="Web Storage"></a>Web Storage</h2><p>LocalStorage<br>SessionStorage<br>Know web storages limitations and security policy<br>IndexedDB</p><h2 id="optional"><a href="#optional" class="headerlink" title="optional"></a>optional</h2><h2 id="Cross-Origin-Requests"><a href="#Cross-Origin-Requests" class="headerlink" title="Cross-Origin Requests"></a>Cross-Origin Requests</h2><p>Know AJAX security policy<br>Understand cross domain request prerequisites<br>Be able to handle AJAX security issues<br>IFrame</p><h2 id="Events-Advanced"><a href="#Events-Advanced" class="headerlink" title="Events Advanced"></a>Events Advanced</h2><p>Mobile Events<br>Custom Events</p><h2 id="Modules-Advanced"><a href="#Modules-Advanced" class="headerlink" title="Modules Advanced"></a>Modules Advanced</h2><p>RequireJS<br>Know how to define AMD module<br>Know how to define AMD module dependencies<br>Know how to wrap CommonJS module for AMD<br>Be able to configure RequireJS<br>Be able to use RequireJS plugins<br>SystemJS<br>Know how to define SystemJS module<br>Know how to define SystemJS module dependencies<br>Know how to wrap CommonJS/AMD modules for SystemJS<br>Be able to configure SystemJS<br>Be able to use SystemJS plugins</p><h2 id="Page-Lifecycle"><a href="#Page-Lifecycle" class="headerlink" title="Page Lifecycle"></a>Page Lifecycle</h2><p>Parsing<br>Reflow<br>Repaint<br>Optimizations</p><h2 id="Web-Security"><a href="#Web-Security" class="headerlink" title="Web Security"></a>Web Security</h2><p>CSRF<br>Know CSRF attack vector<br>Know protection methods against CSRF attack<br>XSS<br>Know XSS attack vector<br>Know protection methods against XSS attack<br>Be able to compare CSRF and XSS attacks</p><h2 id="WebSockets"><a href="#WebSockets" class="headerlink" title="WebSockets"></a>WebSockets</h2><p>WebSocket concept<br>WenSocket interface</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> l1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue l1</title>
      <link href="/2019/05/14/grow/vue/vue-l1/"/>
      <url>/2019/05/14/grow/vue/vue-l1/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>react l1</title>
      <link href="/2019/05/14/grow/react/react-l1/"/>
      <url>/2019/05/14/grow/react/react-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Create-basic-components"><a href="#Create-basic-components" class="headerlink" title="Create basic components"></a>Create basic components</h2><h3 id="Using-JSX"><a href="#Using-JSX" class="headerlink" title="Using JSX"></a>Using JSX</h3><h3 id="Understanding-component-specs"><a href="#Understanding-component-specs" class="headerlink" title="Understanding component specs"></a>Understanding component specs</h3><h3 id="Understanding-basic-lifecycle-events"><a href="#Understanding-basic-lifecycle-events" class="headerlink" title="Understanding basic lifecycle events"></a>Understanding basic lifecycle events</h3><h3 id="Using-state-and-props"><a href="#Using-state-and-props" class="headerlink" title="Using state and props"></a>Using state and props</h3><h3 id="Understanding-react-event-system"><a href="#Understanding-react-event-system" class="headerlink" title="Understanding react event system"></a>Understanding react event system</h3><h2 id="Create-reusable-components"><a href="#Create-reusable-components" class="headerlink" title="Create reusable components"></a>Create reusable components</h2><h3 id="Validating-props"><a href="#Validating-props" class="headerlink" title="Validating props"></a>Validating props</h3><h3 id="Transferring-props-between-components"><a href="#Transferring-props-between-components" class="headerlink" title="Transferring props between components"></a>Transferring props between components</h3><h3 id="Creating-mixins"><a href="#Creating-mixins" class="headerlink" title="Creating mixins"></a>Creating mixins</h3><h3 id="Using-refs"><a href="#Using-refs" class="headerlink" title="Using refs"></a>Using refs</h3><h2 id="Create-complex-components"><a href="#Create-complex-components" class="headerlink" title="Create complex components"></a>Create complex components</h2><h3 id="Understanding-full-component-lifecycle"><a href="#Understanding-full-component-lifecycle" class="headerlink" title="Understanding full component lifecycle"></a>Understanding full component lifecycle</h3><h3 id="Understanding-React-top-level-API"><a href="#Understanding-React-top-level-API" class="headerlink" title="Understanding React top-level API"></a>Understanding React top-level API</h3><h3 id="Using-raw-HTML-in-React-components"><a href="#Using-raw-HTML-in-React-components" class="headerlink" title="Using raw HTML in React components"></a>Using raw HTML in React components</h3><h3 id="Adding-animation"><a href="#Adding-animation" class="headerlink" title="Adding animation"></a>Adding animation</h3><h3 id="Using-ES2015"><a href="#Using-ES2015" class="headerlink" title="Using ES2015"></a>Using ES2015</h3><h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><h3 id="Understanding-components-rendering-system"><a href="#Understanding-components-rendering-system" class="headerlink" title="Understanding components rendering system"></a>Understanding components rendering system</h3><h3 id="Using-PureRenderMixin"><a href="#Using-PureRenderMixin" class="headerlink" title="Using PureRenderMixin"></a>Using PureRenderMixin</h3><h3 id="Using-immutable-data-structures-ImmutableJS"><a href="#Using-immutable-data-structures-ImmutableJS" class="headerlink" title="Using immutable data structures (ImmutableJS)"></a>Using immutable data structures (ImmutableJS)</h3><h2 id="SPA"><a href="#SPA" class="headerlink" title="SPA"></a>SPA</h2><h3 id="Creating-SPA-using-React-Router"><a href="#Creating-SPA-using-React-Router" class="headerlink" title="Creating SPA using React Router"></a>Creating SPA using React Router</h3><h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><h3 id="Unit-testing-using-Jest-and-or-other-testing-frameworks"><a href="#Unit-testing-using-Jest-and-or-other-testing-frameworks" class="headerlink" title="Unit testing using Jest and/or other testing frameworks"></a>Unit testing using Jest and/or other testing frameworks</h3><h3 id="Using-React-testing-utilities"><a href="#Using-React-testing-utilities" class="headerlink" title="Using React testing utilities"></a>Using React testing utilities</h3><h3 id="Using-JSDom-for-testing"><a href="#Using-JSDom-for-testing" class="headerlink" title="Using JSDom for testing"></a>Using JSDom for testing</h3><h2 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h2><h3 id="Using-React-Devtools"><a href="#Using-React-Devtools" class="headerlink" title="Using React Devtools"></a>Using React Devtools</h3><h3 id="Building-and-deploying-React-apps"><a href="#Building-and-deploying-React-apps" class="headerlink" title="Building and deploying React apps"></a>Building and deploying React apps</h3><h3 id="Using-React-Hot-Loader"><a href="#Using-React-Hot-Loader" class="headerlink" title="Using React Hot Loader"></a>Using React Hot Loader</h3><h2 id="Understand-Flux"><a href="#Understand-Flux" class="headerlink" title="Understand Flux"></a>Understand Flux</h2><h3 id="Understanding-unidirectional-data-flow"><a href="#Understanding-unidirectional-data-flow" class="headerlink" title="Understanding unidirectional data flow"></a>Understanding unidirectional data flow</h3><h3 id="Using-dispatcher"><a href="#Using-dispatcher" class="headerlink" title="Using dispatcher"></a>Using dispatcher</h3><h3 id="Creating-stores"><a href="#Creating-stores" class="headerlink" title="Creating stores"></a>Creating stores</h3><h3 id="Creating-actions"><a href="#Creating-actions" class="headerlink" title="Creating actions"></a>Creating actions</h3><h3 id="Experience-with-any-library-Redux-Mobx-Reflux-Alt-etc"><a href="#Experience-with-any-library-Redux-Mobx-Reflux-Alt-etc" class="headerlink" title="Experience with any library (Redux, Mobx, Reflux, Alt, etc.)"></a>Experience with any library (Redux, Mobx, Reflux, Alt, etc.)</h3><h2 id="Advanced-React-usage"><a href="#Advanced-React-usage" class="headerlink" title="Advanced React usage"></a>Advanced React usage</h2><h3 id="Designing-app-architecture-using-React"><a href="#Designing-app-architecture-using-React" class="headerlink" title="Designing app architecture using React"></a>Designing app architecture using React</h3><h3 id="Profiling-and-optimizing-react-components"><a href="#Profiling-and-optimizing-react-components" class="headerlink" title="Profiling and optimizing react components"></a>Profiling and optimizing react components</h3><h3 id="Understanding-virtual-DOM"><a href="#Understanding-virtual-DOM" class="headerlink" title="Understanding virtual DOM"></a>Understanding virtual DOM</h3><h3 id="Using-server-side-rendering"><a href="#Using-server-side-rendering" class="headerlink" title="Using server side rendering"></a>Using server side rendering</h3><h3 id="Integrating-React-into-other-frameworks-e-g-Backbone"><a href="#Integrating-React-into-other-frameworks-e-g-Backbone" class="headerlink" title="Integrating React into other frameworks (e.g. Backbone)"></a>Integrating React into other frameworks (e.g. Backbone)</h3><h3 id="Two-way-binding"><a href="#Two-way-binding" class="headerlink" title="Two-way binding"></a>Two-way binding</h3><h3 id="Creating-E2E-tests"><a href="#Creating-E2E-tests" class="headerlink" title="Creating E2E tests"></a>Creating E2E tests</h3>]]></content>
      
      
      
        <tags>
            
            <tag> l1 </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js l1</title>
      <link href="/2019/05/14/grow/js/js-l1/"/>
      <url>/2019/05/14/grow/js/js-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><h3 id="Array-literals"><a href="#Array-literals" class="headerlink" title="Array literals"></a>Array literals</h3><h3 id="Know-several-options-how-to-create-Array"><a href="#Know-several-options-how-to-create-Array" class="headerlink" title="Know several options how to create Array"></a>Know several options how to create Array</h3><h3 id="Array-length"><a href="#Array-length" class="headerlink" title="Array length"></a>Array length</h3><h3 id="Know-how-Array-length-property-works"><a href="#Know-how-Array-length-property-works" class="headerlink" title="Know how Array length property works"></a>Know how Array length property works</h3><h2 id="Closures-Basics"><a href="#Closures-Basics" class="headerlink" title="Closures Basics"></a>Closures Basics</h2><h3 id="Nested-functions"><a href="#Nested-functions" class="headerlink" title="Nested functions"></a>Nested functions</h3><h3 id="Able-to-create-nested-functions"><a href="#Able-to-create-nested-functions" class="headerlink" title="Able to create nested functions"></a>Able to create nested functions</h3><h3 id="Understand-variables-visibility-for-nested-scopes"><a href="#Understand-variables-visibility-for-nested-scopes" class="headerlink" title="Understand variables visibility for nested scopes"></a>Understand variables visibility for nested scopes</h3><h2 id="ECMAScript-Basics"><a href="#ECMAScript-Basics" class="headerlink" title="ECMAScript Basics"></a>ECMAScript Basics</h2><h3 id="cost-let-declarations"><a href="#cost-let-declarations" class="headerlink" title="cost, let declarations"></a>cost, let declarations</h3><h3 id="Understand-differences-between-var-let-and-const"><a href="#Understand-differences-between-var-let-and-const" class="headerlink" title="Understand differences between [var], [let] and [const]"></a>Understand differences between [var], [let] and [const]</h3><h3 id="Know-block-scope-and-let-visibility"><a href="#Know-block-scope-and-let-visibility" class="headerlink" title="Know block scope and [let] visibility"></a>Know block scope and [let] visibility</h3><h3 id="Able-to-explain-dead-zone-concept-for-let"><a href="#Able-to-explain-dead-zone-concept-for-let" class="headerlink" title="Able to explain dead zone concept for [let]"></a>Able to explain dead zone concept for [let]</h3><h3 id="Arrow-functions"><a href="#Arrow-functions" class="headerlink" title="Arrow functions"></a>Arrow functions</h3><h3 id="Know-difference-between-arrow-and-usual-functions"><a href="#Know-difference-between-arrow-and-usual-functions" class="headerlink" title="Know difference between arrow and usual functions"></a>Know difference between arrow and usual functions</h3><h3 id="Able-to-discover-cases-for-both-arrow-and-usual-functions-using"><a href="#Able-to-discover-cases-for-both-arrow-and-usual-functions-using" class="headerlink" title="Able to discover cases for both arrow and usual functions using"></a>Able to discover cases for both arrow and usual functions using</h3><h2 id="Expressions-Operators-Statements"><a href="#Expressions-Operators-Statements" class="headerlink" title="Expressions, Operators, Statements"></a>Expressions, Operators, Statements</h2><h3 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h3><h3 id="Know-logic-mathematic-operators"><a href="#Know-logic-mathematic-operators" class="headerlink" title="Know logic, mathematic operators"></a>Know logic, mathematic operators</h3><h3 id="Know-operators-priority"><a href="#Know-operators-priority" class="headerlink" title="Know operators priority"></a>Know operators priority</h3><h3 id="Be-able-to-use-operators"><a href="#Be-able-to-use-operators" class="headerlink" title="Be able to use operators"></a>Be able to use operators</h3><h3 id="Conditions"><a href="#Conditions" class="headerlink" title="Conditions"></a>Conditions</h3><h3 id="Know-and-able-to-use-conditional-statements"><a href="#Know-and-able-to-use-conditional-statements" class="headerlink" title="Know and able to use conditional statements"></a>Know and able to use conditional statements</h3><h3 id="Loops"><a href="#Loops" class="headerlink" title="Loops"></a>Loops</h3><h3 id="Know-loop-types"><a href="#Know-loop-types" class="headerlink" title="Know loop types"></a>Know loop types</h3><h3 id="Understand-loops-differences-and-applicability"><a href="#Understand-loops-differences-and-applicability" class="headerlink" title="Understand loops differences and applicability"></a>Understand loops differences and applicability</h3><h3 id="Be-able-to-skip-loop-iteration-or-break-loop"><a href="#Be-able-to-skip-loop-iteration-or-break-loop" class="headerlink" title="Be able to skip loop iteration or break loop"></a>Be able to skip loop iteration or break loop</h3><h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><h3 id="Function-declaration-expression"><a href="#Function-declaration-expression" class="headerlink" title="Function declaration/expression"></a>Function declaration/expression</h3><h3 id="Know-both-Function-expression-and-Function-declaration"><a href="#Know-both-Function-expression-and-Function-declaration" class="headerlink" title="Know both Function expression and Function declaration"></a>Know both Function expression and Function declaration</h3><h3 id="Be-able-to-explain-declaration-expression-differences"><a href="#Be-able-to-explain-declaration-expression-differences" class="headerlink" title="Be able to explain declaration/expression differences"></a>Be able to explain declaration/expression differences</h3><h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><h3 id="Object-literals"><a href="#Object-literals" class="headerlink" title="Object literals"></a>Object literals</h3><h3 id="Know-several-ways-how-to-create-object"><a href="#Know-several-ways-how-to-create-object" class="headerlink" title="Know several ways how to create object"></a>Know several ways how to create object</h3><h2 id="Variables-Values-Data-Types"><a href="#Variables-Values-Data-Types" class="headerlink" title="Variables, Values, Data Types"></a>Variables, Values, Data Types</h2><h3 id="Variables-Know-how-to-declare-variables"><a href="#Variables-Know-how-to-declare-variables" class="headerlink" title="Variables - Know how to declare variables"></a>Variables - Know how to declare variables</h3><h3 id="Values-Know-how-to-assign-values-to-variables"><a href="#Values-Know-how-to-assign-values-to-variables" class="headerlink" title="Values - Know how to assign values to variables"></a>Values - Know how to assign values to variables</h3><h3 id="Literals-Know-basic-String-Number-Object-Array-literals"><a href="#Literals-Know-basic-String-Number-Object-Array-literals" class="headerlink" title="Literals - Know basic String, Number, Object, Array literals"></a>Literals - Know basic String, Number, Object, Array literals</h3><h3 id="Primitive-Data-Types"><a href="#Primitive-Data-Types" class="headerlink" title="Primitive Data Types"></a>Primitive Data Types</h3><h3 id="Discover-primitive-data-types"><a href="#Discover-primitive-data-types" class="headerlink" title="Discover primitive data types"></a>Discover primitive data types</h3><h2 id="Advanced-Expressions"><a href="#Advanced-Expressions" class="headerlink" title="Advanced Expressions"></a>Advanced Expressions</h2><h3 id="Hoisting"><a href="#Hoisting" class="headerlink" title="Hoisting"></a>Hoisting</h3><h3 id="Understand-hoisting-concept"><a href="#Understand-hoisting-concept" class="headerlink" title="Understand hoisting concept"></a>Understand hoisting concept</h3><h3 id="Able-to-use-hoisting-in-development"><a href="#Able-to-use-hoisting-in-development" class="headerlink" title="Able to use hoisting in development"></a>Able to use hoisting in development</h3><h3 id="Auto-data-type-conversion"><a href="#Auto-data-type-conversion" class="headerlink" title="Auto data type conversion"></a>Auto data type conversion</h3><h3 id="Know-rules-of-auto-data-types-conversion"><a href="#Know-rules-of-auto-data-types-conversion" class="headerlink" title="Know rules of auto data types conversion"></a>Know rules of auto data types conversion</h3><h3 id="Be-able-to-discover-cases-of-implicit-data-types-conversion-into-boolean-string-number"><a href="#Be-able-to-discover-cases-of-implicit-data-types-conversion-into-boolean-string-number" class="headerlink" title="Be able to discover cases of implicit data types conversion into boolean, string, number"></a>Be able to discover cases of implicit data types conversion into boolean, string, number</h3><h3 id="Strict-comparison"><a href="#Strict-comparison" class="headerlink" title="Strict comparison"></a>Strict comparison</h3><h3 id="Be-able-to-discover-difference-between-strict-and-non-strict-comparison"><a href="#Be-able-to-discover-difference-between-strict-and-non-strict-comparison" class="headerlink" title="Be able to discover difference between strict and non-strict comparison"></a>Be able to discover difference between strict and non-strict comparison</h3><h3 id="Be-able-to-provide-use-cases-of-both-types-of-comparison"><a href="#Be-able-to-provide-use-cases-of-both-types-of-comparison" class="headerlink" title="Be able to provide use cases of both types of comparison"></a>Be able to provide use cases of both types of comparison</h3><h2 id="Advanced-Functions"><a href="#Advanced-Functions" class="headerlink" title="Advanced Functions"></a>Advanced Functions</h2><h3 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h3><h3 id="Understand-arguments-and-dynamic-amount-of-parameters"><a href="#Understand-arguments-and-dynamic-amount-of-parameters" class="headerlink" title="Understand [arguments] and dynamic amount of parameters"></a>Understand [arguments] and dynamic amount of parameters</h3><h3 id="Be-able-to-use-arguments-retrieve-additional-parameters"><a href="#Be-able-to-use-arguments-retrieve-additional-parameters" class="headerlink" title="Be able to use [arguments], retrieve additional parameters"></a>Be able to use [arguments], retrieve additional parameters</h3><h3 id="this-scope"><a href="#this-scope" class="headerlink" title="[this] scope"></a>[this] scope</h3><h3 id="Understand-difference-between-function-and-method"><a href="#Understand-difference-between-function-and-method" class="headerlink" title="Understand difference between function and method"></a>Understand difference between function and method</h3><h3 id="Understand-how-this-works-realize-this-possible-issues"><a href="#Understand-how-this-works-realize-this-possible-issues" class="headerlink" title="Understand how [this] works, realize [this] possible issues"></a>Understand how [this] works, realize [this] possible issues</h3><h3 id="Manage-this-scope"><a href="#Manage-this-scope" class="headerlink" title="Manage [this] scope"></a>Manage [this] scope</h3><h3 id="Be-able-to-replace-this-scope"><a href="#Be-able-to-replace-this-scope" class="headerlink" title="Be able to replace [this] scope"></a>Be able to replace [this] scope</h3><h3 id="Be-able-to-use-call-and-apply-Function-build-in-methods"><a href="#Be-able-to-use-call-and-apply-Function-build-in-methods" class="headerlink" title="Be able to use [call] and [apply] Function build-in methods"></a>Be able to use [call] and [apply] Function build-in methods</h3><h2 id="Arrays-Built-in-methods"><a href="#Arrays-Built-in-methods" class="headerlink" title="Arrays Built-in methods"></a>Arrays Built-in methods</h2><h3 id="Know-how-to-copy-array"><a href="#Know-how-to-copy-array" class="headerlink" title="Know how to copy array"></a>Know how to copy array</h3><h3 id="Know-how-to-copy-array-part"><a href="#Know-how-to-copy-array-part" class="headerlink" title="Know how to copy array part"></a>Know how to copy array part</h3><h3 id="Know-how-to-modify-array"><a href="#Know-how-to-modify-array" class="headerlink" title="Know how to modify array"></a>Know how to modify array</h3><h2 id="Arrays-Iterating-Sorting-Filtering"><a href="#Arrays-Iterating-Sorting-Filtering" class="headerlink" title="Arrays Iterating, Sorting, Filtering"></a>Arrays Iterating, Sorting, Filtering</h2><h3 id="Know-how-to-sort-Array"><a href="#Know-how-to-sort-Array" class="headerlink" title="Know how to sort Array"></a>Know how to sort Array</h3><h3 id="Be-able-to-custom-sorting-for-Array"><a href="#Be-able-to-custom-sorting-for-Array" class="headerlink" title="Be able to custom sorting for Array"></a>Be able to custom sorting for Array</h3><h3 id="Be-able-to-filter-Array-elements"><a href="#Be-able-to-filter-Array-elements" class="headerlink" title="Be able to filter Array elements"></a>Be able to filter Array elements</h3><h3 id="Know-several-method-how-to-iterate-Array-elements"><a href="#Know-several-method-how-to-iterate-Array-elements" class="headerlink" title="Know several method how to iterate Array elements"></a>Know several method how to iterate Array elements</h3><h3 id="Be-able-to-compare-Hash-and-Array-performance"><a href="#Be-able-to-compare-Hash-and-Array-performance" class="headerlink" title="Be able to compare Hash and Array performance"></a>Be able to compare Hash and Array performance</h3><h2 id="Closures-Advanced"><a href="#Closures-Advanced" class="headerlink" title="Closures Advanced"></a>Closures Advanced</h2><h3 id="Context-lexical-environment"><a href="#Context-lexical-environment" class="headerlink" title="Context (lexical environment)"></a>Context (lexical environment)</h3><h3 id="Understand-function-creation-context-lexical-environment"><a href="#Understand-function-creation-context-lexical-environment" class="headerlink" title="Understand function creation context (lexical environment)"></a>Understand function creation context (lexical environment)</h3><h3 id="Be-able-to-explain-difference-between-scope-and-context"><a href="#Be-able-to-explain-difference-between-scope-and-context" class="headerlink" title="Be able to explain difference between scope and context"></a>Be able to explain difference between scope and context</h3><h3 id="Inner-outer-lexical-environment"><a href="#Inner-outer-lexical-environment" class="headerlink" title="Inner/outer lexical environment"></a>Inner/outer lexical environment</h3><h3 id="Understand-lexical-environment-traversing-mechanism"><a href="#Understand-lexical-environment-traversing-mechanism" class="headerlink" title="Understand lexical environment traversing mechanism"></a>Understand lexical environment traversing mechanism</h3><h3 id="Understand-connection-between-function-and-lexical-environment"><a href="#Understand-connection-between-function-and-lexical-environment" class="headerlink" title="Understand connection between function and lexical environment"></a>Understand connection between function and lexical environment</h3><h3 id="Be-able-to-discover-cases-where-lexical-environment-required"><a href="#Be-able-to-discover-cases-where-lexical-environment-required" class="headerlink" title="Be able to discover cases where lexical environment required"></a>Be able to discover cases where lexical environment required</h3><h3 id="Be-able-to-create-and-use-closures"><a href="#Be-able-to-create-and-use-closures" class="headerlink" title="Be able to create and use closures"></a>Be able to create and use closures</h3><h2 id="ECMAScript-Advanced"><a href="#ECMAScript-Advanced" class="headerlink" title="ECMAScript Advanced"></a>ECMAScript Advanced</h2><h3 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h3><h3 id="Know-how-Promise-works"><a href="#Know-how-Promise-works" class="headerlink" title="Know how [Promise] works"></a>Know how [Promise] works</h3><h3 id="Know-promise-chain-pattern"><a href="#Know-promise-chain-pattern" class="headerlink" title="Know promise chain pattern"></a>Know promise chain pattern</h3><h3 id="Be-able-to-compare-promise-and-callback-patterns"><a href="#Be-able-to-compare-promise-and-callback-patterns" class="headerlink" title="Be able to compare promise and callback patterns"></a>Be able to compare promise and callback patterns</h3><h3 id="Be-able-to-handle-errors-in-promises"><a href="#Be-able-to-handle-errors-in-promises" class="headerlink" title="Be able to handle errors in promises"></a>Be able to handle errors in promises</h3><h3 id="Be-able-to-use-promisification-pattern"><a href="#Be-able-to-use-promisification-pattern" class="headerlink" title="Be able to use promisification pattern"></a>Be able to use promisification pattern</h3><h3 id="Iterators"><a href="#Iterators" class="headerlink" title="Iterators"></a>Iterators</h3><h3 id="Know-Iterator-interface"><a href="#Know-Iterator-interface" class="headerlink" title="Know [Iterator] interface"></a>Know [Iterator] interface</h3><h3 id="Be-able-to-create-custom-iterator"><a href="#Be-able-to-create-custom-iterator" class="headerlink" title="Be able to create custom iterator"></a>Be able to create custom iterator</h3><h3 id="Generators"><a href="#Generators" class="headerlink" title="Generators"></a>Generators</h3><h3 id="Know-generator-syntax"><a href="#Know-generator-syntax" class="headerlink" title="Know generator syntax"></a>Know generator syntax</h3><h3 id="Be-able-to-compare-generator-and-iterator"><a href="#Be-able-to-compare-generator-and-iterator" class="headerlink" title="Be able to compare generator and iterator"></a>Be able to compare generator and iterator</h3><h3 id="Understand-how-yield-works"><a href="#Understand-how-yield-works" class="headerlink" title="Understand how [yield] works"></a>Understand how [yield] works</h3><h3 id="Understand-plain-async-code"><a href="#Understand-plain-async-code" class="headerlink" title="Understand plain async code"></a>Understand plain async code</h3><h3 id="Be-able-to-handle-errors-in-generators"><a href="#Be-able-to-handle-errors-in-generators" class="headerlink" title="Be able to handle errors in generators"></a>Be able to handle errors in generators</h3><h2 id="ECMAScript-Classes"><a href="#ECMAScript-Classes" class="headerlink" title="ECMAScript Classes"></a>ECMAScript Classes</h2><h3 id="Class-declaration"><a href="#Class-declaration" class="headerlink" title="Class declaration"></a>Class declaration</h3><h3 id="Know-class-declaration-syntax"><a href="#Know-class-declaration-syntax" class="headerlink" title="Know [class] declaration syntax"></a>Know [class] declaration syntax</h3><h3 id="Know-how-class-declaration-works-under-the-hood"><a href="#Know-how-class-declaration-works-under-the-hood" class="headerlink" title="Know how [class] declaration works under the hood"></a>Know how [class] declaration works under the hood</h3><h3 id="Understand-difference-between-class-and-function-constructor"><a href="#Understand-difference-between-class-and-function-constructor" class="headerlink" title="Understand difference between [class] and function constructor"></a>Understand difference between [class] and function constructor</h3><h3 id="Understand-difference-between-method-and-class-method"><a href="#Understand-difference-between-method-and-class-method" class="headerlink" title="Understand difference between method and [class] method"></a>Understand difference between method and [class] method</h3><h3 id="Be-able-to-develop-in-OOP-style-using-class-declaration"><a href="#Be-able-to-develop-in-OOP-style-using-class-declaration" class="headerlink" title="Be able to develop in OOP style using [class] declaration"></a>Be able to develop in OOP style using [class] declaration</h3><h3 id="constructor-keyword"><a href="#constructor-keyword" class="headerlink" title="[constructor] keyword"></a>[constructor] keyword</h3><h3 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h3><h3 id="Know-extends-syntax-and-how-it-works"><a href="#Know-extends-syntax-and-how-it-works" class="headerlink" title="Know [extends] syntax and how it works"></a>Know [extends] syntax and how it works</h3><h3 id="Getter-setter"><a href="#Getter-setter" class="headerlink" title="Getter/setter"></a>Getter/setter</h3><h3 id="Be-able-to-create-getter-setter-class-methods"><a href="#Be-able-to-create-getter-setter-class-methods" class="headerlink" title="Be able to create getter / setter [class] methods"></a>Be able to create getter / setter [class] methods</h3><h2 id="ECMAScript-Data-Types-amp-Expressions"><a href="#ECMAScript-Data-Types-amp-Expressions" class="headerlink" title="ECMAScript Data Types &amp; Expressions"></a>ECMAScript Data Types &amp; Expressions</h2><h3 id="Object-keys-values"><a href="#Object-keys-values" class="headerlink" title="Object [keys/values]"></a>Object [keys/values]</h3><h3 id="Object-calculated-props"><a href="#Object-calculated-props" class="headerlink" title="Object calculated props"></a>Object calculated props</h3><h3 id="Symbol-data-type"><a href="#Symbol-data-type" class="headerlink" title="[Symbol] data type"></a>[Symbol] data type</h3><h3 id="Know-Symbol-data-type-specific"><a href="#Know-Symbol-data-type-specific" class="headerlink" title="Know [Symbol] data type specific"></a>Know [Symbol] data type specific</h3><h3 id="Be-able-to-explain-difference-between-usual-object-key-and-symbol"><a href="#Be-able-to-explain-difference-between-usual-object-key-and-symbol" class="headerlink" title="Be able to explain difference between usual object key and symbol"></a>Be able to explain difference between usual object key and symbol</h3><h3 id="Set-Map-data-types"><a href="#Set-Map-data-types" class="headerlink" title="[Set/Map] data types"></a>[Set/Map] data types</h3><h3 id="WeakSet-WeakMap-data-types"><a href="#WeakSet-WeakMap-data-types" class="headerlink" title="[WeakSet/WeakMap] data types"></a>[WeakSet/WeakMap] data types</h3><h2 id="ECMAScript-Intermediate"><a href="#ECMAScript-Intermediate" class="headerlink" title="ECMAScript Intermediate"></a>ECMAScript Intermediate</h2><h3 id="Function-default-parameters"><a href="#Function-default-parameters" class="headerlink" title="Function default parameters"></a>Function default parameters</h3><h3 id="Discover-default-parameters-concept-and-limitations"><a href="#Discover-default-parameters-concept-and-limitations" class="headerlink" title="Discover default parameters concept and limitations"></a>Discover default parameters concept and limitations</h3><h3 id="Spread-operator-for-Function"><a href="#Spread-operator-for-Function" class="headerlink" title="Spread operator for Function"></a>Spread operator for Function</h3><h3 id="Know-how-to-use-spread-operator-for-Function-arguments"><a href="#Know-how-to-use-spread-operator-for-Function-arguments" class="headerlink" title="Know how to use spread operator for Function arguments"></a>Know how to use spread operator for Function arguments</h3><h3 id="Be-able-to-compare-arguments-and-spread-operator"><a href="#Be-able-to-compare-arguments-and-spread-operator" class="headerlink" title="Be able to compare [arguments] and spread operator"></a>Be able to compare [arguments] and spread operator</h3><h3 id="Spread-operator-for-Array"><a href="#Spread-operator-for-Array" class="headerlink" title="Spread operator for Array"></a>Spread operator for Array</h3><h3 id="Understand-and-able-to-use-spread-operator-for-Array-concatenation"><a href="#Understand-and-able-to-use-spread-operator-for-Array-concatenation" class="headerlink" title="Understand and able to use spread operator for Array concatenation"></a>Understand and able to use spread operator for Array concatenation</h3><h3 id="Destruction"><a href="#Destruction" class="headerlink" title="Destruction"></a>Destruction</h3><h3 id="Be-able-to-discover-destruction-concept"><a href="#Be-able-to-discover-destruction-concept" class="headerlink" title="Be able to discover destruction concept"></a>Be able to discover destruction concept</h3><h3 id="Understand-variables-and-Function-arguments-destruction"><a href="#Understand-variables-and-Function-arguments-destruction" class="headerlink" title="Understand variables and Function arguments destruction"></a>Understand variables and Function arguments destruction</h3><h3 id="String-templates"><a href="#String-templates" class="headerlink" title="String templates"></a>String templates</h3><h3 id="Know-String-template-syntax-and-rules"><a href="#Know-String-template-syntax-and-rules" class="headerlink" title="Know String template syntax and rules"></a>Know String template syntax and rules</h3><h3 id="for-of-loop"><a href="#for-of-loop" class="headerlink" title="[for..of] loop"></a>[for..of] loop</h3><h3 id="Know-how-for-of-loop-works"><a href="#Know-how-for-of-loop-works" class="headerlink" title="Know how [for..of] loop works"></a>Know how [for..of] loop works</h3><h3 id="Be-able-to-compare-for-of-loop-with-other-types-of-loops"><a href="#Be-able-to-compare-for-of-loop-with-other-types-of-loops" class="headerlink" title="Be able to compare [for..of] loop with other types of loops"></a>Be able to compare [for..of] loop with other types of loops</h3><h2 id="Functional-Inheritance"><a href="#Functional-Inheritance" class="headerlink" title="Functional Inheritance"></a>Functional Inheritance</h2><h3 id="Rent-a-constructor"><a href="#Rent-a-constructor" class="headerlink" title="Rent a constructor"></a>Rent a constructor</h3><h3 id="Know-functional-inheritance-pattern"><a href="#Know-functional-inheritance-pattern" class="headerlink" title="Know functional inheritance pattern"></a>Know functional inheritance pattern</h3><h3 id="Be-able-to-explain-difference-between-functional-and-prototypal-inheritance"><a href="#Be-able-to-explain-difference-between-functional-and-prototypal-inheritance" class="headerlink" title="Be able to explain difference between functional and prototypal inheritance"></a>Be able to explain difference between functional and prototypal inheritance</h3><h3 id="Be-able-to-discover-benefits-and-drawback-of-both-prototypal-and-functional-inheritance"><a href="#Be-able-to-discover-benefits-and-drawback-of-both-prototypal-and-functional-inheritance" class="headerlink" title="Be able to discover benefits and drawback of both prototypal and functional inheritance"></a>Be able to discover benefits and drawback of both prototypal and functional inheritance</h3><h3 id="Mix-ins"><a href="#Mix-ins" class="headerlink" title="Mix-ins"></a>Mix-ins</h3><h3 id="Know-mix-in-pattern"><a href="#Know-mix-in-pattern" class="headerlink" title="Know mix-in pattern"></a>Know mix-in pattern</h3><h3 id="Know-mix-in-specific-and-limitations"><a href="#Know-mix-in-specific-and-limitations" class="headerlink" title="Know mix-in specific and limitations"></a>Know mix-in specific and limitations</h3><h3 id="Able-to-explain-benefits-and-drawbacks-comparing-with-inheritance"><a href="#Able-to-explain-benefits-and-drawbacks-comparing-with-inheritance" class="headerlink" title="Able to explain benefits and drawbacks comparing with inheritance"></a>Able to explain benefits and drawbacks comparing with inheritance</h3><h2 id="Functional-Patterns"><a href="#Functional-Patterns" class="headerlink" title="Functional Patterns"></a>Functional Patterns</h2><h3 id="Immediate-function"><a href="#Immediate-function" class="headerlink" title="Immediate function"></a>Immediate function</h3><h3 id="Know-immediate-function-pattern"><a href="#Know-immediate-function-pattern" class="headerlink" title="Know immediate function pattern"></a>Know immediate function pattern</h3><h3 id="Be-able-to-explain-the-purposes-of-immediate-function-usage"><a href="#Be-able-to-explain-the-purposes-of-immediate-function-usage" class="headerlink" title="Be able to explain the purposes of immediate function usage"></a>Be able to explain the purposes of immediate function usage</h3><h3 id="Callback-Function-as-argument"><a href="#Callback-Function-as-argument" class="headerlink" title="Callback (Function as argument)"></a>Callback (Function as argument)</h3><h3 id="Know-callback-pattern"><a href="#Know-callback-pattern" class="headerlink" title="Know callback pattern"></a>Know callback pattern</h3><h3 id="Understand-callback-limitations-callback-hell"><a href="#Understand-callback-limitations-callback-hell" class="headerlink" title="Understand callback limitations (callback hell)"></a>Understand callback limitations (callback hell)</h3><h3 id="Binding"><a href="#Binding" class="headerlink" title="Binding"></a>Binding</h3><h3 id="Know-how-to-bind-this-scope-to-function"><a href="#Know-how-to-bind-this-scope-to-function" class="headerlink" title="Know how to bind [this] scope to function"></a>Know how to bind [this] scope to function</h3><h3 id="Be-able-to-provide-cases-when-it’s-required"><a href="#Be-able-to-provide-cases-when-it’s-required" class="headerlink" title="Be able to provide cases when it’s required"></a>Be able to provide cases when it’s required</h3><h2 id="Functional-Scope"><a href="#Functional-Scope" class="headerlink" title="Functional Scope"></a>Functional Scope</h2><h3 id="Know-global-scope-and-functional-scope"><a href="#Know-global-scope-and-functional-scope" class="headerlink" title="Know global scope and functional scope"></a>Know global scope and functional scope</h3><h3 id="Know-variables-visibility-areas"><a href="#Know-variables-visibility-areas" class="headerlink" title="Know variables visibility areas"></a>Know variables visibility areas</h3><h3 id="Understand-nested-scopes-and-able-work-with-them"><a href="#Understand-nested-scopes-and-able-work-with-them" class="headerlink" title="Understand nested scopes and able work with them"></a>Understand nested scopes and able work with them</h3><h2 id="Functions-Parameters-Arguments"><a href="#Functions-Parameters-Arguments" class="headerlink" title="Functions Parameters / Arguments"></a>Functions Parameters / Arguments</h2><h3 id="Know-how-to-define-Function-parameters"><a href="#Know-how-to-define-Function-parameters" class="headerlink" title="Know how to define Function parameters"></a>Know how to define Function parameters</h3><h3 id="Know-difference-between-parameters-passing-by-value-and-by-reference"><a href="#Know-difference-between-parameters-passing-by-value-and-by-reference" class="headerlink" title="Know difference between parameters passing by value and by reference"></a>Know difference between parameters passing by value and by reference</h3><h3 id="Know-how-to-handle-dynamic-amount-of-Function-parameters"><a href="#Know-how-to-handle-dynamic-amount-of-Function-parameters" class="headerlink" title="Know how to handle dynamic amount of Function parameters"></a>Know how to handle dynamic amount of Function parameters</h3><h2 id="JavaScript-Errors"><a href="#JavaScript-Errors" class="headerlink" title="JavaScript Errors"></a>JavaScript Errors</h2><h3 id="try-catch-statement"><a href="#try-catch-statement" class="headerlink" title="[try..catch] statement"></a>[try..catch] statement</h3><h3 id="Know-how-to-handle-errors"><a href="#Know-how-to-handle-errors" class="headerlink" title="Know how to handle errors"></a>Know how to handle errors</h3><h3 id="Be-able-to-explain-try-catch-performance-issues"><a href="#Be-able-to-explain-try-catch-performance-issues" class="headerlink" title="Be able to explain [try..catch] performance issues"></a>Be able to explain [try..catch] performance issues</h3><h3 id="Throw-errors"><a href="#Throw-errors" class="headerlink" title="Throw errors"></a>Throw errors</h3><h3 id="Custom-errors"><a href="#Custom-errors" class="headerlink" title="Custom errors"></a>Custom errors</h3><h2 id="Object-as-Hash"><a href="#Object-as-Hash" class="headerlink" title="Object as Hash"></a>Object as Hash</h2><h3 id="Be-able-to-use-Object-as-a-Hash"><a href="#Be-able-to-use-Object-as-a-Hash" class="headerlink" title="Be able to use Object as a Hash"></a>Be able to use Object as a Hash</h3><h3 id="Be-able-to-loop-though-Object-keys"><a href="#Be-able-to-loop-though-Object-keys" class="headerlink" title="Be able to loop though Object keys"></a>Be able to loop though Object keys</h3><h2 id="Object-Oriented-Programming"><a href="#Object-Oriented-Programming" class="headerlink" title="Object Oriented Programming"></a>Object Oriented Programming</h2><h3 id="new-keyword"><a href="#new-keyword" class="headerlink" title="[new] keyword"></a>[new] keyword</h3><h3 id="Understand-how-new-keyword-works"><a href="#Understand-how-new-keyword-works" class="headerlink" title="Understand how [new] keyword works"></a>Understand how [new] keyword works</h3><h3 id="Understand-the-difference-in-calling-function-with-without-new-keyword"><a href="#Understand-the-difference-in-calling-function-with-without-new-keyword" class="headerlink" title="Understand the difference in calling function with / without [new] keyword"></a>Understand the difference in calling function with / without [new] keyword</h3><h3 id="Function-constructor"><a href="#Function-constructor" class="headerlink" title="Function constructor"></a>Function constructor</h3><h3 id="Know-function-constructor-concept"><a href="#Know-function-constructor-concept" class="headerlink" title="Know function constructor concept"></a>Know function constructor concept</h3><h3 id="Know-function-constructor-pattern"><a href="#Know-function-constructor-pattern" class="headerlink" title="Know function constructor pattern"></a>Know function constructor pattern</h3><h3 id="Able-to-create-constructor-functions"><a href="#Able-to-create-constructor-functions" class="headerlink" title="Able to create constructor functions"></a>Able to create constructor functions</h3><h3 id="Public-private-static-members"><a href="#Public-private-static-members" class="headerlink" title="Public, private, static members"></a>Public, private, static members</h3><h3 id="Know-how-to-create-public-members"><a href="#Know-how-to-create-public-members" class="headerlink" title="Know how to create public members"></a>Know how to create public members</h3><h3 id="Know-how-to-create-private-members"><a href="#Know-how-to-create-private-members" class="headerlink" title="Know how to create private members"></a>Know how to create private members</h3><h3 id="Know-how-to-create-static-members"><a href="#Know-how-to-create-static-members" class="headerlink" title="Know how to create static members"></a>Know how to create static members</h3><h3 id="Understand-OOP-emulation-patterns-and-conventions"><a href="#Understand-OOP-emulation-patterns-and-conventions" class="headerlink" title="Understand OOP emulation patterns and conventions"></a>Understand OOP emulation patterns and conventions</h3><h2 id="Objects-Built-in-methods"><a href="#Objects-Built-in-methods" class="headerlink" title="Objects Built-in methods"></a>Objects Built-in methods</h2><h3 id="Know-how-to-use-built-in-methods"><a href="#Know-how-to-use-built-in-methods" class="headerlink" title="Know how to use built-in methods"></a>Know how to use built-in methods</h3><h3 id="Know-static-Object-methods"><a href="#Know-static-Object-methods" class="headerlink" title="Know static Object methods"></a>Know static Object methods</h3><h2 id="Prototypal-Inheritance-Basics"><a href="#Prototypal-Inheritance-Basics" class="headerlink" title="Prototypal Inheritance Basics"></a>Prototypal Inheritance Basics</h2><h3 id="proto-property"><a href="#proto-property" class="headerlink" title="[proto] property"></a>[<strong>proto</strong>] property</h3><h3 id="Understand-proto-object-property"><a href="#Understand-proto-object-property" class="headerlink" title="Understand [proto] object property"></a>Understand [<strong>proto</strong>] object property</h3><h3 id="Understand-how-interpreter-traverses-object-properties"><a href="#Understand-how-interpreter-traverses-object-properties" class="headerlink" title="Understand how interpreter traverses object properties"></a>Understand how interpreter traverses object properties</h3><h3 id="Able-to-work-with-object-proto"><a href="#Able-to-work-with-object-proto" class="headerlink" title="Able to work with object [proto]"></a>Able to work with object [<strong>proto</strong>]</h3><h3 id="Able-to-use-Object-create-and-define-proto-explicitly"><a href="#Able-to-use-Object-create-and-define-proto-explicitly" class="headerlink" title="Able to use [Object.create] and define [proto] explicitly"></a>Able to use [Object.create] and define [<strong>proto</strong>] explicitly</h3><h3 id="Able-to-set-get-object-prototype"><a href="#Able-to-set-get-object-prototype" class="headerlink" title="Able to set / get object prototype"></a>Able to set / get object prototype</h3><h3 id="prototype-property"><a href="#prototype-property" class="headerlink" title="[prototype] property"></a>[prototype] property</h3><h3 id="Know-function-prototype-property"><a href="#Know-function-prototype-property" class="headerlink" title="Know function [prototype] property"></a>Know function [prototype] property</h3><h3 id="Understand-dependency-between-function-constructor-prototype-and-instance-proto"><a href="#Understand-dependency-between-function-constructor-prototype-and-instance-proto" class="headerlink" title="Understand dependency between function constructor [prototype] and instance [proto]"></a>Understand dependency between function constructor [prototype] and instance [<strong>proto</strong>]</h3><h3 id="Able-to-create-‘class’-methods-using-function-prototype-property"><a href="#Able-to-create-‘class’-methods-using-function-prototype-property" class="headerlink" title="Able to create ‘class’ methods using function [prototype] property"></a>Able to create ‘class’ methods using function [prototype] property</h3><h2 id="Regular-Expressions-Basics"><a href="#Regular-Expressions-Basics" class="headerlink" title="Regular Expressions Basics"></a>Regular Expressions Basics</h2><h3 id="String-methods"><a href="#String-methods" class="headerlink" title="String methods"></a>String methods</h3><h3 id="Know-String-methods-for-regular-expressions"><a href="#Know-String-methods-for-regular-expressions" class="headerlink" title="Know String methods for regular expressions"></a>Know String methods for regular expressions</h3><h3 id="Understand-regular-expressions-performance-issues"><a href="#Understand-regular-expressions-performance-issues" class="headerlink" title="Understand regular expressions performance issues"></a>Understand regular expressions performance issues</h3><h3 id="RegExp-methods-and-flags"><a href="#RegExp-methods-and-flags" class="headerlink" title="RegExp methods and flags"></a>RegExp methods and flags</h3><h3 id="Metacharacters"><a href="#Metacharacters" class="headerlink" title="Metacharacters"></a>Metacharacters</h3><h3 id="Quantifiers"><a href="#Quantifiers" class="headerlink" title="Quantifiers"></a>Quantifiers</h3><h2 id="optional"><a href="#optional" class="headerlink" title="optional"></a>optional</h2><h2 id="Advanced-Functional-Patterns"><a href="#Advanced-Functional-Patterns" class="headerlink" title="Advanced Functional Patterns"></a>Advanced Functional Patterns</h2><h3 id="Chaining"><a href="#Chaining" class="headerlink" title="Chaining"></a>Chaining</h3><h3 id="Know-chaining-pattern-and-cases-where-it-will-be-useful"><a href="#Know-chaining-pattern-and-cases-where-it-will-be-useful" class="headerlink" title="Know chaining pattern and cases where it will be useful"></a>Know chaining pattern and cases where it will be useful</h3><h3 id="Currying"><a href="#Currying" class="headerlink" title="Currying"></a>Currying</h3><h3 id="Know-how-to-bind-arguments-to-function"><a href="#Know-how-to-bind-arguments-to-function" class="headerlink" title="Know how to bind arguments to function"></a>Know how to bind arguments to function</h3><h3 id="Memorization"><a href="#Memorization" class="headerlink" title="Memorization"></a>Memorization</h3><h3 id="Know-memorization-optimization"><a href="#Know-memorization-optimization" class="headerlink" title="Know memorization optimization"></a>Know memorization optimization</h3><h3 id="Understand-problem-with-non-primitive-arguments-memorization"><a href="#Understand-problem-with-non-primitive-arguments-memorization" class="headerlink" title="Understand problem with non-primitive arguments memorization"></a>Understand problem with non-primitive arguments memorization</h3><h2 id="ECMAScript-Classes-Advanced"><a href="#ECMAScript-Classes-Advanced" class="headerlink" title="ECMAScript Classes Advanced"></a>ECMAScript Classes Advanced</h2><h3 id="super-keyword"><a href="#super-keyword" class="headerlink" title="[super] keyword"></a>[super] keyword</h3><h3 id="Understand-super-reference"><a href="#Understand-super-reference" class="headerlink" title="Understand [super] reference"></a>Understand [super] reference</h3><h3 id="Able-to-use-super-reference-in-constructor-in-class-methods"><a href="#Able-to-use-super-reference-in-constructor-in-class-methods" class="headerlink" title="Able to use [super] reference (in constructor, in class methods)"></a>Able to use [super] reference (in constructor, in class methods)</h3><h3 id="static-keyword"><a href="#static-keyword" class="headerlink" title="[static] keyword"></a>[static] keyword</h3><h3 id="Know-static-members-concept"><a href="#Know-static-members-concept" class="headerlink" title="Know static members concept"></a>Know static members concept</h3><h3 id="Be-able-to-create-class-static-properties-and-methods"><a href="#Be-able-to-create-class-static-properties-and-methods" class="headerlink" title="Be able to create [class] static properties and methods"></a>Be able to create [class] static properties and methods</h3><h2 id="Functions-Recursion"><a href="#Functions-Recursion" class="headerlink" title="Functions Recursion"></a>Functions Recursion</h2><h3 id="Know-recursion-concept-and-able-to-use-it"><a href="#Know-recursion-concept-and-able-to-use-it" class="headerlink" title="Know recursion concept and able to use it"></a>Know recursion concept and able to use it</h3><h3 id="Able-to-explain-recursion-risks-benefits-and-drawbacks"><a href="#Able-to-explain-recursion-risks-benefits-and-drawbacks" class="headerlink" title="Able to explain recursion risks, benefits and drawbacks"></a>Able to explain recursion risks, benefits and drawbacks</h3><h2 id="Object-Property-Descriptor"><a href="#Object-Property-Descriptor" class="headerlink" title="Object Property Descriptor"></a>Object Property Descriptor</h2><h3 id="Know-how-to-use-property-descriptors"><a href="#Know-how-to-use-property-descriptors" class="headerlink" title="Know how to use property descriptors"></a>Know how to use property descriptors</h3><h3 id="Be-able-to-explain-enumerable-configurable-writable-property-attributes"><a href="#Be-able-to-explain-enumerable-configurable-writable-property-attributes" class="headerlink" title="Be able to explain enumerable, configurable, writable property attributes"></a>Be able to explain enumerable, configurable, writable property attributes</h3><h3 id="Be-able-to-create-property-getter-setter"><a href="#Be-able-to-create-property-getter-setter" class="headerlink" title="Be able to create property getter/setter"></a>Be able to create property getter/setter</h3><h2 id="Prototypal-Inheritance-Advanced"><a href="#Prototypal-Inheritance-Advanced" class="headerlink" title="Prototypal Inheritance Advanced"></a>Prototypal Inheritance Advanced</h2><h3 id="Temporary-constructor"><a href="#Temporary-constructor" class="headerlink" title="Temporary constructor"></a>Temporary constructor</h3><h3 id="Know-prototypal-inheritance-mechanism"><a href="#Know-prototypal-inheritance-mechanism" class="headerlink" title="Know prototypal inheritance mechanism"></a>Know prototypal inheritance mechanism</h3><h3 id="Know-prototypal-inheritance-temporary-constructor-pattern"><a href="#Know-prototypal-inheritance-temporary-constructor-pattern" class="headerlink" title="Know prototypal inheritance temporary constructor pattern"></a>Know prototypal inheritance temporary constructor pattern</h3><h3 id="Be-able-to-explain-prototypal-chain-from-instance-to-its-‘class’-and-‘class’-parent"><a href="#Be-able-to-explain-prototypal-chain-from-instance-to-its-‘class’-and-‘class’-parent" class="headerlink" title="Be able to explain prototypal chain from instance to its ‘class’ and ‘class’ parent"></a>Be able to explain prototypal chain from instance to its ‘class’ and ‘class’ parent</h3><h3 id="Be-able-to-develop-in-OOP-style-using-prototypal-inheritance-pattern"><a href="#Be-able-to-develop-in-OOP-style-using-prototypal-inheritance-pattern" class="headerlink" title="Be able to develop in OOP style using prototypal inheritance pattern"></a>Be able to develop in OOP style using prototypal inheritance pattern</h3><h3 id="instanceof-operator"><a href="#instanceof-operator" class="headerlink" title="[instanceof] operator"></a>[instanceof] operator</h3><h3 id="Be-able-to-use-instanceof-operator"><a href="#Be-able-to-use-instanceof-operator" class="headerlink" title="Be able to use [instanceof] operator"></a>Be able to use [instanceof] operator</h3><h3 id="Know-how-instanceof-operator-works"><a href="#Know-how-instanceof-operator-works" class="headerlink" title="Know how [instanceof] operator works"></a>Know how [instanceof] operator works</h3><h2 id="Regular-Expressions-Advanced"><a href="#Regular-Expressions-Advanced" class="headerlink" title="Regular Expressions Advanced"></a>Regular Expressions Advanced</h2><h3 id="Ranges"><a href="#Ranges" class="headerlink" title="Ranges"></a>Ranges</h3><h3 id="Grouping"><a href="#Grouping" class="headerlink" title="Grouping"></a>Grouping</h3><h3 id="Greedy-and-lazy-search"><a href="#Greedy-and-lazy-search" class="headerlink" title="Greedy and lazy search"></a>Greedy and lazy search</h3><h3 id="Replacements"><a href="#Replacements" class="headerlink" title="Replacements"></a>Replacements</h3><h2 id="Strict-mode"><a href="#Strict-mode" class="headerlink" title="Strict mode"></a>Strict mode</h2><h3 id="Strict-mode-activation"><a href="#Strict-mode-activation" class="headerlink" title="Strict mode activation"></a>Strict mode activation</h3><h3 id="Strict-mode-limitations"><a href="#Strict-mode-limitations" class="headerlink" title="Strict mode limitations"></a>Strict mode limitations</h3>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> l1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css l1</title>
      <link href="/2019/05/14/grow/css/css-l1/"/>
      <url>/2019/05/14/grow/css/css-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Basic-knowledge"><a href="#Basic-knowledge" class="headerlink" title="Basic knowledge"></a>Basic knowledge</h2><h3 id="Syntax-properties-and-capabilities-etc"><a href="#Syntax-properties-and-capabilities-etc" class="headerlink" title="Syntax, properties and capabilities etc."></a>Syntax, properties and capabilities etc.</h3><h2 id="Pseudo-class-and-pseudo-elements"><a href="#Pseudo-class-and-pseudo-elements" class="headerlink" title="Pseudo-class and pseudo-elements"></a>Pseudo-class and pseudo-elements</h2><h3 id="Special-states-and-parts-of-elements"><a href="#Special-states-and-parts-of-elements" class="headerlink" title="Special states and parts of elements"></a>Special states and parts of elements</h3><h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><h3 id="Specificity-inheritance-cascade-rules-CSS3-extension-selector-attributes"><a href="#Specificity-inheritance-cascade-rules-CSS3-extension-selector-attributes" class="headerlink" title="Specificity, inheritance, cascade rules, CSS3 extension, selector attributes"></a>Specificity, inheritance, cascade rules, CSS3 extension, selector attributes</h3><h2 id="Units"><a href="#Units" class="headerlink" title="Units"></a>Units</h2><h3 id="Relative-and-Absolute-Units-em-px-pt-etc"><a href="#Relative-and-Absolute-Units-em-px-pt-etc" class="headerlink" title="Relative and Absolute Units (em, %, px, pt etc.)"></a>Relative and Absolute Units (em, %, px, pt etc.)</h3><h2 id="Block-document-model-and-display"><a href="#Block-document-model-and-display" class="headerlink" title="Block document model and display"></a>Block document model and display</h2><h3 id="Standard-and-box-block-model"><a href="#Standard-and-box-block-model" class="headerlink" title="Standard and box block model"></a>Standard and box block model</h3><h3 id="Display-property"><a href="#Display-property" class="headerlink" title="Display property"></a>Display property</h3><h2 id="CSS3-Animation-and-Transformation"><a href="#CSS3-Animation-and-Transformation" class="headerlink" title="CSS3: Animation and Transformation"></a>CSS3: Animation and Transformation</h2><h3 id="Transition-key-frames-transformation-rotation-scaling-blend-mode"><a href="#Transition-key-frames-transformation-rotation-scaling-blend-mode" class="headerlink" title="Transition, key frames, transformation, rotation, scaling , blend mode"></a>Transition, key frames, transformation, rotation, scaling , blend mode</h3><h2 id="CSS3-Media-Queries"><a href="#CSS3-Media-Queries" class="headerlink" title="CSS3: Media Queries"></a>CSS3: Media Queries</h2><h3 id="Syntax-and-declaration-types-features-properties-operators-usage"><a href="#Syntax-and-declaration-types-features-properties-operators-usage" class="headerlink" title="Syntax and declaration, types, features/properties, operators, usage"></a>Syntax and declaration, types, features/properties, operators, usage</h3><h2 id="CSS3-Visual-effects"><a href="#CSS3-Visual-effects" class="headerlink" title="CSS3: Visual effects"></a>CSS3: Visual effects</h2><h3 id="Shadows-rounded-corners-gradients-filters-etc"><a href="#Shadows-rounded-corners-gradients-filters-etc" class="headerlink" title="Shadows, rounded corners, gradients, filters etc."></a>Shadows, rounded corners, gradients, filters etc.</h3><h2 id="CSS3-Web-Typography"><a href="#CSS3-Web-Typography" class="headerlink" title="CSS3: Web Typography"></a>CSS3: Web Typography</h2><h3 id="Web-safe-fonts-custom-web-fonts-font-formats-icon-fonts-font-face-font-generators-services-etc"><a href="#Web-safe-fonts-custom-web-fonts-font-formats-icon-fonts-font-face-font-generators-services-etc" class="headerlink" title="Web safe fonts, custom web fonts, font formats, icon fonts, font-face, font generators/services etc."></a>Web safe fonts, custom web fonts, font formats, icon fonts, font-face, font generators/services etc.</h3><h2 id="Positioning"><a href="#Positioning" class="headerlink" title="Positioning"></a>Positioning</h2><h3 id="Document-flow"><a href="#Document-flow" class="headerlink" title="Document flow"></a>Document flow</h3><h3 id="Position-properties"><a href="#Position-properties" class="headerlink" title="Position properties"></a>Position properties</h3><h3 id="Overflow-and-z-index"><a href="#Overflow-and-z-index" class="headerlink" title="Overflow and z-index"></a>Overflow and z-index</h3><h2 id="CSS3-Flexbox"><a href="#CSS3-Flexbox" class="headerlink" title="CSS3: Flexbox"></a>CSS3: Flexbox</h2><h3 id="Flex-layout-axis-directions-flexibility-order-alignment"><a href="#Flex-layout-axis-directions-flexibility-order-alignment" class="headerlink" title="Flex layout, axis, directions, flexibility, order, alignment"></a>Flex layout, axis, directions, flexibility, order, alignment</h3>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> l1 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>html l1</title>
      <link href="/2019/05/14/grow/html/html-l1/"/>
      <url>/2019/05/14/grow/html/html-l1/</url>
      
        <content type="html"><![CDATA[<h2 id="Document-Type-Definition"><a href="#Document-Type-Definition" class="headerlink" title="Document Type Definition"></a>Document Type Definition</h2><h3 id="Doctype-element-HTML-and-XHTML-syntax-differences"><a href="#Doctype-element-HTML-and-XHTML-syntax-differences" class="headerlink" title="Doctype element, HTML and XHTML syntax differences"></a>Doctype element, HTML and XHTML syntax differences</h3><h3 id="Browser-modes"><a href="#Browser-modes" class="headerlink" title="Browser modes"></a>Browser modes</h3><h2 id="Layout-and-text-formatting-tags"><a href="#Layout-and-text-formatting-tags" class="headerlink" title="Layout and text formatting tags"></a>Layout and text formatting tags</h2><h3 id="Layout-tags"><a href="#Layout-tags" class="headerlink" title="Layout tags"></a>Layout tags</h3><h3 id="HTML-5-structural-and-semantic-tags"><a href="#HTML-5-structural-and-semantic-tags" class="headerlink" title="HTML 5 structural and semantic tags"></a>HTML 5 structural and semantic tags</h3><h3 id="Formatting-tags-bold-italic-upper-lower-cases-and-etc"><a href="#Formatting-tags-bold-italic-upper-lower-cases-and-etc" class="headerlink" title="Formatting tags: bold, italic, upper, lower cases and etc."></a>Formatting tags: bold, italic, upper, lower cases and etc.</h3><h2 id="Metadata-Styles-Scripts"><a href="#Metadata-Styles-Scripts" class="headerlink" title="Metadata, Styles, Scripts"></a>Metadata, Styles, Scripts</h2><h3 id="Meta-tags-and-page-encoding"><a href="#Meta-tags-and-page-encoding" class="headerlink" title="Meta tags and page encoding"></a>Meta tags and page encoding</h3><h3 id="Add-inline-styles-include-internal-and-external-CSS"><a href="#Add-inline-styles-include-internal-and-external-CSS" class="headerlink" title="Add inline styles, include internal and external CSS"></a>Add inline styles, include internal and external CSS</h3><h3 id="Include-internal-and-external-Script"><a href="#Include-internal-and-external-Script" class="headerlink" title="Include internal and external Script"></a>Include internal and external Script</h3><h3 id="Meta-viewport-property"><a href="#Meta-viewport-property" class="headerlink" title="Meta viewport property"></a>Meta viewport property</h3><h2 id="Page-structure"><a href="#Page-structure" class="headerlink" title="Page structure"></a>Page structure</h2><h3 id="Root-HTML-tags"><a href="#Root-HTML-tags" class="headerlink" title="Root HTML tags"></a>Root HTML tags</h3><h3 id="Tree-model"><a href="#Tree-model" class="headerlink" title="Tree model"></a>Tree model</h3><h3 id="Basic-HTML-elements-headers-listings-links-rare-tags-and-etc"><a href="#Basic-HTML-elements-headers-listings-links-rare-tags-and-etc" class="headerlink" title="Basic HTML elements: headers, listings, links, rare tags and etc."></a>Basic HTML elements: headers, listings, links, rare tags and etc.</h3><h3 id="HTML-tag-attributes"><a href="#HTML-tag-attributes" class="headerlink" title="HTML tag attributes"></a>HTML tag attributes</h3><h2 id="Table-Form-Input-Tags"><a href="#Table-Form-Input-Tags" class="headerlink" title="Table, Form, Input Tags"></a>Table, Form, Input Tags</h2><h3 id="Table-layout-tags"><a href="#Table-layout-tags" class="headerlink" title="Table layout tags"></a>Table layout tags</h3><h3 id="Table-attributes"><a href="#Table-attributes" class="headerlink" title="Table attributes"></a>Table attributes</h3><h3 id="Form-tags-and-attributes"><a href="#Form-tags-and-attributes" class="headerlink" title="Form tags and attributes"></a>Form tags and attributes</h3><h3 id="Input-types"><a href="#Input-types" class="headerlink" title="Input types"></a>Input types</h3><h3 id="HTML-5-input-types"><a href="#HTML-5-input-types" class="headerlink" title="HTML 5 input types"></a>HTML 5 input types</h3>]]></content>
      
      
      
        <tags>
            
            <tag> l1 </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>class</title>
      <link href="/2019/05/13/js/class/"/>
      <url>/2019/05/13/js/class/</url>
      
        <content type="html"><![CDATA[<h2 id="Class-declaration"><a href="#Class-declaration" class="headerlink" title="Class declaration"></a>Class declaration</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(height, width) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">    <span class="keyword">this</span>.width = width;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>A <code>class expression</code> is another way to define a class. Class expressions can be named or unnamed. </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// unnamed</span></span><br><span class="line"><span class="keyword">let</span> Rectangle = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(height, width) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">    <span class="keyword">this</span>.width = width;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(Rectangle.name);</span><br><span class="line"><span class="comment">// output: "Rectangle"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// named</span></span><br><span class="line"><span class="keyword">let</span> Rectangle = <span class="class"><span class="keyword">class</span> <span class="title">Rectangle2</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(height, width) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">    <span class="keyword">this</span>.width = width;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(Rectangle.name);</span><br><span class="line"><span class="comment">// output: "Rectangle2"</span></span><br></pre></td></tr></table></figure><h2 id="Understand-difference-between-class-and-function-constructor"><a href="#Understand-difference-between-class-and-function-constructor" class="headerlink" title="Understand difference between [class] and function constructor"></a>Understand difference between [class] and function constructor</h2><p>An important difference between function declarations and class declarations is that function declarations are <strong>hoisted</strong> and class declarations are not. You first need to declare your class and then access it, otherwise code like the following will throw a ReferenceError:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> Rectangle(); <span class="comment">// ReferenceError</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="Understand-difference-between-class-and-function-constructor-1"><a href="#Understand-difference-between-class-and-function-constructor-1" class="headerlink" title="Understand difference between [class] and function constructor"></a>Understand difference between [class] and function constructor</h2><p>The <code>constructor</code> method is a special method for creating and initializing an object created with a class. There can only be one special method with the name “constructor” in a class. A <code>SyntaxError</code> will be thrown if the class contains more than one occurrence of a <code>constructor</code> method.</p><p>A constructor can use the <code>super</code> keyword to call the constructor of the super class.</p><h2 id="Understand-difference-between-method-and-class-method"><a href="#Understand-difference-between-method-and-class-method" class="headerlink" title="Understand difference between method and [class] method"></a>Understand difference between method and [class] method</h2><h3 id="Prototype-methods"><a href="#Prototype-methods" class="headerlink" title="Prototype methods"></a>Prototype methods</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(height, width) &#123;</span><br><span class="line">    <span class="keyword">this</span>.height = height;</span><br><span class="line">    <span class="keyword">this</span>.width = width;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Getter</span></span><br><span class="line">  <span class="keyword">get</span> area() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.calcArea();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Method</span></span><br><span class="line">  calcArea() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.height * <span class="keyword">this</span>.width;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> square = <span class="keyword">new</span> Rectangle(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(square.area); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure><h3 id="Static-methods"><a href="#Static-methods" class="headerlink" title="Static methods"></a>Static methods</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x;</span><br><span class="line">    <span class="keyword">this</span>.y = y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> distance(a, b) &#123;</span><br><span class="line">    <span class="keyword">const</span> dx = a.x - b.x;</span><br><span class="line">    <span class="keyword">const</span> dy = a.y - b.y;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.hypot(dx, dy);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> Point(<span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> Point(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Point.distance(p1, p2)); <span class="comment">// 7.0710678118654755</span></span><br></pre></td></tr></table></figure><h2 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h2><p>The <code>extends</code> keyword is used in class declarations or class expressions to create a class as a child of another class.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123; </span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  speak() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> makes a noise.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name); <span class="comment">// call the super class constructor and pass in the name parameter</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  speak() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> barks.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> Dog(<span class="string">'Mitzie'</span>);</span><br><span class="line">d.speak(); <span class="comment">// Mitzie barks.</span></span><br></pre></td></tr></table></figure><h2 id="Getter-setter"><a href="#Getter-setter" class="headerlink" title="Getter/setter"></a>Getter/setter</h2><p>The <code>get</code> syntax binds an object property to a function that will be called when that property is looked up.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  log: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>],</span><br><span class="line">  <span class="keyword">get</span> latest() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.log.length == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.log[<span class="keyword">this</span>.log.length - <span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.latest);</span><br><span class="line"><span class="comment">// expected output: "c"</span></span><br></pre></td></tr></table></figure><p>The <code>set</code> syntax binds an object property to a function to be called when there is an attempt to set that property.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> language = &#123;</span><br><span class="line">  <span class="keyword">set</span> current(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.log.push(name);</span><br><span class="line">  &#125;,</span><br><span class="line">  log: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">language.current = <span class="string">'EN'</span>;</span><br><span class="line">language.current = <span class="string">'FA'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(language.log);</span><br><span class="line"><span class="comment">// expected output: Array ["EN", "FA"]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Array built-in methods</title>
      <link href="/2019/05/13/js/Array-built-in-methods/"/>
      <url>/2019/05/13/js/Array-built-in-methods/</url>
      
        <content type="html"><![CDATA[<h2 id="how-to-copy-array"><a href="#how-to-copy-array" class="headerlink" title="how to copy array"></a>how to copy array</h2><h3 id="simple-way"><a href="#simple-way" class="headerlink" title="simple way"></a>simple way</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sheeps = [<span class="string">'🐑'</span>, <span class="string">'🐑'</span>, <span class="string">'🐑'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Old way</span></span><br><span class="line"><span class="keyword">const</span> cloneSheeps = sheeps.slice();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 way</span></span><br><span class="line"><span class="keyword">const</span> cloneSheepsES6 = [...sheeps];</span><br></pre></td></tr></table></figure><h3 id="built-in-way"><a href="#built-in-way" class="headerlink" title="built-in way"></a>built-in way</h3><p>The <code>Array.from()</code> method creates a new, shallow-copied <code>Array</code> instance from an array-like or iterable object.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">'foo'</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["f", "o", "o"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x + x));</span><br><span class="line"><span class="comment">// expected output: Array [2, 4, 6]</span></span><br></pre></td></tr></table></figure><h3 id="Why-Can’t-I-Use-to-Copy-an-Array"><a href="#Why-Can’t-I-Use-to-Copy-an-Array" class="headerlink" title="Why Can’t I Use = to Copy an Array?"></a>Why Can’t I Use <code>=</code> to Copy an Array?</h3><p>Because arrays in JS are reference values, so when you try to copy it using the <code>=</code> it will only copy the reference to the original array and not the value of the array.</p><p>To create a real copy of an array, you need to copy over the value of the array under a new value variable. That way this new array does not reference to the old array address in memory.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sheeps = [<span class="string">'🐑'</span>, <span class="string">'🐑'</span>, <span class="string">'🐑'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fakeSheeps = sheeps;</span><br><span class="line"><span class="keyword">const</span> cloneSheeps = [...sheeps];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sheeps === fakeSheeps);</span><br><span class="line"><span class="comment">// true --&gt; it's pointing to the same memory space</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sheeps === cloneSheeps);</span><br><span class="line"><span class="comment">// false --&gt; it's pointing to a new memory space</span></span><br></pre></td></tr></table></figure><h2 id="how-to-copy-array-part"><a href="#how-to-copy-array-part" class="headerlink" title="how to copy array part"></a>how to copy array part</h2><p>The <code>slice()</code> method returns a shallow copy of a portion of an array into a new array object selected from begin to end (end not included). The original array will not be modified.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animals = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'elephant'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck", "elephant"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["camel", "duck"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">1</span>, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: Array ["bison", "camel", "duck", "elephant"]</span></span><br></pre></td></tr></table></figure><h2 id="how-to-modify-array"><a href="#how-to-modify-array" class="headerlink" title="how to modify array"></a>how to modify array</h2><h2 id="how-to-sort-Array"><a href="#how-to-sort-Array" class="headerlink" title="how to sort Array"></a>how to sort Array</h2><p><code>Array.sort()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> months = [<span class="string">'March'</span>, <span class="string">'Jan'</span>, <span class="string">'Feb'</span>, <span class="string">'Dec'</span>];</span><br><span class="line">months.sort();</span><br><span class="line"><span class="built_in">console</span>.log(months);</span><br><span class="line"><span class="comment">// expected output: Array ["Dec", "Feb", "Jan", "March"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> array1 = [<span class="number">1</span>, <span class="number">30</span>, <span class="number">4</span>, <span class="number">21</span>, <span class="number">100000</span>];</span><br><span class="line">array1.sort();</span><br><span class="line"><span class="built_in">console</span>.log(array1);</span><br><span class="line"><span class="comment">// expected output: Array [1, 100000, 21, 30, 4]</span></span><br></pre></td></tr></table></figure><h2 id="Be-able-to-custom-sorting-for-Array"><a href="#Be-able-to-custom-sorting-for-Array" class="headerlink" title="Be able to custom sorting for Array"></a>Be able to custom sorting for Array</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a is less than b by some ordering criterion) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (a is greater than b by the ordering criterion) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// a must be equal to b</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Example: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>];</span><br><span class="line">numbers.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(numbers);</span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><h2 id="Be-able-to-filter-Array-elements"><a href="#Be-able-to-filter-Array-elements" class="headerlink" title="Be able to filter Array elements"></a>Be able to filter Array elements</h2><p>The <code>filter()</code> method creates a new array with all elements that pass the test implemented by the provided function.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> words = [<span class="string">'spray'</span>, <span class="string">'limit'</span>, <span class="string">'elite'</span>, <span class="string">'exuberant'</span>, <span class="string">'destruction'</span>, <span class="string">'present'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = words.filter(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// expected output: Array ["exuberant", "destruction", "present"]</span></span><br></pre></td></tr></table></figure><h2 id="Several-method-how-to-iterate-Array-elements"><a href="#Several-method-how-to-iterate-Array-elements" class="headerlink" title="Several method how to iterate Array elements"></a>Several method how to iterate Array elements</h2><ul><li><p>Basic For Loop</p></li><li><p>Lodash forEach</p></li><li><p>The <code>forEach()</code> method executes a provided function once for each array element.</p></li><li><p>The <code>map()</code> method creates a new array with the results of calling a provided function on every element in the calling array.</p></li><li><p>The <code>entries()</code> method returns a new Array Iterator object that contains the key/value pairs for each index in the array.</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[this] scope</title>
      <link href="/2019/05/13/js/this-scope/"/>
      <url>/2019/05/13/js/this-scope/</url>
      
        <content type="html"><![CDATA[<h2 id="Global-Scope"><a href="#Global-Scope" class="headerlink" title="Global Scope"></a>Global Scope</h2><p>In a browser, the global scope is the <code>window</code> object.</p><p>if in your code you simply have: <code>var x = 9;</code> You’re actually setting the property <code>window.x</code> to 9 (when working in a browser). You could type <code>window.x = 9</code>;</p><h2 id="Local-Scope"><a href="#Local-Scope" class="headerlink" title="Local Scope"></a>Local Scope</h2><p>JavaScript scopes at a function level.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p>If you declare a variable &amp; forget to use the <code>var</code> keyword, that variable is automatically made global. So this code would work:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">x = <span class="number">5</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">//5</span></span><br></pre></td></tr></table></figure><h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p><code>this</code> is a variable that is automatically set for you when a function is invoked. </p><p>Depending on how a function is invoked, <code>this</code> is set differently:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//global object</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">myapp = &#123;&#125;;</span><br><span class="line">myapp.foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//points to myapp object</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> link = <span class="built_in">document</span>.getElementById(<span class="string">"myId"</span>);</span><br><span class="line">link.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//points to link</span></span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><h3 id="在函数内部时，this由函数怎么调用来确定。"><a href="#在函数内部时，this由函数怎么调用来确定。" class="headerlink" title="在函数内部时，this由函数怎么调用来确定。"></a>在函数内部时，<code>this</code>由函数怎么调用来确定。</h3><h4 id="Simple-call"><a href="#Simple-call" class="headerlink" title="Simple call"></a>Simple call</h4><p>简单调用，即独立函数调用。由于<code>this</code>没有通过<code>call</code>来指定，且<code>this</code>必须指向对象，那么默认就指向全局对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f1() === <span class="built_in">window</span>; <span class="comment">// global object</span></span><br></pre></td></tr></table></figure><p>在严格模式下，<code>this</code>保持进入execution context时被设置的值。如果没有设置，那么默认是<code>undefined</code>。它可以被设置为任意值(<strong>包括<code>null/undefined/1</code>等等基础值，不会被转换成对象</strong>)。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">  "use strict"</span>; <span class="comment">// see strict mode</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f2() === <span class="literal">undefined</span>;</span><br></pre></td></tr></table></figure><h4 id="Arrow-functions"><a href="#Arrow-functions" class="headerlink" title="Arrow functions"></a>Arrow functions</h4><p>在箭头函数中，<code>this</code>由词法/静态作用域设置（set lexically）。它被设置为包含它的execution context的<code>this</code>，并且不再被调用方式影响（call/apply/bind）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> globalObject = <span class="keyword">this</span>;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="function">(<span class="params">(</span>) =&gt;</span> <span class="keyword">this</span>);</span><br><span class="line"><span class="built_in">console</span>.log(foo() === globalObject); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Call as a method of a object</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">foo</span>: foo&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.foo() === globalObject); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Attempt to set this using call</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.call(obj) === globalObject); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Attempt to set this using bind</span></span><br><span class="line">foo = foo.bind(obj);</span><br><span class="line"><span class="built_in">console</span>.log(foo() === globalObject); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="As-an-object-method"><a href="#As-an-object-method" class="headerlink" title="As an object method"></a>As an object method</h4><p>当函数作为对象方法调用时，<code>this</code>指向该对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  prop: <span class="number">37</span>,</span><br><span class="line">  f: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.prop;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(o.f()); <span class="comment">// logs 37</span></span><br></pre></td></tr></table></figure><p><code>this</code> on the object’s prototype chain</p><p>原型链上的方法根对象方法一样，作为对象方法调用时<code>this</code>指向该对象。</p><h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>在构造函数（函数用<code>new</code>调用）中，<code>this</code>指向要被constructed的新对象。</p><h4 id="call和apply"><a href="#call和apply" class="headerlink" title="call和apply"></a>call和apply</h4><p><code>Function.prototype</code>上的<code>call</code>和<code>apply</code>可以指定函数运行时的<code>this</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">c, d</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b + c + d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">3</span>&#125;;</span><br><span class="line">add.call(o, <span class="number">5</span>, <span class="number">7</span>); <span class="comment">// 1 + 3 + 5 + 7 = 16</span></span><br><span class="line">add.apply(o, [<span class="number">10</span>, <span class="number">20</span>]); <span class="comment">// 1 + 3 + 10 + 20 = 34</span></span><br></pre></td></tr></table></figure><p>注意，当用<code>call</code>和<code>apply</code>而传进去作为<code>this</code>的不是对象时，将会调用内置的<code>ToObject</code>操作转换成对象。所以4将会装换成<code>new Number(4)</code>，而<code>null/undefined</code>由于无法转换成对象，全局对象将作为<code>this</code>。</p><h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><p>ES5引进了<code>Function.prototype.bind</code>。<code>f.bind(someObject)</code>会创建新的函数（函数体和作用域与原函数一致），但<code>this</code>被永久绑定到<code>someObject</code>，不论你怎么调用。</p><h4 id="As-a-DOM-event-handler"><a href="#As-a-DOM-event-handler" class="headerlink" title="As a DOM event handler"></a>As a DOM event handler</h4><p><code>this</code>自动设置为触发事件的dom元素。</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://juejin.im/post/59aa71d56fb9a0248d24fae3" target="_blank" rel="noopener">从这两套题，重新认识JS的this、作用域、闭包、对象</a><br><a href="https://github.com/creeperyang/blog/issues/16" target="_blank" rel="noopener">深入理解JS中声明提升、作用域（链）和<code>this</code>关键字</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> this </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Parameters &amp; Arguments in JavaScript</title>
      <link href="/2019/05/13/js/Parameters-Arguments-in-JavaScript/"/>
      <url>/2019/05/13/js/Parameters-Arguments-in-JavaScript/</url>
      
        <content type="html"><![CDATA[<p><a href="https://codeburst.io/parameters-arguments-in-javascript-eb1d8bd0ef04" target="_blank" rel="noopener">link</a></p><ul><li>Parameters are variables listed as a part of the function definition.</li><li>Arguments are values passed to the function when it is invoked.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Basic function with three parameters that logs the sum of all the parameters</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">argCheck</span>(<span class="params">parameter1, parameter2, parameter3</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(parameter1 + parameter2 + parameter3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function with extra arguments</span></span><br><span class="line">argCheck(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="comment">// Logs 6 (1 + 2 + 3, ignores 4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Function with missing arguments</span></span><br><span class="line">argCheck(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">// Logs NaN because by default if a corresponding argument is missing, it is set to undefined. </span></span><br><span class="line"><span class="comment">// parameter3 is assigned undefined and so 1+2+undefined = NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Note that, no error is thrown</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">argumentVar</span>(<span class="params">parameter1, parameter2, parameter3</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length); <span class="comment">// Logs the number of arguments passed.</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">3</span>]); <span class="comment">// Logs the 4th argument. Follows array indexing notations. </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">argumentVar(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"><span class="comment">// Log would be as follows</span></span><br><span class="line"><span class="comment">// 5</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5 is the number of arguments</span></span><br><span class="line"><span class="comment">// 4 is the 4th argument</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">restParam</span>(<span class="params">parameter1, ...restArgs</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(restArgs.length); <span class="comment">// Logs the number of arguments that do not have a corresponding parameter</span></span><br><span class="line">  <span class="built_in">console</span>.log(restArgs[<span class="number">2</span>]); <span class="comment">// Logs the 3rd argument after the number of arguments that do not have a corresponding parameter</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">restParam(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"><span class="comment">// Log would be as follows</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4 is the number of arguments that do not have a corresponding parameter</span></span><br><span class="line"><span class="comment">// 4 is the 4th 3rd argument after the number of arguments that do not have a corresponding parameter</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Auto data type conversion</title>
      <link href="/2019/05/10/js/Auto-data-type-conversion/"/>
      <url>/2019/05/10/js/Auto-data-type-conversion/</url>
      
        <content type="html"><![CDATA[<h2 id="自动转换为布尔值"><a href="#自动转换为布尔值" class="headerlink" title="自动转换为布尔值"></a>自动转换为布尔值</h2><p>JavaScript 遇到预期为布尔值的地方（比如<code>if</code>语句的条件部分），就会将非布尔值的参数自动转换为布尔值。系统内部会自动调用<code>Boolean</code>函数。</p><p>因此除了以下五个值，其他都是自动转为<code>true</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="literal">null</span></span><br><span class="line">+<span class="number">0</span>或<span class="number">-0</span></span><br><span class="line"><span class="literal">NaN</span></span><br><span class="line"><span class="string">''</span>（空字符串）</span><br></pre></td></tr></table></figure><p>下面两种写法，有时也用于将一个表达式转为布尔值。它们内部调用的也是<code>Boolean</code>函数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法一</span></span><br><span class="line">expression ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line">!! expression</span><br></pre></td></tr></table></figure><h2 id="自动转换为字符串"><a href="#自动转换为字符串" class="headerlink" title="自动转换为字符串"></a>自动转换为字符串</h2><p>JavaScript 遇到预期为字符串的地方，就会将非字符串的值自动转为字符串。具体规则是，先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串。</p><p>字符串的自动转换，主要发生在字符串的加法运算时。当一个值为字符串，另一个值为非字符串，则后者转为字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'5'</span> + <span class="number">1</span> <span class="comment">// '51'</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">true</span> <span class="comment">// "5true"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">false</span> <span class="comment">// "5false"</span></span><br><span class="line"><span class="string">'5'</span> + &#123;&#125; <span class="comment">// "5[object Object]"</span></span><br><span class="line"><span class="string">'5'</span> + [] <span class="comment">// "5"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125; <span class="comment">// "5function ()&#123;&#125;"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">undefined</span> <span class="comment">// "5undefined"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">null</span> <span class="comment">// "5null"</span></span><br></pre></td></tr></table></figure><h2 id="自动转换为数值"><a href="#自动转换为数值" class="headerlink" title="自动转换为数值"></a>自动转换为数值</h2><p>JavaScript 遇到预期为数值的地方，就会将参数值自动转换为数值。系统内部会自动调用<code>Number</code>函数。</p><p>除了加法运算符（+）有可能把运算子转为字符串，其他运算符都会把运算子自动转成数值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'5'</span> - <span class="string">'2'</span> <span class="comment">// 3</span></span><br><span class="line"><span class="string">'5'</span> * <span class="string">'2'</span> <span class="comment">// 10</span></span><br><span class="line"><span class="literal">true</span> - <span class="number">1</span>  <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> - <span class="number">1</span> <span class="comment">// -1</span></span><br><span class="line"><span class="string">'1'</span> - <span class="number">1</span>   <span class="comment">// 0</span></span><br><span class="line"><span class="string">'5'</span> * []    <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> / <span class="string">'5'</span> <span class="comment">// 0</span></span><br><span class="line"><span class="string">'abc'</span> - <span class="number">1</span>   <span class="comment">// NaN</span></span><br><span class="line"><span class="literal">null</span> + <span class="number">1</span> <span class="comment">// 1</span></span><br><span class="line"><span class="literal">undefined</span> + <span class="number">1</span> <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：<code>null</code>转为数值时为0，而<code>undefined</code>转为数值时为<code>NaN</code>。</p><p>一元运算符也会把运算子转成数值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+<span class="string">'abc'</span> <span class="comment">// NaN</span></span><br><span class="line">-<span class="string">'abc'</span> <span class="comment">// NaN</span></span><br><span class="line">+<span class="literal">true</span> <span class="comment">// 1</span></span><br><span class="line">-<span class="literal">false</span> <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>提权Hoisting</title>
      <link href="/2019/05/10/js/%E6%8F%90%E6%9D%83Hoisting/"/>
      <url>/2019/05/10/js/%E6%8F%90%E6%9D%83Hoisting/</url>
      
        <content type="html"><![CDATA[<p>Hoisting is JavaScript’s default behavior of moving all declarations to the top of the current scope (to the top of the current script or the current function).</p><h2 id="Declarations-are-Hoisted"><a href="#Declarations-are-Hoisted" class="headerlink" title="Declarations are Hoisted"></a>Declarations are Hoisted</h2><h3 id="var"><a href="#var" class="headerlink" title="var"></a>var</h3><p>Hoisted</p><h3 id="The-let-and-const-Keywords"><a href="#The-let-and-const-Keywords" class="headerlink" title="The let and const Keywords"></a>The let and const Keywords</h3><p>Variables and constants declared with let or const are <font color="red">not hoisted!</font></p><h2 id="Initializations-are-Not-Hoisted"><a href="#Initializations-are-Not-Hoisted" class="headerlink" title="Initializations are Not Hoisted"></a>Initializations are Not Hoisted</h2><p>JavaScript only hoists declarations, not initializations.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> y;</span><br><span class="line"><span class="built_in">console</span>.log(y); <span class="comment">// undefined</span></span><br><span class="line">y = <span class="number">7</span>;</span><br></pre></td></tr></table></figure><p>This is because only the declaration (<code>var y</code>), not the initialization (<code>=7</code>) is hoisted to the top.</p><p>Because of hoisting, <code>y</code> has been declared before it is used, but because initializations are not hoisted, the value of <code>y</code> is undefined.</p><p><a href="https://juejin.im/post/5b0238f66fb9a07aca7a74ba" target="_blank" rel="noopener">ES6 系列之 let 和 const</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js Primitive Data Types</title>
      <link href="/2019/05/10/js/js-Primitive-Data-Types/"/>
      <url>/2019/05/10/js/js-Primitive-Data-Types/</url>
      
        <content type="html"><![CDATA[<p>These six types are considered to be primitives. A primitive is not an object and has no methods of its own. All primitives are immutable.</p><ul><li>Boolean — true or false</li><li>Null — no value</li><li>Undefined — a declared variable but hasn’t been given a value</li><li>Number — integers, floats, etc</li><li>String — an array of characters i.e words</li><li>Symbol — a unique value that’s not equal to any other value</li></ul><p>Everything else is an Object type.</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js Objects</title>
      <link href="/2019/05/10/js/js-Objects/"/>
      <url>/2019/05/10/js/js-Objects/</url>
      
        <content type="html"><![CDATA[<h2 id="Object-Literal"><a href="#Object-Literal" class="headerlink" title="Object Literal"></a>Object Literal</h2><p>A JavaScript object literal is a comma-separated list of name-value pairs wrapped in curly braces. Object literals encapsulate data, enclosing it in a tidy package.</p><p>an example object literal:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    sProp: <span class="string">'some string value'</span>,</span><br><span class="line">    numProp: <span class="number">2</span>,</span><br><span class="line">    bProp: <span class="literal">false</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>Object literal property values can be of any data type, including array literals, functions, and nested object literals.</p><h3 id="Object-Literal-Syntax"><a href="#Object-Literal-Syntax" class="headerlink" title="Object Literal Syntax"></a>Object Literal Syntax</h3><p>Object literals are defined using the following syntax rules:</p><ul><li>A colon separates property name from value.</li><li>A comma separates each name-value pair from the next.</li><li>There should be no comma after the last name-value pair.</li></ul><h2 id="several-ways-how-to-create-object"><a href="#several-ways-how-to-create-object" class="headerlink" title="several ways how to create object"></a>several ways how to create object</h2><p>Objects can be initialized using <code>new Object()</code>, <code>Object.create()</code>, or using the literal notation (initializer notation). </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using the Object() constructor:</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using Object.create() method:</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using the bracket's syntactig sugar:</span></span><br><span class="line"><span class="keyword">var</span> b = &#123;&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using a function constructor</span></span><br><span class="line"><span class="keyword">var</span> Obj = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> Obj(<span class="string">"hello"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using the function constructor + prototype:</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myObj</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">myObj.prototype.name = <span class="string">"hello"</span>;</span><br><span class="line"><span class="keyword">var</span> k = <span class="keyword">new</span> myObj();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using ES6 class syntax:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myObject</span>  </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> e = <span class="keyword">new</span> myObject(<span class="string">"hello"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Singleton pattern:</span></span><br><span class="line"><span class="keyword">var</span> l = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> object </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>function declaration/expression differences</title>
      <link href="/2019/05/10/js/function-declaration-expression-differences/"/>
      <url>/2019/05/10/js/function-declaration-expression-differences/</url>
      
        <content type="html"><![CDATA[<ul><li><p>Function <strong>declarations</strong> load before any code is executed.</p></li><li><p>Function <strong>expressions</strong> load only when the interpreter reaches that line of code.</p></li></ul><p>So if you try to call a function expression before it’s loaded, you’ll get an error! If you call a function declaration instead, it’ll always work, because no code can be called until all declarations are loaded.</p><p>Example: Function Expression</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(foo()); <span class="comment">// ERROR! foo wasn't loaded yet</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">5</span>; &#125;</span><br></pre></td></tr></table></figure><p>Example: Function Declaration</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alert(foo()); <span class="comment">// Alerts 5. Declarations are loaded before any code can run.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">5</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="Function-Declaration"><a href="#Function-Declaration" class="headerlink" title="Function Declaration"></a>Function Declaration</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p>Because of function hoisting, the function declared this way can be called both after and before the definition.</p><h2 id="Function-Expression"><a href="#Function-Expression" class="headerlink" title="Function Expression"></a>Function Expression</h2><ol><li>Named Function Expression</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>Anonymous Function Expression</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><p><code>foo()</code> can be called only after creation.</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>operators and loops</title>
      <link href="/2019/05/10/js/operators-and-loops/"/>
      <url>/2019/05/10/js/operators-and-loops/</url>
      
        <content type="html"><![CDATA[<h2 id="operators"><a href="#operators" class="headerlink" title="operators"></a>operators</h2><p><code>i++</code> 优先级高于 <code>++i</code></p><h2 id="loops"><a href="#loops" class="headerlink" title="loops"></a>loops</h2><h3 id="differences"><a href="#differences" class="headerlink" title="differences"></a>differences</h3><ul><li>A <code>for</code> loop is used when you know the number of iterations the loop needs to make. </li><li>A <code>while</code> loop can be used when you need your loop to run an unknown number of times until a specific condition is met. </li><li><code>for/in</code> - loops through the properties of an object. <code>while</code> - loops through a block of code while a specified condition is true. <code>do/while</code> - loops through a block of code once, and then repeats the loop while a specified condition is true.</li></ul><h2 id="skip-loops"><a href="#skip-loops" class="headerlink" title="skip loops"></a>skip loops</h2><ul><li><p>The <code>break</code> statement “jumps out” of a loop.</p></li><li><p>The <code>continue</code> statement “jumps over” one iteration in the loop.</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>difference between arrow and usual functions</title>
      <link href="/2019/05/10/js/difference-between-arrow-and-usual-functions/"/>
      <url>/2019/05/10/js/difference-between-arrow-and-usual-functions/</url>
      
        <content type="html"><![CDATA[<p>引入箭头函数有两个方面的作用：更简短的函数并且不绑定<code>this</code>。</p><h2 id="不绑定this"><a href="#不绑定this" class="headerlink" title="不绑定this"></a>不绑定<code>this</code></h2><p>在箭头函数出现之前，每个新定义的函数都有它自己的 <code>this</code>值（在构造函数的情况下是一个新对象，在严格模式的函数调用中为 <code>undefined</code>，如果该函数被作为“对象方法”调用则为基础对象等）。</p><p>箭头函数不会创建自己的<code>this</code>,它只会从自己的作用域链的上一层继承<code>this</code>。</p><ul><li>箭头函数不绑定<code>Arguments</code> 对象</li><li>箭头函数没有定义<code>this</code>绑定</li><li>箭头函数不能用作构造器，和 <code>new</code>一起用会抛出错误。</li><li>箭头函数没有<code>prototype</code>属性。</li><li><code>yield</code> 关键字通常不能在箭头函数中使用（除非是嵌套在允许使用的函数内）。因此，箭头函数不能用作生成器。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>var let const</title>
      <link href="/2019/05/10/js/var-let-const/"/>
      <url>/2019/05/10/js/var-let-const/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.usejournal.com/scoping-with-var-let-const-c0060135e09d" target="_blank" rel="noopener">Scoping with var, let &amp; const</a><br><a href="https://tylermcginnis.com/var-let-const/" target="_blank" rel="noopener">var vs let vs const in JavaScript</a></p><h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><ul><li><code>var</code> has <strong>functional</strong> scope not block scope</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(bar);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// ReferenceError: bar is not defined</span></span><br></pre></td></tr></table></figure><p>variables defined with var keyword are not block scoped</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(bar);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// prints hello</span></span><br></pre></td></tr></table></figure><ul><li>Variables declared with var keyword are hoisted.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(bar);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// prints undefined</span></span><br></pre></td></tr></table></figure><p>The variable bar defined inside if block is visible to the outside block but within the function foo’s scope. This is because the JavaScript engine read the above code as following:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> bar; <span class="comment">// hoisted the declaration but not assignment</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    bar = <span class="string">'hello'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(bar); <span class="comment">// undefined but no reference error</span></span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// prints undefined</span></span><br></pre></td></tr></table></figure><ul><li>Variables defined with var keywords can be redeclared in the same scope</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> bar = <span class="string">'hello'</span>;</span><br><span class="line"> <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">   <span class="keyword">var</span> bar = <span class="string">'hi'</span>; <span class="comment">// no error !! replaced easily</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">console</span>.log(bar);</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// prints hi</span></span><br></pre></td></tr></table></figure><h2 id="let-amp-const"><a href="#let-amp-const" class="headerlink" title="let &amp; const"></a>let &amp; const</h2><ul><li>Variables declared with <code>let</code> &amp; <code>const</code> keyword are visible only inside the <strong>block</strong> in which it’s defined.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> baz = <span class="string">'hi'</span>;</span><br><span class="line">    <span class="keyword">let</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(baz, bar); <span class="comment">// prints hello hi</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(baz, bar); <span class="comment">// ReferenceError: baz is not defined</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><ul><li>Variables declared with <code>let</code> &amp; <code>const</code> keyword are <strong>not</strong> subjected to hoisting.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(bar); <span class="comment">// ReferenceError: bar is not defined</span></span><br><span class="line">  <span class="keyword">let</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><ul><li>Variables defined with <code>let</code> &amp; <code>const</code> keywords <strong>cannot</strong> be redeclared in the same block scope.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">  <span class="keyword">const</span> bar = <span class="string">'hi'</span>;</span><br><span class="line">&#125;</span><br><span class="line">foo(); <span class="comment">// SyntaxError: Identifier 'bar' has already been declared</span></span><br></pre></td></tr></table></figure><p>But a variable can be redeclared in function scope, given its declared within a <strong>different</strong> block scope.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> bar = <span class="string">'hello'</span>;</span><br><span class="line">  <span class="keyword">if</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> bar = <span class="string">'hi'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(bar); <span class="comment">// prints hi</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(bar); <span class="comment">// prints hello </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Able-to-explain-dead-zone-concept-for-let"><a href="#Able-to-explain-dead-zone-concept-for-let" class="headerlink" title="Able to explain dead zone concept for [let]"></a>Able to explain dead zone concept for [let]</h2><p><a href="https://stackoverflow.com/questions/33198849/what-is-the-temporal-dead-zone" target="_blank" rel="noopener">stackoverflow</a></p><p>accessing let and const values before they are initialized can cause a ReferenceError because of something called the temporal dead zone.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(aVar); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(aLet); <span class="comment">// causes ReferenceError: aLet is not defined</span></span><br><span class="line"><span class="keyword">var</span> aVar = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> aLet = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><blockquote><p>It appears from these examples that <code>let</code> declarations (and <code>const</code>, which works the same way) may not be hoisted, since <code>aLet</code> does not appear to exist before it is assigned a value.</p></blockquote><blockquote><p>That is not the case, however—<code>let</code> and <code>const</code> are <strong>hoisted</strong> (like <code>var</code>, <code>class</code> and <code>function</code>), but there is a period between entering scope and being declared where they cannot be accessed. This period is the <strong>temporal dead zone</strong> (TDZ).</p></blockquote><blockquote><p>The TDZ ends when <code>aLet</code> is declared, rather than assigned:</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> and <span class="keyword">const</span> have two broad differences <span class="keyword">from</span> <span class="keyword">var</span>:</span><br><span class="line"></span><br><span class="line">They are block scoped.</span><br><span class="line">Accessing a <span class="keyword">var</span> before it is declared has the result <span class="literal">undefined</span>; accessing a <span class="keyword">let</span> or <span class="keyword">const</span> before it is declared throws <span class="built_in">ReferenceError</span>:</span><br><span class="line"><span class="built_in">console</span>.log(aVar); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(aLet); <span class="comment">// causes ReferenceError: aLet is not defined</span></span><br><span class="line"><span class="keyword">var</span> aVar = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> aLet = <span class="number">2</span>;</span><br><span class="line"> Run code snippetExpand snippet</span><br><span class="line">It appears <span class="keyword">from</span> these examples that <span class="keyword">let</span> declarations (and <span class="keyword">const</span>, which works the same way) may not be hoisted, since aLet does not appear to exist before it is assigned a value.</span><br><span class="line"></span><br><span class="line">That is not the <span class="keyword">case</span>, however—<span class="keyword">let</span> and <span class="keyword">const</span> are hoisted (like <span class="keyword">var</span>, <span class="class"><span class="keyword">class</span> <span class="title">and</span> <span class="title">function</span>), <span class="title">but</span> <span class="title">there</span> <span class="title">is</span> <span class="title">a</span> <span class="title">period</span> <span class="title">between</span> <span class="title">entering</span> <span class="title">scope</span> <span class="title">and</span> <span class="title">being</span> <span class="title">declared</span> <span class="title">where</span> <span class="title">they</span> <span class="title">cannot</span> <span class="title">be</span> <span class="title">accessed</span>. <span class="title">This</span> <span class="title">period</span> <span class="title">is</span> <span class="title">the</span> <span class="title">temporal</span> <span class="title">dead</span> <span class="title">zone</span> (<span class="title">TDZ</span>).</span></span><br><span class="line"><span class="class"></span></span><br><span class="line">The TDZ ends when aLet is declared, rather than assigned:</span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(aLet)  // would throw ReferenceError</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> aLet;</span><br><span class="line"><span class="built_in">console</span>.log(aLet); <span class="comment">// undefined</span></span><br><span class="line">aLet = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(aLet); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><p>This example shows that <code>let</code> is hoisted:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="string">'outer value'</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// start TDZ for x</span></span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">  <span class="keyword">let</span> x = <span class="string">'inner value'</span>; <span class="comment">// declaration ends TDZ for x</span></span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><p>Accessing <code>x</code> in the inner scope still causes a <code>ReferenceError</code>. If <code>let</code> were not hoisted, it would log <code>outer value</code>.</p><p>The TDZ is a good thing because it helps to highlight bugs—accessing a value before it has been declared is rarely intentional.</p><p><a href="https://juejin.im/post/5b0238f66fb9a07aca7a74ba" target="_blank" rel="noopener">ES6 系列之 let 和 const</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js Arrays</title>
      <link href="/2019/05/10/js/js-Arrays/"/>
      <url>/2019/05/10/js/js-Arrays/</url>
      
        <content type="html"><![CDATA[<h2 id="Array-literals"><a href="#Array-literals" class="headerlink" title="Array literals"></a>Array literals</h2><p>array literal notation is where you define a new array using just empty brackets.<code>var myArray = [];</code></p><p>It is the “new” way of defining arrays, and I suppose it is shorter/cleaner.</p><p>The examples below explain the difference between them:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [],            <span class="comment">// these are the same</span></span><br><span class="line">b = <span class="keyword">new</span> <span class="built_in">Array</span>(),   <span class="comment">// a and b are arrays with length 0</span></span><br><span class="line"></span><br><span class="line">c = [<span class="string">'foo'</span>, <span class="string">'bar'</span>],           <span class="comment">// these are the same</span></span><br><span class="line">d = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'foo'</span>, <span class="string">'bar'</span>),  <span class="comment">// c and d are arrays with 2 strings</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// these are different:</span></span><br><span class="line">e = [<span class="number">3</span>],             <span class="comment">// e.length == 1, e[0] == 3</span></span><br><span class="line">f = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">3</span>);   <span class="comment">// f.length == 3, f[0] == undefined</span></span><br></pre></td></tr></table></figure><h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><ul><li>forEach</li><li>map</li><li>push // add to the end</li><li>unshift // add to the front</li><li>pop // remove from the end</li><li>shift // remove from the front</li><li>splice // remove</li><li>slice // sub array</li></ul><h2 id="Array-length"><a href="#Array-length" class="headerlink" title="Array.length"></a><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length" target="_blank" rel="noopener">Array.length</a></h2><h3 id="how-Array-length-property-works"><a href="#how-Array-length-property-works" class="headerlink" title="how Array length property works"></a>how Array length property works</h3><ul><li>Reading the length</li></ul><p>1) For a dense array, this means that the length corresponds strictly to the number of elements:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">'orange'</span>, <span class="string">'apple'</span>, <span class="string">'banana'</span>]; <span class="comment">//fruits is a dense array  </span></span><br><span class="line">fruits.length <span class="comment">// prints 3, the real count of elements</span></span><br><span class="line"></span><br><span class="line">fruits.push(<span class="string">'mango'</span>);  </span><br><span class="line">fruits.length <span class="comment">// prints 4, one element was added</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> empty = [];  </span><br><span class="line">empty.length <span class="comment">// prints 0, empty array</span></span><br></pre></td></tr></table></figure><p>The dense array does not have empties and the number of items corresponds to highestIndex + 1. In [3, 5, 7, 8] the highest index is 3 of element 8, thus the array size is 3 + 1 = 4.</p><p>2) In a sparse array (which has empties), the number of elements does not correspond to length value, but still is determined by the highest index:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animals = [<span class="string">'cat'</span>, <span class="string">'dog'</span>, , <span class="string">'monkey'</span>]; <span class="comment">// animals is sparse  </span></span><br><span class="line">animals.length <span class="comment">// prints 4, but real number of elements is 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> words = [<span class="string">'hello'</span>];  </span><br><span class="line">words[<span class="number">6</span>] = <span class="string">'welcome'</span>; <span class="comment">//the highest index is 6. words is sparse  </span></span><br><span class="line">words.length <span class="comment">//prints 7, based on highest index</span></span><br></pre></td></tr></table></figure><ul><li>Modifying the length</li></ul><p>1) Modifying the property leads to cut the elements (if the new value is smaller than the highest index):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">numbers.length = <span class="number">3</span>; <span class="comment">// modify the array length  </span></span><br><span class="line">numbers <span class="comment">// prints [1, 3, 5], elements 7 and 8 are removed</span></span><br></pre></td></tr></table></figure><p>2) or creating a sparse array (if the new value is bigger than the highest index):</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> osTypes = [<span class="string">'OS X'</span>, <span class="string">'Linux'</span>, <span class="string">'Windows'</span>];</span><br><span class="line"></span><br><span class="line">osTypes.length = <span class="number">5</span>; <span class="comment">// creating a sparse array. Elements at indexes 3 and 4  </span></span><br><span class="line">                    <span class="comment">// do not exist</span></span><br><span class="line"></span><br><span class="line">osTypes <span class="comment">// prints ['OS X', 'Linux', 'Windows', , , ]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flexbox</title>
      <link href="/2019/05/09/css/flexbox/"/>
      <url>/2019/05/09/css/flexbox/</url>
      
        <content type="html"><![CDATA[<h3 id="Parent-Element-Container"><a href="#Parent-Element-Container" class="headerlink" title="Parent Element (Container)"></a>Parent Element (Container)</h3><p>The flex container becomes flexible by setting the display property to flex:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flex-container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The flex container properties are:</p><ul><li>flex-direction<ul><li>row</li><li>row-reverse</li><li>column</li><li>column-reverse</li></ul></li><li>flex-wrap<ul><li>nowrap</li><li>wrap</li><li>wrap-reverse</li></ul></li></ul><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/flex-wrap.png" alt></p><ul><li>flex-flow</li></ul><p>The flex-flow property is a shorthand property for: flex-direction, flex-wrap</p><ul><li>order</li></ul><p>The order CSS property sets the order to lay out an item in a flex or grid container. Items in a container are sorted by ascending order value and then by their source code order.</p><ul><li>justify-content</li><li>align-items</li><li>align-content</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>positioning</title>
      <link href="/2019/05/09/css/positioning/"/>
      <url>/2019/05/09/css/positioning/</url>
      
        <content type="html"><![CDATA[<h2 id="Document-flow"><a href="#Document-flow" class="headerlink" title="Document flow"></a><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Normal_Flow" target="_blank" rel="noopener">Document flow</a></h2><p>By default, a block level element’s content is 100% of the width of its parent element, and as tall as its content. Inline elements are as tall as their content, and as wide as their content. You can’t set width or height on inline elements — they just sit inside the content of block level elements. If you want to control the size of an inline element in this manner, you need to set it to behave like a block level element with display: block; (or even,display: inline-block; which mixes characteristics from both.)</p><h2 id="Position-properties"><a href="#Position-properties" class="headerlink" title="Position properties"></a><a href="https://www.w3schools.com/css/css_positioning.asp" target="_blank" rel="noopener">Position properties</a></h2><ul><li>static</li><li>relative</li><li>fixed</li><li>absolute</li><li>sticky</li></ul><h2 id="Overflow"><a href="#Overflow" class="headerlink" title="Overflow"></a>Overflow</h2><ul><li>visible - Default. The overflow is not clipped. The content renders outside the element’s box</li><li>hidden - The overflow is clipped, and the rest of the content will be invisible</li><li>scroll - The overflow is clipped, and a scrollbar is added to see the rest of the content</li><li>auto - Similar to scroll, but it adds scrollbars only when necessary</li></ul><h2 id="z-index"><a href="#z-index" class="headerlink" title="z-index"></a>z-index</h2><p>The z-index property specifies the stack order of an element.</p><p>An element with greater stack order is always in front of an element with a lower stack order.</p><p><strong>Note</strong>: z-index only works on positioned elements (position: absolute, position: relative, position: fixed, or position: sticky).</p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web typography</title>
      <link href="/2019/05/09/css/web-typography/"/>
      <url>/2019/05/09/css/web-typography/</url>
      
        <content type="html"><![CDATA[<h2 id="web-safe-fonts"><a href="#web-safe-fonts" class="headerlink" title="web safe fonts"></a><a href="https://www.w3schools.com/cssref/css_websafe_fonts.asp" target="_blank" rel="noopener">web safe fonts</a></h2><p>The font-family property should hold several font names as a “fallback” system, to ensure maximum compatibility between browsers/operating systems. If the browser does not support the first font, it tries the next font.</p><p>Start with the font you want, and end with a generic family, to let the browser pick a similar font in the generic family, if no other fonts are available:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">"Times New Roman"</span>, Times, serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="custom-web-fonts"><a href="#custom-web-fonts" class="headerlink" title="custom web fonts"></a><a href="https://stackoverflow.com/questions/12144000/using-custom-fonts-using-css" target="_blank" rel="noopener">custom web fonts</a></h2><p>Generically, you can use a custom font using @font-face in your CSS. Here’s a very basic example:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'YourFontName'</span>; <span class="comment">/*a name to be used later*/</span></span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'http://domain.com/fonts/font.ttf'</span>); <span class="comment">/*URL to font*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then, trivially, to use the font on a specific element:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.classname</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'YourFontName'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="font-formats"><a href="#font-formats" class="headerlink" title="font formats"></a>font formats</h2><ul><li>TrueType Fonts (TTF)</li></ul><p>TrueType is a font standard developed in the late 1980s, by Apple and Microsoft. TrueType is the most common font format for both the Mac OS and Microsoft Windows operating systems.</p><ul><li>OpenType Fonts (OTF)</li></ul><p>OpenType is a format for scalable computer fonts. It was built on TrueType, and is a registered trademark of Microsoft. OpenType fonts are used commonly today on the major computer platforms.</p><ul><li>The Web Open Font Format (WOFF)</li></ul><p>WOFF is a font format for use in web pages. It was developed in 2009, and is now a W3C Recommendation. WOFF is essentially OpenType or TrueType with compression and additional metadata. The goal is to support font distribution from a server to a client over a network with bandwidth constraints.</p><ul><li>The Web Open Font Format (WOFF 2.0)</li></ul><p>TrueType/OpenType font that provides better compression than WOFF 1.0.</p><ul><li>SVG Fonts/Shapes</li></ul><p>SVG fonts allow SVG to be used as glyphs when displaying text. The SVG 1.1 specification define a font module that allows the creation of fonts within an SVG document. You can also apply CSS to SVG documents, and the @font-face rule can be applied to text in SVG documents.</p><ul><li>Embedded OpenType Fonts (EOT)</li></ul><p>EOT fonts are a compact form of OpenType fonts designed by Microsoft for use as embedded fonts on web pages.</p><h2 id="icon-fonts"><a href="#icon-fonts" class="headerlink" title="icon fonts"></a>icon fonts</h2><p>Icon fonts are fonts that contain symbols and glyphs instead of letters or numbers. </p><h2 id="font-face"><a href="#font-face" class="headerlink" title="font-face"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face" target="_blank" rel="noopener">font-face</a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>visual effects</title>
      <link href="/2019/05/09/css/visual-effects/"/>
      <url>/2019/05/09/css/visual-effects/</url>
      
        <content type="html"><![CDATA[<h2 id="shadow"><a href="#shadow" class="headerlink" title="shadow"></a>shadow</h2><h3 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h3><h3 id="text-shadow"><a href="#text-shadow" class="headerlink" title="text-shadow"></a>text-shadow</h3><h2 id="rounded-corners"><a href="#rounded-corners" class="headerlink" title="rounded corners"></a>rounded corners</h2><ul><li>border-radius</li></ul><h2 id="gradients"><a href="#gradients" class="headerlink" title="gradients"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Images/Using_CSS_gradients" target="_blank" rel="noopener">gradients</a></h2><ul><li>linear-gradients</li><li>radial-gradient</li></ul><h2 id="filters"><a href="#filters" class="headerlink" title="filters"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter" target="_blank" rel="noopener">filters</a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Media queries</title>
      <link href="/2019/05/09/css/Media-queries/"/>
      <url>/2019/05/09/css/Media-queries/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries" target="_blank" rel="noopener">mdn</a></p><p><strong>Media queries</strong> let you adapt your site or app depending on the presence or value of various device characteristics and parameters.</p><p>They are a key component of responsive design. For example, a media query can shrink the font size on small devices, increase the padding between paragraphs when a page is viewed in portrait mode, or bump up the size of buttons on touchscreens.</p><p>In CSS, use the <code>@media</code> at-rule to conditionally apply part of a style sheet based on the result of a media query. Use <code>@import</code> to conditionally apply an entire style sheet.</p><h2 id="Using-media-queries"><a href="#Using-media-queries" class="headerlink" title="Using media queries"></a><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" target="_blank" rel="noopener">Using media queries</a></h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Set the background color of body to tan */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: tan;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* On screens that are 992px or less, set the background color to blue */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">992px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* On screens that are 600px or less, set the background color to olive */</span></span><br><span class="line">@<span class="keyword">media</span> screen and (max-width: <span class="number">600px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: olive;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Media-types"><a href="#Media-types" class="headerlink" title="Media types"></a>Media types</h3><ul><li>all<br>Suitable for all devices.</li><li>print<br>Intended for paged material and documents viewed on a screen in print preview mode. (Please see paged media for information about formatting issues that are specific to these formats.)</li><li>screen<br>Intended primarily for screens.</li><li>speech<br>Intended for speech synthesizers.</li></ul><h3 id="Media-features"><a href="#Media-features" class="headerlink" title="Media features"></a>Media features</h3><p>width, height and etc.</p><h3 id="Logical-operators"><a href="#Logical-operators" class="headerlink" title="Logical operators"></a>Logical operators</h3><ul><li>and</li><li>not</li><li>only</li><li>,</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>blend mode</title>
      <link href="/2019/05/09/css/blend-mode/"/>
      <url>/2019/05/09/css/blend-mode/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/blend-mode" target="_blank" rel="noopener">mdn</a></p><p>The <code>&lt;blend-mode&gt;</code> CSS data type describes how colors should appear when elements overlap. It is used in the background-blend-mode and mix-blend-mode properties.</p><p>For each pixel among the layers to which it is applied, a blend mode takes the colors of the foreground and the background, perfoms a calculation on them, and returns a new color value.</p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>animation and transition</title>
      <link href="/2019/05/09/css/animation-and-transition/"/>
      <url>/2019/05/09/css/animation-and-transition/</url>
      
        <content type="html"><![CDATA[<h2 id="animation"><a href="#animation" class="headerlink" title="animation"></a>animation</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation" target="_blank" rel="noopener">mdn</a></p><p>The animation shorthand CSS property applies an animation between styles. It is a shorthand for <code>animation-name</code>, <code>animation-duration</code>, <code>animation-timing-function</code>, <code>animation-delay</code>, <code>animation-iteration-count</code>, <code>animation-direction</code>, <code>animation-fill-mode</code>, and <code>animation-play-state</code>.</p><h2 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition" target="_blank" rel="noopener">mdn</a></p><p>The transition CSS property is a shorthand property for <code>transition-property</code>, <code>transition-duration</code>, <code>transition-timing-function</code>, and <code>transition-delay</code>.</p><h2 id="keyframes"><a href="#keyframes" class="headerlink" title="@keyframes"></a>@keyframes</h2><p>The <strong>@keyframes</strong> CSS at-rule controls the intermediate steps in a CSS animation sequence by defining styles for keyframes (or waypoints) along the animation sequence. This gives more control over the intermediate steps of the animation sequence than transitions.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">keyframes</span> slidein &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300%</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="transformation"><a href="#transformation" class="headerlink" title="transformation"></a>transformation</h2><p>The <strong>transform</strong> CSS property lets you <code>rotate</code>, <code>scale</code>, <code>skew</code>, or <code>translate</code> an element. It modifies the coordinate space of the CSS visual formatting model.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Keyword values */</span></span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">none</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Function values */</span></span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">matrix</span>(1<span class="selector-class">.0</span>, 2<span class="selector-class">.0</span>, 3<span class="selector-class">.0</span>, 4<span class="selector-class">.0</span>, 5<span class="selector-class">.0</span>, 6<span class="selector-class">.0</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">matrix3d</span>(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translate</span>(12<span class="selector-tag">px</span>, 50%);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translate3d</span>(12<span class="selector-tag">px</span>, 50%, 3<span class="selector-tag">em</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateX</span>(2<span class="selector-tag">em</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateY</span>(3<span class="selector-tag">in</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateZ</span>(2<span class="selector-tag">px</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(2, 0<span class="selector-class">.5</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scale3d</span>(2<span class="selector-class">.5</span>, 1<span class="selector-class">.2</span>, 0<span class="selector-class">.3</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scaleX</span>(2);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scaleY</span>(0<span class="selector-class">.5</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">scaleZ</span>(0<span class="selector-class">.3</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotate</span>(0<span class="selector-class">.5turn</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotate3d</span>(1, 2<span class="selector-class">.0</span>, 3<span class="selector-class">.0</span>, 10<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotateX</span>(10<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotateY</span>(10<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">rotateZ</span>(10<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">skew</span>(30<span class="selector-tag">deg</span>, 20<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">skewX</span>(30<span class="selector-tag">deg</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">skewY</span>(1<span class="selector-class">.07rad</span>);</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">perspective</span>(17<span class="selector-tag">px</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Multiple function values */</span></span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translateX</span>(10<span class="selector-tag">px</span>) <span class="selector-tag">rotate</span>(10<span class="selector-tag">deg</span>) <span class="selector-tag">translateY</span>(5<span class="selector-tag">px</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The box model</title>
      <link href="/2019/05/09/css/The-box-model/"/>
      <url>/2019/05/09/css/The-box-model/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Box_model" target="_blank" rel="noopener">mdn</a></p><h2 id="box-model"><a href="#box-model" class="headerlink" title="box model"></a>box model</h2><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/box-model.png" alt></p><h2 id="Types-of-CSS-boxes"><a href="#Types-of-CSS-boxes" class="headerlink" title="Types of CSS boxes"></a>Types of CSS boxes</h2><p>The type of box applied to an element is specified by the <code>display</code> property. There are many different values available for display, but in this article we will focus on the three most common ones; <code>block</code>, <code>inline</code>, and <code>inline-block</code>.</p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS values and units</title>
      <link href="/2019/05/09/css/CSS-values-and-units/"/>
      <url>/2019/05/09/css/CSS-values-and-units/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Values_and_units" target="_blank" rel="noopener">MDN</a></p><ul><li>Numeric values: Length values for specifying e.g. element width, border thickness, or font size, and unitless integers for specifying e.g. relative line width or number of times to run an animation.</li><li>Percentages: Can also be used to specify size or length — relative to a parent container’s width or height for example, or the default font-size. These are often to facilitate responsive design (e.g. creating “liquid layouts”, which automatically adjust to fit on different screen sizes).</li><li>Colors: For specifying background colors, text colors, etc.</li><li>Functions: For specifying e.g. background images or background image gradients.</li></ul><p><strong>Pixels</strong> (px) are referred to as <strong>absolute units</strong> because they will always be the same size regardless of any other related settings. Other absolute units are as follows:</p><ul><li>q, mm, cm, in: Quarter millimeters, millimeters, centimeters, or inches.</li><li>pt, pc: Points (1/72 of an inch) or picas (12 points.)</li></ul><p>You probably won’t use any of these very often except pixels.</p><p>There are also <strong>relative units</strong>, which are relative to the current element’s <strong>font-siz</strong>e or <strong>viewport</strong> size:</p><ul><li>em: 1em is the same as the font-size of the current element. The default base font-size given to web pages by web browsers before CSS styling is applied is 16 pixels, which means the computed value of 1em is 16 pixels for an element by default. But beware — font sizes are inherited by elements from their parents, so if different font sizes have been set on parent elements, the pixel equivalent of an em can start to become complicated. Don’t worry too much about this for now — we’ll cover inheritance and font-sizing in more detail in later articles and modules. em are the most common relative unit you’ll use in web development.</li><li>ex, ch: Respectively these are the height of a lower case x, and the width of the number 0. These are not as commonly used or well-supported as em.</li><li>rem: The rem (root em) works in exactly the same way as the em, except that it will always equal the size of the default base font-size; inherited font sizes will have no effect, so this sounds like a much better option than em, although rems don’t work in older versions of Internet Explorer (see more about cross-browser support in Debugging CSS.)</li><li>vw, vh: Respectively these are 1/100th of the width of the viewport, and 1/100th of the height of the viewport. Again, these are not as widely supported as em.</li><li>%</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS selectors</title>
      <link href="/2019/05/09/css/CSS-selectors/"/>
      <url>/2019/05/09/css/CSS-selectors/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank" rel="noopener">MDN</a></p><h2 id="Simple-selectors"><a href="#Simple-selectors" class="headerlink" title="Simple selectors"></a>Simple selectors</h2><ul><li>Type selector<ul><li>Selects all elements that match the given node name.</li><li>Syntax: eltname</li><li>Example: input will match any <input> element.</li></ul></li><li>Class selector<ul><li>Selects all elements that have the given class attribute.</li><li>Syntax: .classname</li><li>Example: .index will match any element that has a class of “index”.</li></ul></li><li>ID selector<ul><li>Selects an element based on the value of its id attribute. There should be only one element with a given ID in a document.</li><li>Syntax: #idname</li><li>Example: #toc will match the element that has the ID “toc”.</li></ul></li><li>Universal selector<ul><li>Selects all elements. Optionally, it may be restricted to a specific namespace or to all namespaces.</li><li>Syntax: <em> ns|</em> <em>|</em></li><li>Example: * will match all the elements of the document.</li></ul></li><li>Attribute selector<ul><li>Selects elements based on the value of the given attribute.</li><li>Syntax: [attr] [attr=value] [attr~=value] [attr|=value] [attr^=value] [attr$=value] [attr*=value]</li><li>Example: [autoplay] will match all elements that have the autoplay attribute set (to any value).</li></ul></li></ul><h2 id="Combinators"><a href="#Combinators" class="headerlink" title="Combinators"></a>Combinators</h2><ul><li>Adjacent sibling combinator<ul><li>The + combinator selects adjacent siblings. This means that the second element directly follows the first, and both share the same parent.</li><li>Syntax: A + B</li><li>Example: h2 + p will match all <p> elements that directly follow an </p><h2>.</h2></li></ul></li><li>General sibling combinator<ul><li>The ~ combinator selects siblings. This means that the second element follows the first (though not necessarily immediately), and both share the same parent.</li><li>Syntax: A ~ B</li><li>Example: p ~ span will match all <span> elements that follow a <p>, immediately or not.</p></span></li></ul></li><li>Child combinator<ul><li>The &gt; combinator selects nodes that are direct children of the first element.</li><li>Syntax: A &gt; B</li><li>Example: ul &gt; li will match all </li><li> elements that are nested directly inside a <ul> element.</ul></li></ul></li><li>Descendant combinator<ul><li>The   (space) combinator selects nodes that are descendants of the first element.</li><li>Syntax: A B</li><li>Example: div span will match all <span> elements that are inside a <div> element.</div></span></li></ul></li><li>Column combinator <ul><li>The || combinator selects nodes which belong to a column.</li><li>Syntax: A || B</li><li>Example: col || td will match all <td> elements that belong to the scope of the <col>.</td></li></ul></li></ul><h2 id="Pseudo-classes"><a href="#Pseudo-classes" class="headerlink" title="Pseudo-classes"></a>Pseudo-classes</h2><p>Pseudo-classes allow the selection of elements based on state information that is not contained in the document tree.</p><ul><li>Example: a:visited will match all <a> elements that have been visited by the user.</a></li></ul><h2 id="Pseudo-elements"><a href="#Pseudo-elements" class="headerlink" title="Pseudo-elements"></a>Pseudo-elements</h2><p>Pseudo-elements represent entities that are not included in HTML.</p><ul><li>Example: p::first-line will match the first line of all <p> elements.</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pseudo-classes and pseudo-elements</title>
      <link href="/2019/05/09/css/Pseudo-classes-and-pseudo-elements/"/>
      <url>/2019/05/09/css/Pseudo-classes-and-pseudo-elements/</url>
      
        <content type="html"><![CDATA[<p><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Introduction_to_CSS/Pseudo-classes_and_pseudo-elements" target="_blank" rel="noopener">MDN</a></p><h2 id="Pseudo-classes"><a href="#Pseudo-classes" class="headerlink" title="Pseudo-classes"></a>Pseudo-classes</h2><p>A CSS <strong>pseudo-class</strong> is a keyword added to the end of a selector, preceded by a colon (:), which is used to specify that you want to style the selected element but only when it is in a certain state. For example, you might want to style a link element only when it is being hovered over by the mouse pointer, or a checkbox when it is disabled or checked, or an element that is the first child of its parent in the DOM tree.</p><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/pseudo-classes.png" alt></p><h2 id="Pseudo-elements"><a href="#Pseudo-elements" class="headerlink" title="Pseudo-elements"></a>Pseudo-elements</h2><p>Pseudo-elements are very much like pseudo-classes, but they have differences. They are keywords, this time preceded by two colons (::), that can be added to the end of selectors to select a certain part of an element.</p><ul><li>::after</li><li>::before</li><li>::first-letter</li><li>::first-line</li><li>::selection</li><li>::backdrop</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML table form input</title>
      <link href="/2019/05/09/html/HTML-table-form-input/"/>
      <url>/2019/05/09/html/HTML-table-form-input/</url>
      
        <content type="html"><![CDATA[<h2 id="Table-layout-tags"><a href="#Table-layout-tags" class="headerlink" title="Table layout tags"></a>Table layout tags</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout" target="_blank" rel="noopener">mdn</a></p><ul><li>Use the HTML <code>&lt;table&gt;</code> element to define a table</li><li>Use the HTML <code>&lt;tr&gt;</code> element to define a table row</li><li>Use the HTML <code>&lt;td&gt;</code> element to define a table data</li><li>Use the HTML <code>&lt;th&gt;</code> element to define a table heading</li><li>Use the HTML <code>&lt;caption&gt;</code> element to define a table caption</li><li>Use the CSS <code>border</code> property to define a border</li><li>Use the CSS <code>border-collapse</code> property to collapse cell borders</li><li>Use the CSS <code>padding</code> property to add padding to cells</li><li>Use the CSS <code>text-align</code> property to align cell text</li><li>Use the CSS <code>border-spacing</code> property to set the spacing between cells</li><li>Use the <code>colspan</code> attribute to make a cell span many columns</li><li>Use the <code>rowspan</code> attribute to make a cell span many rows</li><li>Use the <code>id</code> attribute to uniquely define one table</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Keyword values */</span></span><br><span class="line"><span class="selector-tag">table-layout</span>: <span class="selector-tag">auto</span>;</span><br><span class="line"><span class="selector-tag">table-layout</span>: <span class="selector-tag">fixed</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Global values */</span></span><br><span class="line"><span class="selector-tag">table-layout</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">table-layout</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">table-layout</span>: <span class="selector-tag">unset</span>;</span><br></pre></td></tr></table></figure><h2 id="Table-attributes"><a href="#Table-attributes" class="headerlink" title="Table attributes"></a>Table attributes</h2><ul><li>align</li><li>bgcolor</li><li>border</li><li>cellpadding</li><li>cellspacing</li></ul><h2 id="Form-tags-and-attributes"><a href="#Form-tags-and-attributes" class="headerlink" title="Form tags and attributes"></a>Form tags and attributes</h2><p>The <code>&lt;form&gt;</code> tag is used to create an HTML form for user input.</p><p>The <code>&lt;form&gt;</code> element can contain one or more of the following form elements:</p><ul><li><code>&lt;input&gt;</code></li><li><code>&lt;textarea&gt;</code></li><li><code>&lt;button&gt;</code></li><li><code>&lt;select&gt;</code></li><li><code>&lt;option&gt;</code></li><li><code>&lt;optgroup&gt;</code></li><li><code>&lt;fieldset&gt;</code></li><li><code>&lt;label&gt;</code></li><li><code>&lt;output&gt;</code></li></ul><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/form-attributes.png" alt></p><h2 id="Input-types"><a href="#Input-types" class="headerlink" title="Input types"></a>Input types</h2><p>The available types are as follows:</p><ul><li>button: A push button with no default behavior.</li><li>checkbox: A check box allowing single values to be selected/deselected.</li><li>color: <strong>HTML5</strong> A control for specifying a color. A color picker’s UI has no required features other than accepting simple colors as text (more info).</li><li>date: <strong>HTML5</strong> A control for entering a date (year, month, and day, with no time).</li><li>datetime-local: <strong>HTML5</strong> A control for entering a date and time, with no time zone.</li><li>email: <strong>HTML5</strong> A field for editing an e-mail address.</li><li>file: A control that lets the user select a file. Use the accept attribute to define the types of files that the control can select.</li><li>hidden: A control that is not displayed but whose value is submitted to the server.</li><li>image: A graphical submit button. You must use the src attribute to define the source of the image and the alt attribute to define alternative text. You can use the height and width attributes to define the size of the image in pixels.</li><li>month: <strong>HTML5</strong> A control for entering a month and year, with no time zone.</li><li>number: <strong>HTML5</strong> A control for entering a number.</li><li>password: A single-line text field whose value is obscured. Use the maxlength and minlength attributes to specify the maximum length of the value that can be entered.</li><li>Note: Any forms involving sensitive information like passwords (e.g. login forms) should be served over HTTPS; Firefox now implements multiple mechanisms to warn against insecure login forms — see Insecure passwords. Other browsers are also implementing similar mechanisms.</li><li>radio: A radio button, allowing a single value to be selected out of multiple choices.</li><li>range: <strong>HTML5</strong> A control for entering a number whose exact value is not important.</li><li>reset: A button that resets the contents of the form to default values.</li><li>search: <strong>HTML5</strong> A single-line text field for entering search strings. Line-breaks are automatically removed from the input value.</li><li>submit: A button that submits the form.</li><li>tel: <strong>HTML5</strong> A control for entering a telephone number.</li><li>text: A single-line text field. Line-breaks are automatically removed from the input value.</li><li>time: <strong>HTML5</strong> A control for entering a time value with no time zone.</li><li>url: <strong>HTML5</strong> A field for entering a URL.</li><li>week: <strong>HTML5</strong> A control for entering a date consisting of a week-year number and a week number with no time zone.</li></ul><p>Some input types are now obsolete:</p><ul><li>datetime: A control for entering a date and time (hour, minute, second, and fraction of a second) based on UTC time zone. This feature has been removed from WHATWG HTML.</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML DOM</title>
      <link href="/2019/05/09/html/HTML-DOM/"/>
      <url>/2019/05/09/html/HTML-DOM/</url>
      
        <content type="html"><![CDATA[<h2 id="The-HTML-DOM-Document-Object-Model"><a href="#The-HTML-DOM-Document-Object-Model" class="headerlink" title="The HTML DOM (Document Object Model)"></a>The HTML DOM (Document Object Model)</h2><p>When a web page is loaded, the browser creates a Document Object Model of the page.</p><p>The HTML DOM model is constructed as a tree of Objects:</p><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/htmltree.gif" alt></p><h2 id="What-is-the-HTML-DOM"><a href="#What-is-the-HTML-DOM" class="headerlink" title="What is the HTML DOM?"></a>What is the HTML DOM?</h2><p>The HTML DOM is a standard object model and programming interface for HTML. It defines:</p><ul><li>The HTML elements as objects</li><li>The properties of all HTML elements</li><li>The methods to access all HTML elements</li><li>The events for all HTML elements</li></ul><p>In other words: The HTML DOM is a standard for how to get, change, add, or delete HTML elements.</p>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Root HTML tags</title>
      <link href="/2019/05/09/html/Root-HTML-tags/"/>
      <url>/2019/05/09/html/Root-HTML-tags/</url>
      
        <content type="html"><![CDATA[<p>HTML Root Tags represent the main or the starting tag that should be present in all the HTML documents. The HTML tag is the first tag that comes after the &lt;!DOCTYPE&gt; tag and within which other HTML tags are specified. This tag allows the browser to identify the document type.</p><h2 id="Definition-and-Usage"><a href="#Definition-and-Usage" class="headerlink" title="Definition and Usage"></a>Definition and Usage</h2><p>The <code>&lt;html&gt;</code> tag tells the browser that this is an HTML document.</p><p>The <code>&lt;html&gt;</code> tag represents the root of an HTML document.</p><p>The <code>&lt;html&gt;</code> tag is the container for all other HTML elements (except for the <code>&lt;!DOCTYPE&gt;</code> tag).</p>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Understanding external, internal, and inline CSS styles</title>
      <link href="/2019/05/09/css/Understanding-external-internal-and-inline-CSS-styles/"/>
      <url>/2019/05/09/css/Understanding-external-internal-and-inline-CSS-styles/</url>
      
        <content type="html"><![CDATA[<p>Cascading Style Sheets (CSS) are files with styling rules that govern how your website is presented on screen. CSS rules can be applied to your website’s HTML files in various ways. You can use an <strong>external stylesheet</strong>, an <strong>internal stylesheet</strong>, or an <strong>inline style</strong>. Each method has advantages that suit particular uses.</p><p>An <strong>external stylesheet</strong> is a standalone .css file that is linked from a web page. The advantage of external stylesheets is that it can be created once and the rules applied to multiple web pages. Should you need to make widespread changes to your site design, you can make a single change in the stylesheet and it will be applied to all linked pages, saving time and effort.</p><p>An <strong>internal stylesheet</strong> holds CSS rules for the page in the <strong>head</strong> section of the HTML file. The rules only apply to that page, but you can configure CSS classes and IDs that can be used to style multiple elements in the page code. Again, a single change to the CSS rule will apply to all tagged elements on the page.</p><p><strong>Inline styles</strong> relate to a specific HTML tag, using a <strong>style</strong> attribute with a CSS rule to style a specific page element. They’re useful for quick, permanent changes, but are less flexible than external and internal stylesheets as each inline style you create must be separately edited should you decide to make a design change.</p><h2 id="Using-external-CSS-stylesheets"><a href="#Using-external-CSS-stylesheets" class="headerlink" title="Using external CSS stylesheets"></a>Using external CSS stylesheets</h2><p>An HTML page styled by an external CSS stylesheet must reference the .css file in the document head. Once created, the CSS file must be uploaded to your server and linked in the HTML file with code such as:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"style.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Using-internal-CSS-stylesheets"><a href="#Using-internal-CSS-stylesheets" class="headerlink" title="Using internal CSS stylesheets"></a>Using internal CSS stylesheets</h2><p>Rather than linking an external .css file, HTML files using an internal stylesheet include a set of rules in their <strong>head</strong> section. CSS rules are wrapped in <code>&lt;style&gt;</code> tags, like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    h1 &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>:<span class="selector-id">#fff</span></span></span><br><span class="line"><span class="undefined">            margin-left: 20px;</span></span><br><span class="line"><span class="undefined">       &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    p &#123;</span></span><br><span class="line"><span class="undefined">        font-family: Arial, Helvetica, Sans Serif;     </span></span><br><span class="line"><span class="undefined">       &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p>You can name your stylesheet whatever you wish, but it should have a .css file extension.</p><h2 id="Using-inline-styles"><a href="#Using-inline-styles" class="headerlink" title="Using inline styles"></a>Using inline styles</h2><p>Inline styles are applied directly to an element in your HTML code. They use the <strong>style</strong> attribute, followed by regular CSS properties.</p><p>For example:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">"color:red;margin-left:20px;"</span>&gt;</span>Today’s Update<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML meta tags</title>
      <link href="/2019/05/09/html/HTML-meta-tags/"/>
      <url>/2019/05/09/html/HTML-meta-tags/</url>
      
        <content type="html"><![CDATA[<h2 id="Definition-and-Usage"><a href="#Definition-and-Usage" class="headerlink" title="Definition and Usage"></a>Definition and Usage</h2><p>Metadata is data (information) about data.</p><p>The <code>&lt;meta&gt;</code> tag provides metadata about the HTML document. Metadata will not be displayed on the page, but will be machine parsable.</p><p>Meta elements are typically used to specify page description, keywords, author of the document, last modified, and other metadata.</p><p>The metadata can be used by browsers (how to display content or reload page), search engines (keywords), or other web services.</p><p>HTML5 introduced a method to let web designers take control over the viewport (the user’s visible area of a web page), through the <code>&lt;meta&gt;</code> tag (See “Setting The Viewport” example below).</p><h2 id="Tips-and-Notes"><a href="#Tips-and-Notes" class="headerlink" title="Tips and Notes"></a>Tips and Notes</h2><p><strong>Note</strong>: <code>&lt;meta&gt;</code> tags always go inside the <code>&lt;head&gt;</code> element.</p><p><strong>Note</strong>: Metadata is always passed as name/value pairs.</p><p><strong>Note</strong>: The content attribute MUST be defined if the name or the http-equiv attribute is defined. If none of these are defined, the content attribute CANNOT be defined.</p><h2 id="Differences-Between-HTML-4-01-and-HTML5"><a href="#Differences-Between-HTML-4-01-and-HTML5" class="headerlink" title="Differences Between HTML 4.01 and HTML5"></a>Differences Between HTML 4.01 and HTML5</h2><p>The scheme attribute is not supported in HTML5.</p><p>HTML5 has a new attribute, charset, which makes it easier to define charset:</p><ul><li>HTML 4.01: <code>&lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</code></li><li>HTML5: <code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code></li></ul><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>Example 1 - Define keywords for search engines:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">"HTML, CSS, XML, XHTML, JavaScript"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Example 2 - Define a description of your web page:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"Free Web tutorials on HTML and CSS"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Example 3 - Define the author of a page:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"John Doe"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Example 4 - Refresh document every 30 seconds:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"refresh"</span> <span class="attr">content</span>=<span class="string">"30"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Example 5 - Setting the viewport to make your website look good on all devices:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/meta.png" alt></p><h2 id="Viewport"><a href="#Viewport" class="headerlink" title="Viewport"></a>Viewport</h2><p><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag" target="_blank" rel="noopener">Using the viewport meta tag to control layout on mobile browsers</a></p><h3 id="What-is-The-Viewport"><a href="#What-is-The-Viewport" class="headerlink" title="What is The Viewport?"></a>What is The Viewport?</h3><p>The viewport is the user’s visible area of a web page.</p><p>The viewport varies with the device, and will be smaller on a mobile phone than on a computer screen.</p><p>Before tablets and mobile phones, web pages were designed only for computer screens, and it was common for web pages to have a static design and a fixed size.</p><p>Then, when we started surfing the internet using tablets and mobile phones, fixed size web pages were too large to fit the viewport. To fix this, browsers on those devices scaled down the entire web page to fit the screen.</p><h3 id="Setting-The-Viewport"><a href="#Setting-The-Viewport" class="headerlink" title="Setting The Viewport"></a>Setting The Viewport</h3><p>HTML5 introduced a method to let web designers take control over the viewport, through the <code>&lt;meta&gt;</code> tag.</p><p>You should include the following <code>&lt;meta&gt;</code> viewport element in all your web pages:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>A <code>&lt;meta&gt;</code> viewport element gives the browser instructions on how to control the page’s dimensions and scaling.</p><p>The width=device-width part sets the width of the page to follow the screen-width of the device (which will vary depending on the device).</p><p>The initial-scale=1.0 part sets the initial zoom level when the page is first loaded by the browser.</p><h3 id="Size-Content-to-The-Viewport"><a href="#Size-Content-to-The-Viewport" class="headerlink" title="Size Content to The Viewport"></a>Size Content to The Viewport</h3><p>Users are used to scroll websites vertically on both desktop and mobile devices - but not horizontally!</p><p>So, if the user is forced to scroll horizontally, or zoom out, to see the whole web page it results in a poor user experience.</p><p>Some additional rules to follow:</p><ol><li><p>Do NOT use large fixed width elements - For example, if an image is displayed at a width wider than the viewport it can cause the viewport to scroll horizontally. Remember to adjust this content to fit within the width of the viewport.</p></li><li><p>Do NOT let the content rely on a particular viewport width to render well - Since screen dimensions and width in CSS pixels vary widely between devices, content should not rely on a particular viewport width to render well.</p></li><li><p>Use CSS media queries to apply different styling for small and large screens - Setting large absolute CSS widths for page elements will cause the element to be too wide for the viewport on a smaller device. Instead, consider using relative width values, such as width: 100%. Also, be careful of using large absolute positioning values. It may cause the element to fall outside the viewport on small devices.</p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML Layout</title>
      <link href="/2019/05/09/html/HTML-Layout/"/>
      <url>/2019/05/09/html/HTML-Layout/</url>
      
        <content type="html"><![CDATA[<h2 id="HTML5-offers-new-semantic-elements-that-define-the-different-parts-of-a-web-page"><a href="#HTML5-offers-new-semantic-elements-that-define-the-different-parts-of-a-web-page" class="headerlink" title="HTML5 offers new semantic elements that define the different parts of a web page:"></a>HTML5 offers new semantic elements that define the different parts of a web page:</h2><p>HTML5 Semantic Elements    </p><ul><li><code>&lt;header&gt;</code> - Defines a header for a document or a section</li><li><code>&lt;nav&gt;</code> - Defines a container for navigation links</li><li><code>&lt;section&gt;</code> - Defines a section in a document</li><li><code>&lt;article&gt;</code> - Defines an independent self-contained article</li><li><code>&lt;aside&gt;</code> - Defines content aside from the content (like a sidebar)</li><li><code>&lt;footer&gt;</code> - Defines a footer for a document or a section</li><li><code>&lt;details&gt;</code> - Defines additional details</li><li><code>&lt;summary&gt;</code> - Defines a heading for the <code>&lt;details&gt;</code> element</li></ul><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/html%26css/html_layout.gif" alt></p><h2 id="HTML-Layout-Techniques"><a href="#HTML-Layout-Techniques" class="headerlink" title="HTML Layout Techniques"></a>HTML Layout Techniques</h2><p>There are five different ways to create multicolumn layouts. Each way has its pros and cons:</p><ul><li>HTML tables (not recommended)</li><li>CSS float property</li><li>CSS flexbox</li><li>CSS framework</li><li>CSS grid</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>browser modes</title>
      <link href="/2019/05/08/html/browser-modes/"/>
      <url>/2019/05/08/html/browser-modes/</url>
      
        <content type="html"><![CDATA[<h1 id="浏览器模式"><a href="#浏览器模式" class="headerlink" title="浏览器模式"></a>浏览器模式</h1><p>首先我们要知道，为什么会有这么多模式。其实这是个历史遗留问题，在浏览器大战时期，网景浏览器（Netscape Navigator）和微软的IE浏览器（Microsoft Internet Explorer）对网页分别有不同的实现方式，那个时候的网页要针对这两种浏览器分别开发不同的版本。而到了W3C制定标准之后，这些浏览器就不能继续使用这种页面了，因而会导致大部分现有站点都不能使用。基于这个原因，浏览器才引入两种模式来处理一些遗留的站点。</p><p><strong>现在的浏览器排版引擎支持三种模式：</strong></p><ol><li>怪异（Quirks）模式：在怪异模式中，排版引擎会模拟 网景4和Windows中的IE5的行为。</li><li>准标准（Almost Standards）：在准标准模式中，则只包含很少的一部分怪异模式中的行为。</li><li>标准（Standards）模式：在完全标准的模式中，会尽量执行HTML和CSS规范所指定的行为。</li></ol><p><strong>各主流浏览器对三种模式的描诉：</strong></p><ul><li>FireFox：<a href="https://developer.mozilla.org/en-US/docs/Mozilla&#39;s_DOCTYPE_sniffing" target="_blank" rel="noopener">Mozilla’s DOCTYPE sniffing</a></li><li>Opera：<a href="http://www.opera.com/docs/specs/doctype/" target="_blank" rel="noopener">DOCTYPE Switches support in Opera</a></li><li>IE：<a href="http://msdn.microsoft.com/en-us/library/cc288325(v=vs.85\" target="_blank" rel="noopener">Defining document compatibility</a>.aspx) (<a href="http://msdn.microsoft.com/zh-cn/library/cc288325(v=vs.85\" target="_blank" rel="noopener">中文</a>.aspx))</li></ul><hr><h2 id="模式详解"><a href="#模式详解" class="headerlink" title="模式详解"></a>模式详解</h2><h3 id="内容类型为text-html的模式"><a href="#内容类型为text-html的模式" class="headerlink" title="内容类型为text/html的模式"></a>内容类型为text/html的模式</h3><ol><li><p>怪异模式（Quirks Mode）</p><ul><li>怪异模式中，为了避免“破坏”那些根据在20世纪90年代末流行的实践创作的页面，浏览器违反了现代的Web格式规范。<br><br>不同的浏览器实现了不同的怪异行为。Internet Explorer6、7和8中，怪异模式有效地冻结在IE5.5 。其他浏览器中，怪异模式是对准标准模式的少量偏移。<br><br><strong>如果正在创作新网页，你应该符合相关的规范（特别是CSS2.1）且使用标准模式。</strong></li></ul></li><li><p>标准模式（Standards Mode）</p><ul><li>标准模式中，浏览器尝试给符合标准的文档在规范上的正确处理达到在指定浏览器中的程度。<br><br>不同的浏览器遵循不同的阶段，所以标准模式也不是一个单一目标。<br><br>HTML5把这种模式叫“非怪异模式（no quirks mode）”</li></ul></li><li><p>准标准模式（Almost Standards Mode）</p><ul><li>Firefox、Safari、Chrome、Opera(从7.5开始)和IE8也有个叫“准标准模式”的模式，它按照传统的做法来实现表格单元格的垂直尺寸而不是严格的遵照CSS2规范。<br><br>Mac IE5、Windows IE6和7、Opera7.5以前版本和Konqueror无需准标准模式，因为它们至少没有在各自的标准模式下严格遵循CSS2规范来实现表格单元格垂直尺寸。实际上，它们的标准模式更接近Mozilla的准标准模式而不是Mozilla的标准模式。<br><br>HTML5把这种模式叫着“受限怪异模式(limited quirks mode)”。</li></ul></li></ol><h3 id="内容类型为application-xhtml-xml的模式（XML模式）"><a href="#内容类型为application-xhtml-xml的模式（XML模式）" class="headerlink" title="内容类型为application/xhtml+xml的模式（XML模式）"></a>内容类型为application/xhtml+xml的模式（XML模式）</h3><ul><li><p>Firefox、Safari、Chrome和Opera中，application/xhtml+xml HTTP内容类型（不是meta元素也不是doctype!）会触发XML模式。<br><br>在XML模式中，浏览器尝试给XML文档在规范上的正确处理达到在制定浏览器中的程度。</p></li><li><p>IE6、7和8不支持application/xhtml+xml，Mac IE5也如此。</p></li></ul><h3 id="非Web模式（Non-Web-Modes）"><a href="#非Web模式（Non-Web-Modes）" class="headerlink" title="非Web模式（Non-Web Modes）"></a>非Web模式（Non-Web Modes）</h3><p>某些引擎拥有的模式与Web内容无关。<br><br>例如：Opera有个WML2.0模式。Leopard上的WebKit有个用于旧式Dashboard widgets的特定模式。</p><h2 id="模式的影响"><a href="#模式的影响" class="headerlink" title="模式的影响"></a>模式的影响</h2><h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><ol><li>text/html的模式主要是影响CSS布局。例如：<ul><li>怪异模式下表格不继承样式。</li><li>在某些浏览器的怪异模式下，盒模型（box model）变成IE5.5的盒模型。</li><li>在IE的怪异模式中，元素的width包含了padding和border，而标准模式中padding和border 并不属于宽度的一部分。</li><li><a href="http://meyerweb.com/eric/thoughts/2008/01/24/almost-target/" target="_blank" rel="noopener">最初的准标准模式</a>只会<a href="https://developer.mozilla.org/en-US/docs/Images,_Tables,_and_Mysterious_Gaps" target="_blank" rel="noopener">影响表格中的图像</a>（包含图片的表格单元格的高和标准模式中不同），而后来各个浏览器又或多或少地进行了修改。</li></ul></li><li>XML模式中，选择器有不同的区分大小写行为。此外，用于HTML body元素的特有规则不能应用在那些没有实现最新CSS2.1改变的较旧版本的浏览器。</li></ol><h3 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h3><p>也有一些怪异影响HTML和CSS的解析且会导致符合标准的网页被错误解析。了解怪异模式和标准模式在CSS布局和解析（非HTML解析）上的主要异同是非常重要的。</p><p>一些人错误地把标准模式称为“严格解析模式（strict parsing mode）”，其让人误解了浏览器强制执行HTML语法规则和用浏览器评估标记的正确性。情况并非如此。即使当标准模式布局生效时，浏览器依旧会做<a href="http://en.wikipedia.org/wiki/Tag_soup" target="_blank" rel="noopener">tag soup</a>修正工作。（在2000年Netscape6发布前，Mozilla的确有用于强制执行HTML语法规则的解析模式。这些模式和现有的Web内容不兼容而被遗弃。）</p><p>另一个常见的误解是关于XHTML解析的。通常认为用XHTML doctype得到不同的解析。其实并非如此，内容类型是text/html的XHTML文档所用解析器和HTML文档的是同一个。目前浏览器在意的是文档类型为text/html的XHTML仅是“tag soup with croutons”（额外的斜线，闭合”/&gt;”）。<br><br>仅当使用XML文档类型的文档（例如：application/xhtml+xml或xmapplication/）会触发XML模式来解析，这时的解析器完全不同于HTML解析器。</p><h3 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h3><p>虽然怪异模式主要是关于CSS的，但也有一些是关于脚本的。例如，Firefox的怪异模式中，HTML id 属性像在IE一样建立了全局脚本作用域的对象引用。IE8中关于脚本的影响比其他浏览器更值得关注。</p><p>XML模式中，某些DOM API的行为彻底不同，因为XML的DOM API行为被定义时不兼容HTML的行为。</p><h2 id="IE的模式"><a href="#IE的模式" class="headerlink" title="IE的模式"></a>IE的模式</h2><p>IE8有4种模式：IE5.5怪异模式、IE7标准模式、IE8准标准模式和IE8标准模式，<br><br>而IE9有7种模式：IE5.5怪异模式、IE7标准模式、IE8准标准模式、IE8标准模式、IE9准标准模式、IE9标准模式、XML模式。</p><h3 id="IE9的浏览器模式和文档模式"><a href="#IE9的浏览器模式和文档模式" class="headerlink" title="IE9的浏览器模式和文档模式"></a>IE9的浏览器模式和文档模式</h3><p>如果你使用的是IE9，那么按下F12键就会出现开发者工具，上面有两个下拉菜单：浏览器模式和文档模式。那么什么是浏览器模式？什么又是文档模式？二者有何区别？</p><ul><li><p>浏览器模式用于切换IE针对该网页的默认文档模式、对不同版本浏览器的条件注释解析、以及发送给网站服务器的用户代理（User-Agent）字符串的值。网站可以根据浏览器返回的不同用户代理字符串判断浏览器的版本和及安装的功能，这样就可以根据不同的浏览器返回不同的页面内容了。</p></li><li><p>文档模式用于指定IE的页面排版引擎（Trident）以哪个版本的方式来解析并渲染网页代码。切换文档模式会导致网页被刷新，但不会更改用户代理字符串中的版本号，也不会从服务器重新下载网页。切换浏览器模式的同时，浏览器也会自动切换到相应的文档模式。</p></li></ul><p>一言以蔽之，浏览器模式会影响服务器端对客户端浏览器版本的判断，对条件注释也有影响；而文档模式会影响IE的排版引擎，对网页渲染会有影响，对CSS hack也会产生影响。因此，通过条件注释可以判断浏览器模式，而使用CSS hack可以判断文档模式。</p><h3 id="IE9兼容性视图与IE9标准视图"><a href="#IE9兼容性视图与IE9标准视图" class="headerlink" title="IE9兼容性视图与IE9标准视图"></a>IE9兼容性视图与IE9标准视图</h3><p>如果我们使用一句简单的JavaScript语句来查看用户代理（User-Agent）字符串的值，则可以看到IE9兼容性视图与IE9的区别：</p><pre><code>alert(&apos;UA:&apos;+navigator.userAgent);  </code></pre><p>输出结果如下所示，注意其中的MSIE版本号已经不同。判断浏览器模式就是判断User-Agent中的版本号，即MSIE后面的数值：</p><pre><code>// IE9  UA:Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; Tablet PC 2.0)  // IE9 兼容性视图  UA:Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E; Tablet PC 2.0) //真实IE7Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.0)</code></pre><p>话说IE9兼容性视图是模拟IE7的行为，那么IE9兼容性视图与IE7有没有区别呢？<br><br>肯定是有区别的，即使是IE9中的IE7标准模式，与原生的IE7在渲染上也是有区别的，具体我们暂不去深究。</p><p>那么既然IE9兼容性视图的版本号跟IE7相同，如何才能判断当前是IE9兼容性视图，还是纯正的IE7呢？<br><br>其实很简单，只需要判断浏览器的用户代理（User-Agent）字符串中是否包含Trident即可。<br><br>首先检测MSIE的版本号是否为7.0，然后再判断是否含有Trident字串，若包含则为IE9兼容性视图，否则则为纯正的IE7。</p><h3 id="文档模式的检测"><a href="#文档模式的检测" class="headerlink" title="文档模式的检测"></a>文档模式的检测</h3><p>在JavaScript中可以通过documentMode来检测文档模式，在IE6和IE7中是使用compatMode来确定文档模式的，这个属性自IE8开始已经被documentMode所替代。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">engine = <span class="literal">null</span>;  </span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.navigator.appName == <span class="string">"Microsoft Internet Explorer"</span>)  </span><br><span class="line">&#123;  </span><br><span class="line">    <span class="comment">// This is an IE browser. What mode is the engine in?  </span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.documentMode) <span class="comment">// IE8 or later  </span></span><br><span class="line">        engine = <span class="built_in">document</span>.documentMode;  </span><br><span class="line">    <span class="keyword">else</span> <span class="comment">// IE 5-7  </span></span><br><span class="line">    &#123;  </span><br><span class="line">        engine = <span class="number">5</span>; <span class="comment">// Assume quirks mode unless proven otherwise  </span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">document</span>.compatMode == <span class="string">"CSS1Compat"</span>)  </span><br><span class="line">                engine = <span class="number">7</span>; <span class="comment">// standards mode  </span></span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">// There is no test for IE6 standards mode because that mode  </span></span><br><span class="line">        <span class="comment">// was replaced by IE7 standards mode; there is no emulation.  </span></span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// the engine variable now contains the document compatibility mode.  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://www.csdn.net/article/2012-10-22/2811049-Understanding-the-browser-compatibility-" target="_blank" rel="noopener">深入理解浏览器兼容性模式</a></li><li><a href="http://dancewithnet.com/2009/06/14/activating-browser-modes-with-doctype/" target="_blank" rel="noopener">用doctype激活浏览器模式</a>(<a href="http://hsivonen.iki.fi/doctype/" target="_blank" rel="noopener">英文原版</a>)</li><li><a href="https://imququ.com/post/browser-mode-and-document-mode-in-ie.html" target="_blank" rel="noopener">关于浏览器模式和文本模式的困惑</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> broswer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML vs XHTML</title>
      <link href="/2019/05/08/html/HTML-vs-XHTML/"/>
      <url>/2019/05/08/html/HTML-vs-XHTML/</url>
      
        <content type="html"><![CDATA[<h2 id="The-Most-Important-Differences-from-HTML"><a href="#The-Most-Important-Differences-from-HTML" class="headerlink" title="The Most Important Differences from HTML:"></a>The Most Important Differences from HTML:</h2><ul><li>Document Structure<ul><li>XHTML DOCTYPE is <strong>mandatory</strong></li><li>The xmlns attribute in <html> is <strong>mandatory</strong></html></li><li><html>, <head><meta name="generator" content="Hexo 3.8.0">, <title>, and <body> are <strong>mandatory</strong></body></title></head></html></li></ul></li><li>XHTML Elements<ul><li>XHTML elements must be <strong>properly nested</strong></li><li>XHTML elements must always be <strong>closed</strong></li><li>XHTML elements must be in <strong>lowercase</strong></li><li>XHTML documents must have <strong>one root element</strong></li></ul></li><li>XHTML Attributes<ul><li>Attribute names must be in <strong>lower case</strong></li><li>Attribute values must be <strong>quoted</strong></li><li>Attribute minimization is <strong>forbidden</strong></li></ul></li></ul><h3 id="lt-DOCTYPE-…-gt-Is-Mandatory"><a href="#lt-DOCTYPE-…-gt-Is-Mandatory" class="headerlink" title="&lt;!DOCTYPE ….&gt; Is Mandatory"></a>&lt;!DOCTYPE ….&gt; Is Mandatory</h3><p>An XHTML document must have an XHTML DOCTYPE declaration.</p><p>A complete list of all the XHTML Doctypes is found in our HTML Tags Reference.</p><p>The <html>, <head><meta name="generator" content="Hexo 3.8.0">, <title>, and <body> elements must also be present, and the xmlns attribute in <html> must specify the xml namespace for the document.</html></body></title></head></html></p><p>This example shows an XHTML document with a minimum of required tags:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</span></span><br><span class="line"><span class="meta">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title of document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  some content </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="XHTML-Elements-Must-Be-Properly-Nested"><a href="#XHTML-Elements-Must-Be-Properly-Nested" class="headerlink" title="XHTML Elements Must Be Properly Nested"></a>XHTML Elements Must Be Properly Nested</h3><p>In HTML, some elements can be improperly nested within each other, like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>This text is bold and italic<span class="tag">&lt;/<span class="name">b</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure><p>In XHTML, all elements must be properly nested within each other, like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>This text is bold and italic<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="XHTML-Elements-Must-Always-Be-Closed"><a href="#XHTML-Elements-Must-Always-Be-Closed" class="headerlink" title="XHTML Elements Must Always Be Closed"></a>XHTML Elements Must Always Be Closed</h3><p>This is correct:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is another paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Empty-Elements-Must-Also-Be-Closed"><a href="#Empty-Elements-Must-Also-Be-Closed" class="headerlink" title="Empty Elements Must Also Be Closed"></a>Empty Elements Must Also Be Closed</h3><p>This is correct:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A break: <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">A horizontal rule: <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">An image: <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"happy.gif"</span> <span class="attr">alt</span>=<span class="string">"Happy face"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h3 id="XHTML-Elements-Must-Be-In-Lower-Case"><a href="#XHTML-Elements-Must-Be-In-Lower-Case" class="headerlink" title="XHTML Elements Must Be In Lower Case"></a>XHTML Elements Must Be In Lower Case</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is a paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="XHTML-Attribute-Names-Must-Be-In-Lower-Case"><a href="#XHTML-Attribute-Names-Must-Be-In-Lower-Case" class="headerlink" title="XHTML Attribute Names Must Be In Lower Case"></a>XHTML Attribute Names Must Be In Lower Case</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Attribute-Values-Must-Be-Quoted"><a href="#Attribute-Values-Must-Be-Quoted" class="headerlink" title="Attribute Values Must Be Quoted"></a>Attribute Values Must Be Quoted</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Attribute-Minimization-Is-Forbidden"><a href="#Attribute-Minimization-Is-Forbidden" class="headerlink" title="Attribute Minimization Is Forbidden"></a>Attribute Minimization Is Forbidden</h3><p>Wrong:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"vehicle"</span> <span class="attr">value</span>=<span class="string">"car"</span> <span class="attr">checked</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>Correct:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"vehicle"</span> <span class="attr">value</span>=<span class="string">"car"</span> <span class="attr">checked</span>=<span class="string">"checked"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="How-to-Convert-from-HTML-to-XHTML"><a href="#How-to-Convert-from-HTML-to-XHTML" class="headerlink" title="How to Convert from HTML to XHTML"></a>How to Convert from HTML to XHTML</h2><ul><li>Add an XHTML &lt;!DOCTYPE&gt; to the first line of every page</li><li>Add an xmlns attribute to the html element of every page</li><li>Change all element names to lowercase</li><li>Close all empty elements</li><li>Change all attribute names to lowercase</li><li>Quote all attribute values</li></ul><p><a href="https://www.w3schools.com/html/html_xhtml.asp" target="_blank" rel="noopener">Link</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序体验版转发后无法打开</title>
      <link href="/2019/05/05/%E6%80%BB%E7%BB%93/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%93%E9%AA%8C%E7%89%88%E8%BD%AC%E5%8F%91%E5%90%8E%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80/"/>
      <url>/2019/05/05/%E6%80%BB%E7%BB%93/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%93%E9%AA%8C%E7%89%88%E8%BD%AC%E5%8F%91%E5%90%8E%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80/</url>
      
        <content type="html"><![CDATA[<p>体验版小程序 点击推荐给朋友<br>这个页面的推荐给朋友,推荐出去 打开的是正式版</p>]]></content>
      
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>You Dont&#39;t Know JS 笔记(2)</title>
      <link href="/2019/05/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/You%20Dont%20Know%20JS/You-Dont-t-Know-JS-%E7%AC%94%E8%AE%B0-2/"/>
      <url>/2019/05/05/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/You%20Dont%20Know%20JS/You-Dont-t-Know-JS-%E7%AC%94%E8%AE%B0-2/</url>
      
        <content type="html"><![CDATA[<h1 id="Scope-amp-Closures"><a href="#Scope-amp-Closures" class="headerlink" title="Scope &amp; Closures"></a>Scope &amp; Closures</h1><h2 id="Chapter-1-What-is-Scope"><a href="#Chapter-1-What-is-Scope" class="headerlink" title="Chapter 1: What is Scope?"></a>Chapter 1: What is Scope?</h2><h2 id="Chapter-2-Lexical-Scope"><a href="#Chapter-2-Lexical-Scope" class="headerlink" title="Chapter 2: Lexical Scope"></a>Chapter 2: Lexical Scope</h2><h2 id="Chapter-3-Function-vs-Block-Scope"><a href="#Chapter-3-Function-vs-Block-Scope" class="headerlink" title="Chapter 3: Function vs. Block Scope"></a>Chapter 3: Function vs. Block Scope</h2><h3 id="Scope-From-Functions"><a href="#Scope-From-Functions" class="headerlink" title="Scope From Functions"></a>Scope From Functions</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// some code</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// more code</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In this snippet, the scope bubble for <code>foo(..)</code> includes identifiers <code>a</code>, <code>b</code>, <code>c</code> and <code>bar</code>. <strong>It doesn’t matter</strong> <em>where</em> in the scope a declaration appears, the variable or function belongs to the containing scope bubble, regardless. We’ll explore how exactly <em>that</em> works in the next chapter.</p><p><code>bar(..)</code> has its own scope bubble. So does the global scope, which has just one identifier attached to it: <code>foo</code>.</p><p>Because <code>a</code>, <code>b</code>, <code>c</code>, and <code>bar</code> all belong to the scope bubble of <code>foo(..)</code>, they are not accessible outside of <code>foo(..)</code>. That is, the following code would all result in <code>ReferenceError</code> errors, as the identifiers are not available to the global scope:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bar(); <span class="comment">// fails</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a, b, c ); <span class="comment">// all 3 fail</span></span><br></pre></td></tr></table></figure><p>However, all these identifiers (<code>a</code>, <code>b</code>, <code>c</code>, <code>foo</code>, and <code>bar</code>) are accessible <em>inside</em> of <code>foo(..)</code>, and indeed also available inside of <code>bar(..)</code> (assuming there are no shadow identifier declarations inside <code>bar(..)</code>).</p><h3 id="Functions-As-Scopes"><a href="#Functions-As-Scopes" class="headerlink" title="Functions As Scopes"></a>Functions As Scopes</h3><h3 id="Blocks-As-Scopes"><a href="#Blocks-As-Scopes" class="headerlink" title="Blocks As Scopes"></a>Blocks As Scopes</h3>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>原型 prototype</title>
      <link href="/2019/05/05/js/%E5%8E%9F%E5%9E%8B%20prototype/"/>
      <url>/2019/05/05/js/%E5%8E%9F%E5%9E%8B%20prototype/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>闭包 closure</title>
      <link href="/2019/05/05/js/%E9%97%AD%E5%8C%85closure/"/>
      <url>/2019/05/05/js/%E9%97%AD%E5%8C%85closure/</url>
      
        <content type="html"><![CDATA[<p><a href="https://segmentfault.com/a/1190000009886713" target="_blank" rel="noopener">深入贯彻闭包思想，全面理解JS闭包形成过程</a><br><a href="https://www.cnblogs.com/frankfang/archive/2011/08/03/2125663.html" target="_blank" rel="noopener">link</a></p><h2 id="关于闭包的面试题"><a href="#关于闭包的面试题" class="headerlink" title="关于闭包的面试题"></a>关于闭包的面试题</h2>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> closure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>You Dont&#39;t Know JS 笔记(1)</title>
      <link href="/2019/04/30/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/You%20Dont%20Know%20JS/You-Dont-t-Know-JS%20%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/04/30/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/You%20Dont%20Know%20JS/You-Dont-t-Know-JS%20%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Up-amp-Going"><a href="#Up-amp-Going" class="headerlink" title="Up &amp; Going"></a>Up &amp; Going</h1><h2 id="Chapter-1-Into-Programming"><a href="#Chapter-1-Into-Programming" class="headerlink" title="Chapter 1: Into Programming"></a>Chapter 1: Into Programming</h2><h3 id="get-user-input"><a href="#get-user-input" class="headerlink" title="get user input"></a>get user input</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">age = prompt( <span class="string">"Please tell me your age:"</span> );</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( age );</span><br></pre></td></tr></table></figure><h3 id="Converting-Between-Types"><a href="#Converting-Between-Types" class="headerlink" title="Converting Between Types"></a>Converting Between Types</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"42"</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Number</span>( a );</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a ); <span class="comment">// "42"</span></span><br><span class="line"><span class="built_in">console</span>.log( b ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h3 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// we can access both `a` and `b` here</span></span><br><span class="line"><span class="built_in">console</span>.log( a + b );<span class="comment">// 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">inner();</span><br><span class="line"></span><br><span class="line"><span class="comment">// we can only access `a` here</span></span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">outer();</span><br></pre></td></tr></table></figure><p>So, code inside the <code>inner()</code> function has access to both variables <code>a</code> and <code>b</code>, but code in <code>outer()</code> has access only to <code>a</code> – it cannot access <code>b</code> because that variable is only inside <code>inner()</code>.</p><h2 id="Chapter-2-Into-JavaScript"><a href="#Chapter-2-Into-JavaScript" class="headerlink" title="Chapter 2: Into JavaScript"></a>Chapter 2: Into JavaScript</h2><h3 id="Values-amp-Types"><a href="#Values-amp-Types" class="headerlink" title="Values &amp; Types"></a>Values &amp; Types</h3><ul><li>string</li><li>number</li><li>boolean</li><li>null and undefined</li><li>object</li><li>symbol (new to ES6)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">typeof</span> a;<span class="comment">// "object" -- weird, bug</span></span><br></pre></td></tr></table></figure><p>Also, note <code>a = undefined</code>. We’re explicitly setting <code>a</code> to the <code>undefined</code> value, but that is behaviorally no different from a variable that has no value set yet, like with the <code>var a</code>; line at the top of the snippet. A variable can get to this “undefined” value state in several different ways, including functions that return no values and usage of the void operator.</p><p>array and function. But rather than being proper built-in types, these should be thought of more like subtypes – specialized versions of the <code>object</code> type.</p><h3 id="强制类型转化"><a href="#强制类型转化" class="headerlink" title="强制类型转化"></a>强制类型转化</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"42"</span>;</span><br><span class="line"><span class="keyword">var</span> b = a * <span class="number">1</span>;<span class="comment">// "42" implicitly coerced to 42 here</span></span><br><span class="line"></span><br><span class="line">a;<span class="comment">// "42"</span></span><br><span class="line">b;<span class="comment">// 42 -- the number!</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = a + <span class="string">'a'</span>;</span><br><span class="line"></span><br><span class="line">a;<span class="comment">// 42</span></span><br><span class="line">b;<span class="comment">// "42a" -- the String!</span></span><br></pre></td></tr></table></figure><p>You should take special note of the == and === comparison rules if you’re comparing two non-primitive values, like objects (including function and array). Because those values are actually held by reference, both == and === comparisons will simply check whether the references match, not anything about the underlying values.</p><p>For example, arrays are by default coerced to strings by simply joining all the values with commas (<code>,</code>) in between. You might think that two arrays with the same contents would be == equal, but they’re not:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> c = <span class="string">"1,2,3"</span>;</span><br><span class="line"></span><br><span class="line">a == c;<span class="comment">// true</span></span><br><span class="line">b == c;<span class="comment">// true</span></span><br><span class="line">a == b;<span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>how can all three of those comparisons be false? Because the <code>b</code> value is being coerced to the “invalid number value” <code>NaN</code> in the <code>&lt;</code> and <code>&gt;</code> comparisons, and the specification says that <code>NaN</code> is neither greater-than nor less-than any other value.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"foo"</span>;</span><br><span class="line"></span><br><span class="line">a &lt; b;<span class="comment">// false</span></span><br><span class="line">a &gt; b;<span class="comment">// false</span></span><br><span class="line">a == b;<span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="False"><a href="#False" class="headerlink" title="False"></a>False</h4><ul><li>“” (empty string)</li><li>0, -0, NaN (invalid number)</li><li>null, undefined</li><li>false</li></ul><h4 id="True"><a href="#True" class="headerlink" title="True"></a>True</h4><ul><li>“hello”</li><li>42</li><li>true</li><li style="list-style: none"><input type="checkbox"> , [ 1, “2”, 3 ] (arrays)</li><li>{ }, { a: 42 } (objects)</li><li>function foo() { .. } (functions)</li></ul><h3 id="Function-Scopes"><a href="#Function-Scopes" class="headerlink" title="Function Scopes"></a>Function Scopes</h3><h4 id="Hoisting"><a href="#Hoisting" class="headerlink" title="Hoisting"></a>Hoisting</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">foo();<span class="comment">// works because `foo()`</span></span><br><span class="line"><span class="comment">// declaration is "hoisted"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">a = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a;<span class="comment">// declaration is "hoisted"</span></span><br><span class="line"><span class="comment">// to the top of `foo()`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h4 id="Nested-Scopes"><a href="#Nested-Scopes" class="headerlink" title="Nested Scopes"></a>Nested Scopes</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baz</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a, b, c );<span class="comment">// 1 2 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">baz();</span><br><span class="line"><span class="built_in">console</span>.log( a, b );<span class="comment">// 1 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><p>Notice that <code>c</code> is not available inside of <code>bar()</code>, because it’s declared only inside the inner <code>baz()</code> scope, and that <code>b</code> is not available to <code>foo()</code> for the same reason.</p><p>ES6 lets you declare variables to belong to individual blocks (pairs of <code>{ .. }</code>), using the <code>let</code> keyword</p><h3 id="Immediately-Invoked-Function-Expressions-IIFEs"><a href="#Immediately-Invoked-Function-Expressions-IIFEs" class="headerlink" title="Immediately Invoked Function Expressions (IIFEs)"></a>Immediately Invoked Function Expressions (IIFEs)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">"Hello!"</span> );</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">// "Hello!"</span></span><br></pre></td></tr></table></figure><p>The outer <code>( .. )</code> that surrounds the <code>(function IIFE(){ .. })</code> function expression is just a nuance of JS grammar needed to prevent it from being treated as a normal function declaration.</p><p>The final <code>()</code> on the end of the expression – the <code>})();</code> line – is what actually executes the function expression referenced immediately before it.</p><p>Because an IIFE is just a function, and functions create variable scope, using an IIFE in this fashion is often used to declare variables that won’t affect the surrounding code outside the IIFE:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 10</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( a );<span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>IIFEs can also have return values:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = (<span class="function"><span class="keyword">function</span> <span class="title">IIFE</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">x;<span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h3 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h3><p>You can think of closure as a way to “remember” and continue to access a function’s scope (its variables) even once the function has finished running.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeAdder</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line"><span class="comment">// parameter `x` is an inner variable</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// inner function `add()` uses `x`, so</span></span><br><span class="line"><span class="comment">// it has a "closure" over it</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">y</span>) </span>&#123;</span><br><span class="line"><span class="keyword">return</span> y + x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> add;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `plusOne` gets a reference to the inner `add(..)`</span></span><br><span class="line"><span class="comment">// function with closure over the `x` parameter of</span></span><br><span class="line"><span class="comment">// the outer `makeAdder(..)`</span></span><br><span class="line"><span class="keyword">var</span> plusOne = makeAdder( <span class="number">1</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// `plusTen` gets a reference to the inner `add(..)`</span></span><br><span class="line"><span class="comment">// function with closure over the `x` parameter of</span></span><br><span class="line"><span class="comment">// the outer `makeAdder(..)`</span></span><br><span class="line"><span class="keyword">var</span> plusTen = makeAdder( <span class="number">10</span> );</span><br><span class="line"></span><br><span class="line">plusOne( <span class="number">3</span> );        <span class="comment">// 4  &lt;-- 1 + 3</span></span><br><span class="line">plusOne( <span class="number">41</span> );        <span class="comment">// 42 &lt;-- 1 + 41</span></span><br><span class="line"></span><br><span class="line">plusTen( <span class="number">13</span> );        <span class="comment">// 23 &lt;-- 10 + 13</span></span><br></pre></td></tr></table></figure><p>More on how this code works:</p><ol><li>When we call <code>makeAdder(1)</code>, we get back a reference to its inner <code>add(..)</code> that remembers <code>x</code> as <code>1</code>. We call this function reference <code>plusOne(..)</code>.</li><li>When we call <code>makeAdder(10)</code>, we get back another reference to its inner <code>add(..)</code> that remembers <code>x</code> as <code>10</code>. We call this function reference <code>plusTen(..)</code>.</li><li>When we call <code>plusOne(3)</code>, it adds <code>3</code> (its inner <code>y</code>) to the <code>1</code> (remembered by <code>x</code>), and we get <code>4</code> as the result.</li><li>When we call <code>plusTen(13)</code>, it adds <code>13</code> (its inner <code>y</code>) to the <code>10</code> (remembered by <code>x</code>), and we get <code>23</code> as the result.</li></ol><h3 id="this-Identifier"><a href="#this-Identifier" class="headerlink" title="this Identifier"></a><code>this</code> Identifier</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="keyword">this</span>.bar );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="string">"global"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">bar: <span class="string">"obj1"</span>,</span><br><span class="line">foo: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">bar: <span class="string">"obj2"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// --------</span></span><br><span class="line"></span><br><span class="line">foo();<span class="comment">// "global"</span></span><br><span class="line">obj1.foo();<span class="comment">// "obj1"</span></span><br><span class="line">foo.call( obj2 );<span class="comment">// "obj2"</span></span><br><span class="line"><span class="keyword">new</span> foo();<span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>There are four rules for how <code>this</code> gets set, and they’re shown in those last four lines of that snippet.</p><ol><li><code>foo()</code> ends up setting <code>this</code> to the global object in non-strict mode – in strict mode, <code>this</code> would be <code>undefined</code> and you’d get an error in accessing the <code>bar</code> property – so <code>&quot;global&quot;</code> is the value found for <code>this.bar</code>.</li><li><code>obj1.foo()</code> sets <code>this</code> to the <code>obj1</code> object.</li><li><code>foo.call(obj2)</code> sets <code>this</code> to the <code>obj2</code> object.</li><li><code>new foo()</code> sets <code>this</code> to a brand new empty object.</li></ol><h3 id="Prototypes"><a href="#Prototypes" class="headerlink" title="Prototypes"></a>Prototypes</h3><p>When you reference a property on an object, if that property doesn’t exist, JavaScript will automatically use that object’s internal prototype reference to find another object to look for the property on. You could think of this almost as a fallback if the property is missing.</p><p>The internal prototype reference linkage from one object to its fallback happens at the time the object is created. The simplest way to illustrate it is with a built-in utility called <code>Object.create(..)</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = &#123;</span><br><span class="line">a: <span class="number">42</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// create `bar` and link it to `foo`</span></span><br><span class="line"><span class="keyword">var</span> bar = <span class="built_in">Object</span>.create( foo );</span><br><span class="line"></span><br><span class="line">bar.b = <span class="string">"hello world"</span>;</span><br><span class="line"></span><br><span class="line">bar.b;<span class="comment">// "hello world"</span></span><br><span class="line">bar.a;<span class="comment">// 42 &lt;-- delegated to `foo`</span></span><br></pre></td></tr></table></figure><p>The <code>a</code> property doesn’t actually exist on the <code>bar</code> object, but because <code>bar</code> is prototype-linked to <code>foo</code>, JavaScript automatically falls back to looking for <code>a</code> on the <code>foo</code> object, where it’s found.</p><h3 id="Polyfilling"><a href="#Polyfilling" class="headerlink" title="Polyfilling"></a>Polyfilling</h3><p>ES6 defines a utility called <code>Number.isNaN(..)</code> to provide an accurate non-buggy check for <code>NaN</code> values</p><h3 id="Transpiling"><a href="#Transpiling" class="headerlink" title="Transpiling"></a>Transpiling</h3><p>Here’s a quick example of transpiling. ES6 adds a feature called “default parameter values.”</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log( a );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();<span class="comment">// 2</span></span><br><span class="line">foo( <span class="number">42</span> );<span class="comment">// 42</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSON Web Token</title>
      <link href="/2019/04/30/%E7%BD%91%E7%BB%9C/JSON-Web-Token/"/>
      <url>/2019/04/30/%E7%BD%91%E7%BB%9C/JSON-Web-Token/</url>
      
        <content type="html"><![CDATA[<p>JSON Web Token（缩写 JWT）是目前最流行的跨域认证解决方案</p><p><a href="http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html" target="_blank" rel="noopener">Link</a></p><h2 id="一、跨域认证的问题"><a href="#一、跨域认证的问题" class="headerlink" title="一、跨域认证的问题"></a>一、跨域认证的问题</h2><p>一般流程是下面这样</p><blockquote><p>1、用户向服务器发送用户名和密码。<br>2、服务器验证通过后，在当前对话（session）里面保存相关数据，比如用户角色、登录时间等等。<br>3、服务器向用户返回一个 session_id，写入用户的 Cookie。<br>4、用户随后的每一次请求，都会通过 Cookie，将 session_id 传回服务器。<br>5、服务器收到 session_id，找到前期保存的数据，由此得知用户的身份。</p></blockquote><p>这种模式的问题在于，扩展性（scaling）不好。单机当然没有问题，如果是服务器集群，或者是跨域的服务导向架构，就要求 session 数据共享，每台服务器都能够读取 session。</p><p>举例来说，A 网站和 B 网站是同一家公司的关联服务。现在要求，用户只要在其中一个网站登录，再访问另一个网站就会自动登录，请问怎么实现？</p><p>一种解决方案是 session 数据持久化，写入数据库或别的持久层。各种服务收到请求后，都向持久层请求数据。这种方案的优点是架构清晰，缺点是工程量比较大。另外，持久层万一挂了，就会单点失败。</p><p>另一种方案是服务器索性不保存 session 数据了，所有数据都保存在客户端，每次请求都发回服务器。JWT 就是这种方案的一个代表。</p><h2 id="二、JWT-的原理"><a href="#二、JWT-的原理" class="headerlink" title="二、JWT 的原理"></a>二、JWT 的原理</h2><p>JWT 的原理是，服务器认证以后，生成一个 JSON 对象，发回给用户，就像下面这样。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"姓名"</span>: <span class="string">"张三"</span>,</span><br><span class="line">  <span class="attr">"角色"</span>: <span class="string">"管理员"</span>,</span><br><span class="line">  <span class="attr">"到期时间"</span>: <span class="string">"2018年7月1日0点0分"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以后，用户与服务端通信的时候，都要发回这个 JSON 对象。服务器完全只靠这个对象认定用户身份。为了防止用户篡改数据，服务器在生成这个对象的时候，会加上签名（详见后文）。</p><p>服务器就不保存任何 session 数据了，也就是说，服务器变成无状态了，从而比较容易实现扩展</p><h2 id="三、JWT-的数据结构"><a href="#三、JWT-的数据结构" class="headerlink" title="三、JWT 的数据结构"></a>三、JWT 的数据结构</h2><p>实际的 JWT 是一个很长的字符串，中间用点（.）分隔成三个部分。注意，JWT 内部是没有换行的</p><p>JWT 的三个部分依次如下。</p><ul><li>Header（头部）</li><li>Payload（负载）</li><li>Signature（签名）</li></ul><p>写成一行，就是下面的样子。</p><p><code>Header.Payload.Signature</code></p><h3 id="3-1-Header"><a href="#3-1-Header" class="headerlink" title="3.1 Header"></a>3.1 Header</h3><p>Header 部分是一个 JSON 对象，描述 JWT 的元数据，通常是下面的样子。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"alg"</span>: <span class="string">"HS256"</span>,</span><br><span class="line">  <span class="attr">"typ"</span>: <span class="string">"JWT"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码中，alg属性表示签名的算法（algorithm），默认是 HMAC SHA256（写成 HS256）；typ属性表示这个令牌（token）的类型（type），JWT 令牌统一写为JWT。</p><p>最后，将上面的 JSON 对象使用 Base64URL 算法（详见后文）转成字符串。</p><h3 id="3-2-Payload"><a href="#3-2-Payload" class="headerlink" title="3.2 Payload"></a>3.2 Payload</h3><p>Payload 部分也是一个 JSON 对象，用来存放实际需要传递的数据。JWT 规定了7个官方字段，供选用。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">iss (issuer)：签发人</span><br><span class="line">exp (expiration time)：过期时间</span><br><span class="line">sub (subject)：主题</span><br><span class="line">aud (audience)：受众</span><br><span class="line">nbf (Not Before)：生效时间</span><br><span class="line">iat (Issued At)：签发时间</span><br><span class="line">jti (JWT ID)：编号</span><br></pre></td></tr></table></figure><p>除了官方字段，你还可以在这个部分定义私有字段</p><p>注意，JWT 默认是不加密的，任何人都可以读到，所以不要把秘密信息放在这个部分。</p><p>这个 JSON 对象也要使用 Base64URL 算法转成字符串。</p><h3 id="3-3-Signature"><a href="#3-3-Signature" class="headerlink" title="3.3 Signature"></a>3.3 Signature</h3><p>Signature 部分是对前两部分的签名，防止数据篡改。</p><p>首先，需要指定一个密钥（secret）。这个密钥只有服务器才知道，不能泄露给用户。然后，使用 Header 里面指定的签名算法（默认是 HMAC SHA256），按照下面的公式产生签名。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + <span class="string">"."</span> +</span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure><p>算出签名以后，把 Header、Payload、Signature 三个部分拼成一个字符串，每个部分之间用”点”（.）分隔，就可以返回给用户。</p><h3 id="3-4-Base64URL"><a href="#3-4-Base64URL" class="headerlink" title="3.4 Base64URL"></a>3.4 Base64URL</h3><p>JWT 作为一个令牌（token），有些场合可能会放到 URL（比如 api.example.com/?token=xxx）。Base64 有三个字符+、/和=，在 URL 里面有特殊含义，所以要被替换掉：=被省略、+替换成-，/替换成_ 。这就是 Base64URL 算法。</p><h2 id="四、JWT-的使用方式"><a href="#四、JWT-的使用方式" class="headerlink" title="四、JWT 的使用方式"></a>四、JWT 的使用方式</h2><p>客户端收到服务器返回的 JWT，可以储存在 Cookie 里面，也可以储存在 localStorage。</p><p>此后，客户端每次与服务器通信，都要带上这个 JWT。你可以把它放在 Cookie 里面自动发送，但是这样不能跨域，所以更好的做法是放在 HTTP 请求的头信息Authorization字段里面。</p><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Authorization</span>: Bearer &lt;token&gt;</span><br></pre></td></tr></table></figure><p>另一种做法是，跨域的时候，JWT 就放在 POST 请求的数据体里面。</p><h2 id="五、JWT-的几个特点"><a href="#五、JWT-的几个特点" class="headerlink" title="五、JWT 的几个特点"></a>五、JWT 的几个特点</h2><p>（1）JWT 默认是不加密，但也是可以加密的。生成原始 Token 以后，可以用密钥再加密一次。</p><p>（2）JWT 不加密的情况下，不能将秘密数据写入 JWT。</p><p>（3）JWT 不仅可以用于认证，也可以用于交换信息。有效使用 JWT，可以降低服务器查询数据库的次数。</p><p>（4）JWT 的最大缺点是，由于服务器不保存 session 状态，因此无法在使用过程中废止某个 token，或者更改 token 的权限。也就是说，一旦 JWT 签发了，在到期之前就会始终有效，除非服务器部署额外的逻辑。</p><p>（5）JWT 本身包含了认证信息，一旦泄露，任何人都可以获得该令牌的所有权限。为了减少盗用，JWT 的有效期应该设置得比较短。对于一些比较重要的权限，使用时应该再次对用户进行认证。</p><p>（6）为了减少盗用，JWT 不应该使用 HTTP 协议明码传输，要使用 HTTPS 协议传输。</p><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>第三方程序获取用户数据，需要用户授权时用<a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html" target="_blank" rel="noopener">oauth</a>，比如QQ登录，微信登录等。</p><p>第三方程序直接获取数据，只做接口认证用时用jwt，比如各种云服务的接入。</p><p>在Web应用中，别再把JWT当做session使用，绝大多数情况下，传统的cookie-session机制工作得更好</p><p>JWT适合一次性的命令认证，颁发一个有效期极短的JWT，即使暴露了危险也很小，由于每次操作都会生成新的JWT，因此也没必要保存JWT，真正实现无状态。</p>]]></content>
      
      
      
        <tags>
            
            <tag> token </tag>
            
            <tag> jwt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>关于mongoose.save()在koa-router的post中返回404的问题</title>
      <link href="/2019/04/29/%E6%80%BB%E7%BB%93/%E5%85%B3%E4%BA%8Emongoose-save-%E5%9C%A8koa-router%E7%9A%84post%E4%B8%AD%E8%BF%94%E5%9B%9E404%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2019/04/29/%E6%80%BB%E7%BB%93/%E5%85%B3%E4%BA%8Emongoose-save-%E5%9C%A8koa-router%E7%9A%84post%E4%B8%AD%E8%BF%94%E5%9B%9E404%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h2 id="问题代码"><a href="#问题代码" class="headerlink" title="问题代码"></a>问题代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">router.post(<span class="string">'/signup'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data = ctx.request.body</span><br><span class="line">  <span class="keyword">const</span> user = &#123;</span><br><span class="line">    username: data.username,</span><br><span class="line">    email: data.email,</span><br><span class="line">    password: data.password</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="keyword">new</span> User(user);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// express中的写法</span></span><br><span class="line">  <span class="keyword">await</span> newUser.save(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">0</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'注册成功'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (err.code === <span class="number">11000</span>) &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">-1</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'此邮箱已注册'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">999</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'未知错误'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>上面的代码不行, postman中总是会显示 404 not found</p><p>然后尝试了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> code</span><br><span class="line"><span class="keyword">await</span> newUser.save(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!err) &#123;</span><br><span class="line">    code = <span class="number">0</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (err.code === <span class="number">11000</span>) &#123;</span><br><span class="line">    code = <span class="number">-1</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    code = <span class="number">999</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(code)</span><br></pre></td></tr></table></figure><p>也不行, 打印一直是 undefined</p><p>后来有在网上看到 <code>let res = await newUser.save()</code>的写法, 但是koa会报错.</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>花了一天时间, 终于想到可以用try catch来解决这个问题</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">router.post(<span class="string">'/signup'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> data = ctx.request.body</span><br><span class="line">  <span class="keyword">const</span> user = &#123;</span><br><span class="line">    username: data.username,</span><br><span class="line">    email: data.email,</span><br><span class="line">    password: data.password</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="keyword">new</span> User(user);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">await</span> newUser.save()</span><br><span class="line">    <span class="keyword">if</span> (res) &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">0</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'注册成功'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="keyword">if</span> (err.code === <span class="number">11000</span>) &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">-1</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'此邮箱已注册'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">999</span>,</span><br><span class="line">        status: <span class="number">200</span>,</span><br><span class="line">        message: <span class="string">'未知错误'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这样终于可以在 postman 中正确的返回body了!</p>]]></content>
      
      
      
        <tags>
            
            <tag> koa </tag>
            
            <tag> mongoose </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Koa+Taro搭建CMS</title>
      <link href="/2019/04/26/koa/Koa-Taro%E6%90%AD%E5%BB%BACMS/"/>
      <url>/2019/04/26/koa/Koa-Taro%E6%90%AD%E5%BB%BACMS/</url>
      
        <content type="html"><![CDATA[<h2 id="登录功能"><a href="#登录功能" class="headerlink" title="登录功能"></a>登录功能</h2><p>使用 POST 请求</p><h3 id="用户认证"><a href="#用户认证" class="headerlink" title="用户认证"></a>用户认证</h3><h2 id="注册功能"><a href="#注册功能" class="headerlink" title="注册功能"></a>注册功能</h2><h3 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> svgCaptcha = <span class="built_in">require</span>(<span class="string">'svg-captcha'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成验证码</span></span><br><span class="line"><span class="keyword">const</span> captcha = svgCaptcha.create();</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/signup'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">  ctx.status = <span class="number">200</span>;</span><br><span class="line">  ctx.type = <span class="string">'svg'</span>;</span><br><span class="line">  ctx.body = captcha.data;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="dashboard"><a href="#dashboard" class="headerlink" title="dashboard"></a>dashboard</h2>]]></content>
      
      
      
        <tags>
            
            <tag> koa </tag>
            
            <tag> taro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>&lt;koa和node.js开发实战&gt;笔记</title>
      <link href="/2019/04/25/koa/koa%E5%92%8Cnode-js%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98-%E7%AC%94%E8%AE%B0/"/>
      <url>/2019/04/25/koa/koa%E5%92%8Cnode-js%E5%BC%80%E5%8F%91%E5%AE%9E%E6%88%98-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><h3 id="2-2-Context对象"><a href="#2-2-Context对象" class="headerlink" title="2.2 Context对象"></a>2.2 Context对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.use(<span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">  ctx; <span class="comment">// 这是 Context</span></span><br><span class="line">  ctx .request; <span class="comment">//这是 Koa Request</span></span><br><span class="line">  ctx.response; <span class="comment">//这是 Koa Response</span></span><br><span class="line">  <span class="keyword">this</span>; <span class="comment">//这也是 Context</span></span><br><span class="line">  <span class="keyword">this</span>.request; <span class="comment">//这也是 Koa Request</span></span><br><span class="line">  <span class="keyword">this</span> .response; <span class="comment">//这也是 Koa Response</span></span><br><span class="line">));</span><br></pre></td></tr></table></figure><h4 id="ctx-request"><a href="#ctx-request" class="headerlink" title="ctx.request"></a>ctx.request</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ctx.response.body = &#123;</span><br><span class="line">  url: ctx. request. url, <span class="comment">//获取请求 URL</span></span><br><span class="line">  query: ctx.request.query, <span class="comment">//获取解析的查询字符串</span></span><br><span class="line">  querystring : ctx.request.querystring <span class="comment">//获取原始查询字符串</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>随后在浏览器中访问 <code>http://localhost:3000/?search=koa&amp;keywords=context</code>，便可以看到 一串字符串，如下所示 :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">'url'</span>:<span class="string">'/?search=koa&amp;keywords=context'</span>,</span><br><span class="line">  <span class="string">'query'</span> : &#123; <span class="string">'search'</span> : <span class="string">'koa'</span>, <span class="string">'keywords'</span> : <span class="string">'context'</span> &#125; ,</span><br><span class="line">  <span class="string">'querystring'</span>:<span class="string">'search=koa&amp;keywords=context'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>POST请求的参数获取方式和 GET请求不同. </p><p>Koa没有封装获取 POST请求参数的方 法，因此需要解析 Context 中的原生 Node.js请求对象 req, 或者使用 <code>koa-bodyparser</code>中间件</p><h4 id="ctx-response"><a href="#ctx-response" class="headerlink" title="ctx.response"></a>ctx.response</h4><p>在实际开发中， 除设置一个请求的响应主体外， 往往还需要通过 <code>ctx.response.status</code> 设置请求状态，如 200, 404, 500 等。</p><p>通过 <code>ctx.response.type</code> 可以设置响应的 <code>Content-Type</code>, 如果响应内 容是 HTML 格式，则设置为 <code>ctx.response.type =&#39;html&#39;</code>;如果响应内容是一张 png 图片，则设置为 <code>ctx.response句pe =&#39;1mage/png&#39;</code>。显式地设置 <code>Content-Type</code>是因为浏览器默认 的 <code>Content-Type</code> 是 <code>text/plain</code>，如果 <code>Content-Type</code> 不对会发生解析错误。</p><p>通过<code>ctx.request.accepts()</code>函数来判断客户端期望的数据类型</p><p>通过 <code>ctx.response.body</code> 设置响应体内容</p><p>和 <code>ctx.request.accepts()</code>类似的一个方法是 <code>ctx.response.is(types...)</code>，它可以用来检查响应类型是否是所提供的类型之一，这对创建操纵响应的中间件特别有用 。</p><p>还有一个比较常用的方法是 <code>ctx.response.redirect(url, [alt])</code>，这个方法用于将状态码 302 重定 向到 URL，例如用 户登录后自动重定向到网站的首页。</p><h4 id="ctx-state"><a href="#ctx-state" class="headerlink" title="ctx.state"></a>ctx.state</h4><p><code>ctx.state</code> 是推荐 的命名空间，用于通过中间件传递信息和前端视图。类似 koa-views 这 些渲染 View层的中间件也会默认把 ctx.state里面的属性作为 View 的上下文传入。</p><h4 id="ctx-cookies"><a href="#ctx-cookies" class="headerlink" title="ctx.cookies"></a>ctx.cookies</h4><p>ctx.cookies 用于获取和设置 Cookie</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ctx.cookies.get(name, [optionsJ); <span class="comment">//获取Cookie</span></span><br><span class="line">ctx.cookies.set(name, value, [options]); <span class="comment">// 设置Cookie</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/koa/ctx.cookie.options.png" alt></p><h4 id="ctx-throw"><a href="#ctx-throw" class="headerlink" title="ctx.throw"></a>ctx.throw</h4><p>ctx.throw用于抛出错误，把错误信息返回给用户， 代码示例如下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.use(<span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">  ctx.throw(<span class="number">500</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2-3-Koa的中间件"><a href="#2-3-Koa的中间件" class="headerlink" title="2.3 Koa的中间件"></a>2.3 Koa的中间件</h3><p>通过 app.use()函数来加载中间件。</p><p>中间件函数是一个带有 ctx 和 next 两个参数的简单函数。</p><p>ctx 就是之前章节介绍的上下文，封装了 Request 和 Response 等对象; next 用于把中间件的执行权交给下游的中间件。 在 next()之前使用 await 关键字是因为 next()会返回一个 Promise 对象，而在当前中间件中位 于 next()之后的代码会暂停执行，直到最后一个中间件执行完毕后，再自下而上依次执行每 个中间件中 next()之后的代码，类似于一种先进后出的堆枝结构。</p><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/koa/onion.png" alt></p><p>下面通过具体代码来演示中间件的执行，如下所示:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">app.use (<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'one start'</span>);</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'one end'</span>);</span><br><span class="line">));</span><br><span class="line">app.use (<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'two start'</span>);</span><br><span class="line">  ctx.body = <span class="string">'two'</span>;</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'two end'</span>);</span><br><span class="line">)&#125;;</span><br><span class="line">app.use (<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'three start'</span>);</span><br><span class="line">  <span class="keyword">await</span> next();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'three end'</span>);</span><br><span class="line">)&#125;;</span><br></pre></td></tr></table></figure><p>这段代码中有 3个中间件， 执行结果如下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">one start</span><br><span class="line">two start</span><br><span class="line">three start</span><br><span class="line">three end</span><br><span class="line">two end</span><br><span class="line">one end</span><br></pre></td></tr></table></figure><p>如果想将多个中间件组合成一个单一的中间件, 便于重用或导出，可以使用<code>koa-compose</code>，代码如下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> all = compose ([middlewarel, middleware2, middleware3]);</span><br><span class="line">app.use(all);</span><br></pre></td></tr></table></figure><p>如果一个中间件没有调用 <code>await next()</code>，又会发生什么情况呢? 答案是:后面的中间件将不会被执行。</p><h4 id="常用-Koa-中间件"><a href="#常用-Koa-中间件" class="headerlink" title="常用 Koa 中间件"></a>常用 Koa 中间件</h4><ul><li>koa-bodyparser</li><li>koa-router</li><li>koa-static</li><li>koa-views</li></ul><h2 id="3-路由"><a href="#3-路由" class="headerlink" title="3 路由"></a>3 路由</h2><p>前端路由主要解决了两个问题:在页面不刷新的前提下实现 URL 的变化，以及捕捉URL的变化并执行相应的页面逻辑。</p><h3 id="RESTful-规范"><a href="#RESTful-规范" class="headerlink" title="RESTful 规范"></a>RESTful 规范</h3><p>REST 的全称是 Representational State Transfer，即表现层状态转移.</p><p>REST设计一般符合以下条件:</p><ul><li>程序或应用的事物都应该被抽象为资源。</li><li>每个资源对应唯一的URI。(URI的全称是 UniformResource Identifier，即统一资源标识符，是一个用于标识某一互联网资源名称的字符串)</li><li>使用统一的接口对资源进行操作。</li><li>对资源的各种操作不会改变资源标识。</li><li>所有的操作都是无状态的。</li></ul><p>在该场景中，需要完成对网站用户的新增、修改、删除和查看操作。在非RESTful架构中，一般被设计为如下所示:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//api.test.com/addUser // POST方法，请求发送新增用户信息</span></span><br><span class="line">https:<span class="comment">//api.test.com/deleteUser //POST方法，请求发送用户的 ID</span></span><br></pre></td></tr></table></figure><p>而基于RESTful架构设计的 API，全局只提供唯一的URI: <code>https://api.test.com/users</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//api.test.com/users // POST方法， 请求发送新增用户信息</span></span><br><span class="line">https:<span class="comment">//api.test.com/users/:id // DELETE方法，用户ID是URI的一部分</span></span><br><span class="line">https:<span class="comment">//api.test.com/users/:id // PUT方法，请求发送用户的信息, ID是 URI 的一部分</span></span><br><span class="line">https:<span class="comment">//api.test.com/users/:id // GET方法，用户 ID是 URI 的一部分</span></span><br></pre></td></tr></table></figure><p>GitHub的API设计被称为RESTful API教科书的典范，地址为<code>https://developer.github.com/v3/</code>。 同时，不得不提的是 GitHub v4 的 API 使用了全新的设计风格 GraphQL ，地址为 <code>https://developer.github.com/v4/</code>。 GraphQL 提供了一套完整描述，使客户端能够没有任何冗余地准确获得需要的数据。</p><h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><p>如果一条路由请求在 all()方法和其他方法中同时命中， 只有执行了 <code>await next()</code>，这条路由请求才会在 all()方法和其他方法中都起作用</p><p>在项目中， all()方法一般用来设置请求头，如设置过期时间、CORS (Cross-Origin Resource Sharing ，跨域资源共享)等，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过调用路由的名称 user，生成路由==”/users/3”</span></span><br><span class="line">router.url(<span class="string">'url'</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">//通过调用路由的名称user，生成路由== ”/users/3”</span></span><br><span class="line">router.url(<span class="string">'user'</span>, &#123; <span class="attr">id</span>: <span class="number">3</span> ));</span><br></pre></td></tr></table></figure><h4 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h4><p>使用 <code>router.url()</code>方法可以在代码中根据路由名称和参数(可选)生成具体的 URL，而不用采用宇符串拼接的方式去生成 URL。</p><h4 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> forums = <span class="keyword">new</span> Router ();</span><br><span class="line"><span class="keyword">const</span> posts = <span class="keyword">new</span> Router ();</span><br><span class="line">posts.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;...&#125;);</span><br><span class="line">posts.get(<span class="string">'/:pid'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;... &#125;);</span><br><span class="line">forums.use(<span class="string">'/forums/:fid/posts'</span>, posts.routes(), posts.allowedMethods());</span><br><span class="line"><span class="comment">//获取互联网版块列表的接口</span></span><br><span class="line"><span class="comment">// ”/forums/:fid/posts”=&gt;”/forums/123/posts”</span></span><br><span class="line"><span class="comment">//获取互联网版块下某篇文章的接口</span></span><br><span class="line"><span class="comment">// ”/forums/:fid/posts/:pid”=&gt; ”/forums/123/posts/123”</span></span><br><span class="line">app.use(forums.routes());</span><br></pre></td></tr></table></figure><h4 id="路由前缀"><a href="#路由前缀" class="headerlink" title="路由前缀"></a>路由前缀</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> router = <span class="keyword">new</span> Router (&#123;</span><br><span class="line">  prefix:<span class="string">'/users'</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//匹配路由”/users”</span></span><br><span class="line">router.get(<span class="string">'/'</span>,...);</span><br><span class="line"><span class="comment">//匹配路由” /users/:id”</span></span><br><span class="line">router.get(<span class="string">'/:id'</span>,...);</span><br></pre></td></tr></table></figure><h4 id="URL参数"><a href="#URL参数" class="headerlink" title="URL参数"></a>URL参数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/:category/:title'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">ctx, next</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 响应请求'/programming/how-to-koa'</span></span><br><span class="line">  <span class="built_in">console</span>.log(ctx .params);</span><br><span class="line">  <span class="comment">//参数解析=&gt; ( category: 'programming', title:'how-to-koa')</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="通过-koa-router实现接口的权限控制"><a href="#通过-koa-router实现接口的权限控制" class="headerlink" title="通过 koa-router实现接口的权限控制"></a>通过 koa-router实现接口的权限控制</h3><p>常见鉴别用户权限的方式有两种，一种是广泛使用的 <code>Cookie-Based Authentication</code> (基于 Cookie 的认证模式)，另一种是 <code>Token-Based Authentication</code> (基于 Token 的认证模式) 。</p><p>本案例采用 Token 方式认证。 </p><p>Token 方式最大的 优点在于采用了无状态机制，在此基础上，可以实现天然的跨域支持、前后端分离等，同时降低了服务端开发和维护的成本 。</p><p>Token 方式的缺点在于服务器每次都需要对 Token 进行校验，这一步骤会对服务器产生运算压力 。 </p><p>另一方面，无状态 API 缺乏对用户流程或异常的控制，为了避免出现一些例如回放攻击的异常情况，应该设置较短的过期时间，且需要对密钥进行严格的保护 。对于具有复杂流程的高危场景(如支付等〉， 则要谨慎选择 Token 认证模式 。</p><p>在本案例中，选用 jsonwebtoken (以下简称 JWT)来实现 Token 的生成、校验和解码。Token 的中间件实现选择 <code>koa-jwt</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> Router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'koa-bodyparser'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; sign &#125; = <span class="built_in">require</span>(<span class="string">'jsonwebtoken'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; secret &#125; = <span class="built_in">require</span>(<span class="string">'./config'</span>);</span><br><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">'koa-jwt'</span>)(&#123; secret &#125;);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> Router();</span><br><span class="line"><span class="keyword">const</span> detail = <span class="keyword">new</span> Router();</span><br><span class="line">app.use(bodyParser());</span><br><span class="line"></span><br><span class="line">router</span><br><span class="line">  .post(<span class="string">'/api/login'</span>, <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> user = ctx.request.body;</span><br><span class="line">    <span class="keyword">if</span> (user &amp;&amp; user.username) &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123; username &#125; = user;</span><br><span class="line">      <span class="keyword">const</span> token = sign(&#123; username &#125;, secret, &#123; <span class="attr">expiresIn</span>: <span class="string">'1h'</span> &#125;);</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        message: <span class="string">'Get Token Success'</span>,</span><br><span class="line">        code: <span class="number">1</span>,</span><br><span class="line">        token</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        message: <span class="string">'Param Error'</span>,</span><br><span class="line">        code: <span class="number">-1</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .get(<span class="string">'/api/userInfo'</span>, jwt, <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">    ctx.body = &#123;</span><br><span class="line">      username: ctx.state.user.username</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)</span><br><span class="line">  .get(<span class="string">'/api/adminInfo'</span>, jwt, admin, <span class="keyword">async</span> ctx =&gt; &#123;</span><br><span class="line">    ctx.body = &#123;</span><br><span class="line">      username: ctx.state.user.username</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.use(router.routes()).use(router.allowedMethods());</span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'app listening 3000...'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>middleware/admin</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (ctx.state.user.username === <span class="string">'admin'</span>) &#123;</span><br><span class="line">      next()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      ctx.body = &#123;</span><br><span class="line">        code: <span class="number">-1</span>,</span><br><span class="line">        message: <span class="string">'Authentication Error'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-HTTP"><a href="#4-HTTP" class="headerlink" title="4 HTTP"></a>4 HTTP</h2><h3 id="URI-和-URL"><a href="#URI-和-URL" class="headerlink" title="URI 和 URL"></a>URI 和 URL</h3><ul><li>URI: Uniform Resource Identifier (统一资源标识符)</li><li>URL: Uniform Resource Locator (统一资源定位符〉</li></ul><p>URL 是 URI的一个子集</p><p>一个完整的 URL 一般由7个部分组成，如下所示:</p><p><code>scheme: [// [user [:password]@] host[:port]] [/path] [?query] [#fragment]</code></p><ul><li>scheme:使用的协议，如 FTP (File Transfer Protocol)、 HTTP 等 。</li><li>user[:password]: 表示访问资源的用户名和密码，常见于 FTP 协议中 。</li><li>host:主机，如 IP 地址或域名。</li><li>port:端口号，如 HTTP 默认为 80 端口 。</li><li>path:访问资源的路径。</li><li>query: 请求数据，以“?”开头。</li><li>fragment: 定位锚点，以“#”开头，可用于快速定位网页对应的段落。</li></ul><h3 id="常用的-HTTP-状态码"><a href="#常用的-HTTP-状态码" class="headerlink" title="常用的 HTTP 状态码"></a>常用的 HTTP 状态码</h3><p>HTTP 状态码主要包括 1<strong> (消息)、 2</strong>(成功)、 3<strong>(重定向)、 4</strong>(请求错误〉、 5<strong> 和 6</strong> (服务器错误)</p><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/http/http.statuscode.png" alt></p><h3 id="常用的请求方法"><a href="#常用的请求方法" class="headerlink" title="常用的请求方法"></a>常用的请求方法</h3><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/http/http.request.png" alt></p><h3 id="常用的-HTTP-首部字段"><a href="#常用的-HTTP-首部字段" class="headerlink" title="常用的 HTTP 首部字段"></a>常用的 HTTP 首部字段</h3><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/http/http.header.png" alt></p><h2 id="5-构建-Koa-Web-应用"><a href="#5-构建-Koa-Web-应用" class="headerlink" title="5 构建 Koa Web 应用"></a>5 构建 Koa Web 应用</h2><p>MVC 全名是 Model View Controller，即模型、视图、 控制器。</p><ul><li>Model: 负责数据访问</li><li>Controller: 负责处理消息</li><li>View: 负责显示数据</li></ul><p>三层架构( 3-TierArchitecture )是一个分层式的架构设计理念，如有必要，也可以分为多层。</p><p>分层的设计理念契合了“高内聚低藕合” 的思想，在软件体系架构设计中是最常见、也是最重要的一种结构。</p><p>通常意义上的三层架构是将整个业务应用划分为 界面层( User Interface Layer)、业务逻辑层( Business Logic Layer)、数据访问层( Data Access Layer)</p><h3 id="在-Koa-中实现-MVC"><a href="#在-Koa-中实现-MVC" class="headerlink" title="在 Koa 中实现 MVC"></a>在 Koa 中实现 MVC</h3><h4 id="分离Router"><a href="#分离Router" class="headerlink" title="分离Router"></a>分离Router</h4><p>路由部分的代码可以分离成独立的文件，并根据项目结构放置在适当的位置，方便管理。本示例中，将路由部分的代码独立在 router.js文件中，并置于项目根目录下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|-- app.js</span><br><span class="line">|-- router.js</span><br></pre></td></tr></table></figure><p>router.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>)();</span><br><span class="line"><span class="keyword">const</span> HomeController = <span class="built_in">require</span>(<span class="string">'./controller/home'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function">(<span class="params">app</span>) =&gt;</span> &#123;</span><br><span class="line">  router.get(<span class="string">'/'</span>, HomeController.index);</span><br><span class="line">  router.get(<span class="string">'/home'</span>, HomeController.home);</span><br><span class="line">  router.get(<span class="string">'/home/:id/:name'</span>, HomeController.homeParams);</span><br><span class="line">  router.get(<span class="string">'/user'</span>, HomeController.login);</span><br><span class="line">  router.post(<span class="string">'/user/register'</span>, HomeController.register);</span><br><span class="line">  app.use(router.routes()).use(router.allowedMethods());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>app.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'koa-bodyparser'</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">const</span> router = <span class="built_in">require</span>(<span class="string">'./router'</span>);</span><br><span class="line">app.use(bodyParser());</span><br><span class="line">router(app);</span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'server is running at http://localhost:3000'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="分离-controller"><a href="#分离-controller" class="headerlink" title="分离 controller"></a>分离 controller</h4><p>controller 负责存放响应 HTPP 请求的业务逻辑代码</p><p>controller/home.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HomeService = <span class="built_in">require</span>(<span class="string">'../service/home'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    index: <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">        ctx.response.body = <span class="string">`&lt;h1&gt;index page&lt;/h1&gt;`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    home: <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(ctx.request.query);</span><br><span class="line">        <span class="built_in">console</span>.log(ctx.request.querystring);</span><br><span class="line">        ctx.response.body = <span class="string">'&lt;h1&gt;HOME page&lt;/h1&gt;'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    homeParams: <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(ctx.params);</span><br><span class="line">        ctx.response.body = <span class="string">'&lt;h1&gt;HOME page /:id/:name&lt;/h1&gt;'</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    login: <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">        ctx.response.body = <span class="string">`&lt;form action="/user/register" method="post"&gt;</span></span><br><span class="line"><span class="string">              &lt;input name="name" type="text" placeholder="请输入用户名：ikcamp"/&gt; </span></span><br><span class="line"><span class="string">              &lt;br/&gt;</span></span><br><span class="line"><span class="string">              &lt;input name="password" type="text" placeholder="请输入密码：123456"/&gt;</span></span><br><span class="line"><span class="string">              &lt;br/&gt; </span></span><br><span class="line"><span class="string">              &lt;button&gt;GoGoGo&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/form&gt;`</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    register: <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123;name,password&#125; = ctx.request.body;</span><br><span class="line">        <span class="keyword">let</span> data = <span class="keyword">await</span> HomeService.register(name, password);</span><br><span class="line">        ctx.response.body = data;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>业务层的代码分离成功之后，需要修改 router.js文件，在文件中引入 controller/home.js, 并以 home.js 中的函数作为 HTTP 请求的响应函数</p><p><strong>注意: 上面的router.js代码是分离后的</strong></p><p>在实际开发中，有时 Node.js 需要进行一些数据访问层的操作，如操作数据库、调用第三方接口获取数据等，因此需要分离出 Service 层来进行相应处理 。相应地，Controller 只需要进行业务逻辑部分的处理即可。</p><h4 id="分离-Service"><a href="#分离-Service" class="headerlink" title="分离 Service"></a>分离 Service</h4><p>service/home.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    register: <span class="keyword">async</span> (name, pwd) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> data;</span><br><span class="line">        <span class="keyword">if</span> (name == <span class="string">'ikcamp'</span> &amp;&amp; pwd == <span class="string">'123456'</span>) &#123;</span><br><span class="line">            data = <span class="string">`Hello， <span class="subst">$&#123;name&#125;</span>！`</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            data = <span class="string">'账号信息错误'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>注意: 上面的 controller/home.js 代码也是分离后的</strong></p><p>至此，项目代码已经完成了基本的结构分离，得到的模块包括单独处理 HTTP 请求的路由文件 router.js、对 HTTP 请求进行响应的 Controller 文件，以及为 Controller 提供 Model 数据的 Service 文件。</p><h3 id="模板引擎"><a href="#模板引擎" class="headerlink" title="模板引擎"></a>模板引擎</h3><p>目前，可以在 Node.js 中应用且比较成熟的模板引擎有很多，例如 EJS、 Jade (现己改 名为 Pug)、 Handlebars、 Nunjucks、 Swig等</p><p>根据自己的需求选择合适的模板引擎</p><p><code>koa-views</code></p><h3 id="静态资源"><a href="#静态资源" class="headerlink" title="静态资源"></a>静态资源</h3><p>在访问站点时，浏览器会接收到各种资源，常见的有 HTML、 JavaScript脚本文件、 css 样式表、 GIF 图片资源和 Flash</p><p>那么浏览器是通过什么方式区分不同的资源类型， 又是如何决定以什么形式来显示的呢?</p><p>答案是根据 MIMEType，也就是该资源的媒体类型。</p><p><img src="https://raw.githubusercontent.com/alex6liu/blog-images/master/http/mime-type.png" alt></p><p><code>koa-static</code></p><h3 id="其他常用开发技巧"><a href="#其他常用开发技巧" class="headerlink" title="其他常用开发技巧"></a>其他常用开发技巧</h3><h4 id="koa-json"><a href="#koa-json" class="headerlink" title="koa-json"></a><code>koa-json</code></h4><h4 id="使用-koa-multer-中间件实现文件上传"><a href="#使用-koa-multer-中间件实现文件上传" class="headerlink" title="使用 koa-multer 中间件实现文件上传"></a>使用 koa-multer 中间件实现文件上传</h4><p><strong>注意: Multer 不会处理任何非 multipart/form-data 类型的表单数据</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">canst koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> multer = <span class="built_in">require</span> ( <span class="string">'koa-multer'</span> );</span><br><span class="line"><span class="keyword">const</span> app = koa();</span><br><span class="line">app.use(multer(&#123;<span class="attr">dest</span> : <span class="string">'./uploads/'</span>&#125;));</span><br><span class="line">app.listen(<span class="number">3000</span>) ;</span><br></pre></td></tr></table></figure><h2 id="6-数据库"><a href="#6-数据库" class="headerlink" title="6 数据库"></a>6 数据库</h2><h3 id="在Koa中应用MySQL数据库"><a href="#在Koa中应用MySQL数据库" class="headerlink" title="在Koa中应用MySQL数据库"></a>在Koa中应用MySQL数据库</h3><p>在 Node.js 中， 一般采用 Sequelize 这个 ORM 类库来操作数据库。 Sequelize 支持多种数据库，如 PostgreSQL、 MySQL、 SQLite和 MSSQL。</p><p><code>npm install sequelize -save</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Sequelize = <span class="built_in">require</span>(<span class="string">'sequelize'</span>);</span><br><span class="line"><span class="keyword">const</span> sequelize = <span class="keyword">new</span> Sequelize(<span class="string">'databaseName'</span>，<span class="string">'userName勺'</span> <span class="string">'password'</span>，&#123;</span><br><span class="line">  host : <span class="string">'localhost'</span>,</span><br><span class="line">  dialect : <span class="string">'mysql'</span></span><br><span class="line">&#125;&#125;;</span><br><span class="line">sequelize.authenticate().then (<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Connected'</span>);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.error (<span class="string">'Connect failed'</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>提示:由于建立数据库连接存在成本，所以通常情况下会通过连接池来提升数据库的连接效率，以避免每次执行数据库操作时重复建立连接。Sequelize默认支持连接池，可以在创建连接时指定 pool 参数来修改默认的连接池设置。</p><p>通过 Sequelize，我们可以直接定义数据模型来创建数据表，而不必去数据库中使用 SQL 脚本创建。可以通过 define 方法定义模型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Categoty = sequelize.define(<span class="string">'category'</span>, &#123;</span><br><span class="line">  id : Sequelize.UUID,</span><br><span class="line">  name: Sequelize.STRING</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Project = sequelize.define(<span class="string">'project'</span>,&#123; <span class="comment">// 定义Project模型</span></span><br><span class="line">  name: &#123;</span><br><span class="line">    type: Sequelize.STRING,</span><br><span class="line">    allowNull: <span class="literal">false</span>,</span><br><span class="line">    unique : <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  date: &#123;</span><br><span class="line">    type : Sequelize.DATE,</span><br><span class="line">    defaultValue: Sequelize.NOW</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Sequelize 会默认为创建的数据表自动创建 createdAt 和 updatedAt 字段。同时，Sequelize 也提供了配置项来禁用或修改这些字段</p><p>在定义模型时，也可以为字段定义 Getter和 Setter， 定义写入数据的规则</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Custom = sequelize.define(<span class="string">'custom'</span>, &#123;</span><br><span class="line">  name: &#123;</span><br><span class="line">    type : Sequelize .STRING,</span><br><span class="line">    <span class="keyword">get</span> () &#123; <span class="comment">//定义 Getter，可以自定义获取数据</span></span><br><span class="line">      <span class="keyword">const</span> title = <span class="keyword">this</span>.getDataValue(<span class="string">'title'</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.getDataValue(<span class="string">'name'</span>)&#125;</span> (<span class="subst">$&#123;title&#125;</span>)`</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  title : &#123;</span><br><span class="line">    title : Sequelize.STRING,</span><br><span class="line">    <span class="keyword">set</span> (val) &#123; <span class="comment">//定义 Setter，可以在写入数据前处理数据</span></span><br><span class="line">      <span class="keyword">this</span>.setDataValue(<span class="string">'title'</span>, val.toUpperCase())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h4><p>可以通过 sync 方法将定义的模型同步到数据库中。既可以同步单个表，也可以同步全部表 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sequelize.sync().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">//同步全部模型</span></span><br><span class="line">  <span class="comment">// done</span></span><br><span class="line">&#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// some error thrown</span></span><br><span class="line">&#125;)</span><br><span class="line">Product.sync() <span class="comment">//同步单个数据表</span></span><br><span class="line">Project.sync(&#123; <span class="attr">force</span>: <span class="literal">true</span> &#125;) <span class="comment">//强制同步，当数据库中已经存在表时，清除已经存在的表</span></span><br></pre></td></tr></table></figure><h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">await</span> Product.findAll(); <span class="comment">// 查出 Product表中的所有数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> Project.findAll(&#123; <span class="comment">// 查询 name和 date字段</span></span><br><span class="line">  attributes: [<span class="string">'name'</span>, <span class="string">'date'</span>]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Op &#125; = <span class="built_in">require</span>( <span class="string">'sequelize'</span> );</span><br><span class="line"><span class="keyword">await</span> Project.findAll(&#123;</span><br><span class="line">  where: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      [Op.like]: <span class="string">'t%'</span> <span class="comment">//查询操作为like，值为以 t开头</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="在-Koa-中应用-MongoDB-数据库"><a href="#在-Koa-中应用-MongoDB-数据库" class="headerlink" title="在 Koa 中应用 MongoDB 数据库"></a>在 Koa 中应用 MongoDB 数据库</h3><p>在开发 Node.js 应用时， 一般借助 Mongoose 类库来访问数据库</p><h3 id="在Koa中应用Redis数据库"><a href="#在Koa中应用Redis数据库" class="headerlink" title="在Koa中应用Redis数据库"></a>在Koa中应用Redis数据库</h3><p><code>npm install redis -save</code></p><h2 id="7-单元测试"><a href="#7-单元测试" class="headerlink" title="7 单元测试"></a>7 单元测试</h2><h2 id="8-优化与部署"><a href="#8-优化与部署" class="headerlink" title="8 优化与部署"></a>8 优化与部署</h2><h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><p><code>npm install log4js -save</code></p><p>根据日志的用途， 一般可以将日志分为访问日志和应用日志</p><p>应用日志包括 debug、 info、 warn 和 error 等不同级别</p><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p><code>npm install pm2@lastst -g</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> koa </tag>
            
            <tag> 笔记 </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端体系目录</title>
      <link href="/2019/04/25/%E6%80%BB%E7%BB%93/%E5%89%8D%E7%AB%AF%E4%BD%93%E7%B3%BB%E7%9B%AE%E5%BD%95/"/>
      <url>/2019/04/25/%E6%80%BB%E7%BB%93/%E5%89%8D%E7%AB%AF%E4%BD%93%E7%B3%BB%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="1、HTML-HTML5基础："><a href="#1、HTML-HTML5基础：" class="headerlink" title="1、HTML/HTML5基础："></a>1、HTML/HTML5基础：</h2><p>1.0、语义化H5标签<br>1.1、H5引进了一些新的标签，特别注意article、header、footer、aside、nav等，注意HTML的标题结构<br>1.2、理解浏览器解析HTML的过程，理解DOM的树形结构，及相应API<br>1.3、理解HTML标签在各个浏览器上的默认样式（代理样式），理解CSS中的重置样式表的概念<br>1.4、理解Canvas、SVG、video等功能性标签<br>1.5、理解form、iframe标签，理解文件提交过程<br>推荐书籍：<br>A、《HTML5秘籍》</p><h2 id="2、高健壮性CSS"><a href="#2、高健壮性CSS" class="headerlink" title="2、高健壮性CSS"></a>2、高健壮性CSS</h2><p>2.1、学习基础知识，包括大部分常用属性、选择器的用法，要对大多数标签有个基础概念,在日常使用的基础上，尝试学习浏览器兼容性问题，要知道兼容性的主要问题及解决方法<br>2.2、深入理解盒子模型，区分块级元素、行内元素，有几个比较重要的属性：display、float、position，一定要弄清楚区分盒子、行内盒子的概念另外可以考虑学一些预编译语言：sass、less，都很简单<br>2.3、学习常用框架，可以使用bootstrap构建项目<br>2.4、学习框架的代码组织方式包括：12格栅系统、组件化、组件的风格化等<br>2.5、学习CSS 3的新功能，特别是动画效果、选择器<br>2.6、认真学习一些CSS对象化思想，学习编写简洁性、高复用性、高健壮性的CSS<br>2.7、有空的话，可以看看所谓的扁平化设计，还有简洁性<br>2.8、理解CSSOM、render、reflow、CSS性能、CSS阻塞概念<br>学习方法：<br>1、多看别人的代码，一些设计的不错的网站就是很好的学习素材，比如拉勾网<br>2、一定要学会使用grunt、gulp压缩CSS<br>3、display + position + float 可以组合出很复杂的效果，多想想盒子模型<br>4、尝试在不用float，且position不为absolute的情况下实现等高、等宽等布局<br>推荐书籍：<br>1、《图灵程序设计丛书:HTML5与CSS3设计模式》<br>2、《Web开发技术丛书:深入理解Bootstrap》<br>3、《高流量网站CSS开发技术》<br>4、《CSS设计彻底研究》 这个一定要<br>5、《Web开发技术丛书:深入理解Bootstrap》<br>6、可以找一些专门讲SASS的书，但是我没找到<br>7、《CSS权威指南(第3版)》</p><h2 id="3、深入学习JS"><a href="#3、深入学习JS" class="headerlink" title="3、深入学习JS"></a>3、深入学习JS</h2><p>3.1、重新学习JS语法，注意：表达式（特别是函数访问表达式）、语句、类型（包括类型判断)注意，这个时候主要倾向于“原生”JS哦，不要使用框架<br>3.2、深入理解JS的“一级函数”、对象、类的概念,学会使用函数来构造类、闭包，学会用面向对象的方式组织代码<br>3.3、深入理解JS的作用域、作用域链、this对象（在各种调用形式中，this的指向）理解函数的各种调用方法（call、apply、bind等）<br>3.4、理解对象、数组的概念<br>理解对象的“[]”调用，理解对象是一种“特殊数组”<br>理解for语句的用法<br>深入理解JS中原始值、包装对象的概念（重要）<br>3.5、学习一些常用框架的使用方法，包括：JQUERY、underscore、EXTJS，加分点有：backbone、angularjs、ejs、jade<br>通过比较多个框架的使用方法，想清楚“JS语言极其灵活”这一事实<br>总结常见用法，提高学习速度<br>学习模块化开发（使用require.js、sea.js等）<br>3.6、适当看一些著名框架的源码，比如jQuery（不建议看angularjs，太复杂了）<br>重要的是学习框架中代码的组织形式，即设计模式<br>3.7、了解JS解释、运行过程，理解JS的单线程概念<br>深入理解JS事件、异步、阻塞概念<br>3.8、理解浏览器组成部件，理解V8的概念<br>学习V8的解释-运行过程<br>在V8基础上，学会如何提高JS性能<br>学会使用chrome的profile进行内存泄露分析<br>学习方法：<br>1、提高对自己的要求，要有代码洁癖<br>2、适当的时候看看优秀框架的源码，特别是框架的架构模式、设计模式<br>3、多学学设计模式<br>4、学习原生JS、DOM、BOM、Ajax<br>推荐书籍：<br>1、《O’Reilly精品图书系列:​JavaScript权威指南(​第6版)》 必看<br>2、《JavaScript设计模式》<br>3、《WebKit技术内幕》<br>4、《JavaScript框架高级编​程:应用Prototype YUI Ext JS Dojo MooTools》<br>5、《用AngularJS开发下一代Web应用》<br>6、跨终端<br>6.1、理解混合APP的概念<br>6.2、理解网页在各类终端上的表现<br>6.3、理解网页与原生app的区同，重在约束<br>6.4、理解单页网站，特别要规避页面的内存泄露问题<br>6.5、入门nodejs，对其有个基础概念，知道它能做什么，缺点是什么<br>推荐书籍：<br>1、《单页Web应用:JavaScript从前端到后端 》<br>2、《Web 2.0界面设计模式》<br>3、《响应式Web设计:HTML5和​CSS3实战》<br>5、工具<br>学会使用grunt进行JS、CSS、HTML 压缩，特别是模块化js开发时候的压缩<br>会用PS进行切图、保存icon<br>入手sublime、webstorm<br>学会使用chrome调试面板，特别是：console、network、profile、element</p><p>进阶：</p><h2 id="4、性能"><a href="#4、性能" class="headerlink" title="4、性能"></a>4、性能</h2><p>1.1、理解资源加载的过程<br>包括：TCP握手连接、HTTP请求报文、HTTP回复报文<br>1.2、理解资源加载的性能约束，包括：TCP连接限制、TCP慢启动<br>1.3、理解CSS文件、JS文件压缩，理解不同文件放在页面不同位置后对性能的影响<br>1.4、理解CDN加速<br>1.5、学会使用HTTP头控制资源缓存，理解cache-control、expire、max-age、ETag对缓存的影响<br>1.6、深入理解浏览器的render过程<br>推荐书籍：<br>1、《Web性能权威指南》<br>2、雅虎网站页面性能优化的34条黄金守则</p><h2 id="5、HTTP及TCP协议族"><a href="#5、HTTP及TCP协议族" class="headerlink" title="5、HTTP及TCP协议族"></a>5、HTTP及TCP协议族</h2><p>2.1、学习http协议，理解http请求-响应模式<br>2.2、理解http是应用层协议，它是构建在TCP/IP协议上的<br>2.3、理解http报文（请求-响应报文）<br>2.4、理解http代理、缓存、网关等概念，指定如何控制缓存<br>2.5、理解http协议内容，包括：状态码、http头、长连接（http1.1）<br>2.6、学习http服务器的工作模型，对静态文件、CGI、DHTML的处理流程有个大致概念<br>推荐书籍：<br>1、《HTTP权威指南》<br>2、《TCP/IP详解》<br>3、《图解TCP/IP(第5版)》</p><h2 id="6、安全性"><a href="#6、安全性" class="headerlink" title="6、安全性"></a>6、安全性</h2>]]></content>
      
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端进阶书籍</title>
      <link href="/2019/04/25/%E6%80%BB%E7%BB%93/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6%E4%B9%A6%E7%B1%8D/"/>
      <url>/2019/04/25/%E6%80%BB%E7%BB%93/%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6%E4%B9%A6%E7%B1%8D/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/qiu-deqing/FE-learning" target="_blank" rel="noopener">Link</a></p><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p>[ ] 图解http<br>[ ] HTTP权威指南<br>[ ] 图解tcp/ip</p><h2 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h2><p>[ ] Web性能权威指南<br>[ ] 雅虎网站页面性能优化的34条黄金守则<br>[ ] 高性能网站建设指南</p><h2 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h2><p>[ ] JavaScript权威指南<br>[ ] JavaScript高级程序设计<br>[ ] JavaScript DOM编程艺术<br>[ ] 深入理解ES6<br>[ ] javaScript 忍者秘籍</p><h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><p>[ ] CSS权威指南<br>[ ] CSS 揭秘</p><h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><p>[ ] 大型网站技术架构<br>[ ] Head First设计模式<br>[ ] 设计模式</p><h2 id="UI-UX"><a href="#UI-UX" class="headerlink" title="UI/UX"></a>UI/UX</h2><p>[ ] 点石成金</p><h2 id="前端框架"><a href="#前端框架" class="headerlink" title="前端框架"></a>前端框架</h2><p>[ ] 深入React技术栈<br>[ ] React 进阶之路<br>[ ] React状态管理与同构实战<br>[ ] vue.js 权威指南<br>[ ] Vue.js实战</p><h2 id="node及后端框架"><a href="#node及后端框架" class="headerlink" title="node及后端框架"></a>node及后端框架</h2><p>[ ] 深入浅出Node.js<br>[ ] Node.js开发指南<br>[ ] koa和node.js开发实战<br>[ ] express</p><h2 id="资深"><a href="#资深" class="headerlink" title="资深!!!"></a>资深!!!</h2><p>[ ] 人月神话<br>[ ] 算法导论<br>[ ] 操作系统<br>[ ] 编译原理<br>[ ] 计算机网络原理<br>[ ] 计算机程序设计的艺术</p>]]></content>
      
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> 书 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>What technical details should a programmer of a web application consider before making the site public?</title>
      <link href="/2019/04/25/%E6%80%BB%E7%BB%93/What-technical-details-should-a-programmer-of-a-web-application-consider-before-making-the-site-public/"/>
      <url>/2019/04/25/%E6%80%BB%E7%BB%93/What-technical-details-should-a-programmer-of-a-web-application-consider-before-making-the-site-public/</url>
      
        <content type="html"><![CDATA[<h1 id="What-technical-details-should-a-programmer-of-a-web-application-consider-before-making-the-site-public"><a href="#What-technical-details-should-a-programmer-of-a-web-application-consider-before-making-the-site-public" class="headerlink" title="What technical details should a programmer of a web application consider before making the site public?"></a>What technical details should a programmer of a web application consider before making the site public?</h1><p><a href="https://softwareengineering.stackexchange.com/questions/46716/what-technical-details-should-a-programmer-of-a-web-application-consider-before" target="_blank" rel="noopener">来源</a></p><p>The idea here is that most of us should already know most of what is on this list. But there just might be one or two items you haven’t really looked into before, don’t fully understand, or maybe never even heard of.</p><h2 id="Interface-and-User-Experience"><a href="#Interface-and-User-Experience" class="headerlink" title="Interface and User Experience"></a>Interface and User Experience</h2><ul><li><p>Be aware that browsers implement standards inconsistently and make sure your site works reasonably well across all major browsers. At a minimum test against a recent Gecko engine (Firefox), a WebKit engine (Safari and some mobile browsers), Chrome, your supported IE browsers (take advantage of the Application Compatibility VPC Images), and Opera. Also consider how browsers render your site in different operating systems.</p></li><li><p>Consider how people might use the site other than from the major browsers: cell phones, screen readers and search engines, for example. — Some accessibility info: WAI and Section508, Mobile development: MobiForge.</p></li><li><p>Staging: How to deploy updates without affecting your users. Have one or more test or staging environments available to implement changes to architecture, code or sweeping content and ensure that they can be deployed in a controlled way without breaking anything. Have an automated way of then deploying approved changes to the live site. This is most effectively implemented in conjunction with the use of a version control system (git, Subversion, etc.) and an automated build mechanism (Ant, NAnt, etc.).</p></li><li><p>Don’t display unfriendly errors directly to the user.</p></li><li><p>Don’t put users’ email addresses in plain text as they will get spammed to death.</p></li><li><p>Add the attribute rel=”nofollow” to user-generated links to avoid spam.</p></li><li><p>Build well-considered limits into your site - This also belongs under Security.</p></li><li><p>Learn how to do progressive enhancement.</p></li><li><p>Redirect after a POST if that POST was successful, to prevent a refresh from submitting again.</p></li><li><p>Don’t forget to take accessibility into account. It’s always a good idea and in certain circumstances it’s a legal requirement. WAI-ARIA and WCAG 2 are good resources in this area.</p></li><li><p>Read Don’t Make Me Think.</p></li></ul><h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><ul><li><p>It’s a lot to digest but the OWASP development guide covers Web Site security from top to bottom.<br>Know about Injection especially SQL injection and how to prevent it.</p></li><li><p>Never trust user input, nor anything else that comes in the request (which includes cookies and hidden form field values!).</p></li><li><p>Hash passwords using salt and use different salts for your rows to prevent rainbow attacks. Use a slow hashing algorithm, such as bcrypt (time tested) or scrypt (even stronger, but newer) (1, 2), for storing passwords. (How To Safely Store A Password). The NIST also approves of PBKDF2 to hash passwords”, and it’s FIPS approved in .NET (more info here). Avoid using MD5 or SHA family directly.</p></li><li><p>Don’t try to come up with your own fancy authentication system. It’s such an easy thing to get wrong in subtle and untestable ways and you wouldn’t even know it until after you’re hacked.</p></li><li><p>Know the rules for processing credit cards. (See this question as well)<br>Use SSL/TLS/HTTPS for any sites where sensitive data is entered (like credentials, Personally Identifiable Information, credit card info). Let’s Encrypt is a free certificate authority which can help.</p></li><li><p>Prevent session hijacking.</p></li><li><p>Avoid cross site scripting (XSS).</p></li><li><p>Avoid cross site request forgeries (CSRF).</p></li><li><p>Avoid Clickjacking.</p></li><li><p>Keep your system(s) up to date with the latest patches.</p></li><li><p>Make sure your database connection information is secured.</p></li><li><p>Keep yourself informed about the latest attack techniques and vulnerabilities affecting your platform.</p></li><li><p>Read The Google Browser Security Handbook.</p></li><li><p>Read The Web Application Hacker’s Handbook.</p></li><li><p>Consider The principle of least privilege. Try to run your app server as non-root. (tomcat example)<br>Put rel=”noopener noreferrer” on all user-provided links with target=”_blank” to prevent JavaScript on the destination page from redirecting your page to somewhere else, such as a fake login page. More Info<br>Consider using a strict Content Security Policy.</p></li></ul><h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><ul><li><p>Implement caching if necessary, understand and use HTTP caching properly as well as HTML5 Manifest.</p></li><li><p>Optimize images - don’t use a 20 KB image for a repeating background.</p></li><li><p>Compress content for speed, see brotli, gzip/deflate (deflate is better).</p></li><li><p>Combine/concatenate multiple stylesheets or multiple script files to reduce the number of browser connections and improve gzip ability to compress duplications between files.</p></li><li><p>Take a look at the Yahoo Exceptional Performance site, lots of great guidelines, including improving front-end performance and their YSlow tool (requires Firefox, Safari, Chrome or Opera). Also, Google page speed (use with browser extension) is another tool for performance profiling, and it optimizes your images too.</p></li><li><p>Use CSS Image Sprites for small related images like toolbars (see the “minimize HTTP requests” point)</p></li><li><p>Use SVG image sprites for small related images like toolbars. SVG coloring is bit tricky. You can read about it here.</p></li><li><p>Busy web sites should consider splitting components across domains. Specifically…</p></li><li><p>Static content (i.e. images, CSS, JavaScript, and generally content that doesn’t need access to cookies) should go in a separate domain that does not use cookies, because all cookies for a domain and its subdomains are sent with every request to the domain and its subdomains. One good option here is to use a Content Delivery Network (CDN), but consider the case where that CDN may fail by including alternative CDNs, or local copies that can be served instead.<br>Minimize the total number of HTTP requests required for a browser to render the page.</p></li><li><p>Choose a template engine and render/pre-compile it using task-runners like gulp or grunt</p></li><li><p>Make sure there’s a favicon.ico file in the root of the site, i.e. /favicon.ico. Browsers will automatically request it, even if the icon isn’t mentioned in the HTML at all. If you don’t have a /favicon.ico, this will result in a lot of 404s, draining your server’s bandwidth.</p></li></ul><h2 id="SEO-Search-Engine-Optimization"><a href="#SEO-Search-Engine-Optimization" class="headerlink" title="SEO (Search Engine Optimization)"></a>SEO (Search Engine Optimization)</h2><ul><li>Use “search engine friendly” URLs, i.e. use example.com/pages/45-article-title instead of example.com/index.php?page=45</li><li>When using # for dynamic content change the # to #! and then on the server $_REQUEST[“_escaped_fragment_”] is what googlebot uses instead of #!. In other words, ./#!page=1 becomes ./?_escaped_fragments_=page=1. Also, for users that may be using FF.b4 or Chromium, history.pushState({“foo”:”bar”}, “About”, “./?page=1”); Is a great command. So even though the address bar has changed the page does not reload. This allows you to use ? instead of #! to keep dynamic content and also tell the server when you email the link that we are after this page, and the AJAX does not need to make another extra request.</li><li>Don’t use links that say “click here”. You’re wasting an SEO opportunity and it makes things harder for people with screen readers.</li><li>Have an XML sitemap, preferably in the default location /sitemap.xml.</li><li>Use <link rel="canonical" ...> when you have multiple URLs that point to the same content, this issue can also be addressed from Google Webmaster Tools.</li><li>Use Google Webmaster Tools and Bing Webmaster Tools.</li><li>Install Google Analytics right at the start (or an open source analysis tool like Piwik).</li><li>Know how robots.txt and search engine spiders work.</li><li>Redirect requests (using 301 Moved Permanently) asking for <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> to example.com (or the other way round) to prevent splitting the google ranking between both sites.</li><li>Know that there can be badly-behaved spiders out there.</li><li>If you have non-text content look into Google’s sitemap extensions for video etc. There is some good information about this in Tim Farley’s answer.</li></ul><h2 id="Technology"><a href="#Technology" class="headerlink" title="Technology"></a>Technology</h2><ul><li>Understand HTTP and things like GET, POST, sessions, cookies, and what it means to be “stateless”.</li><li>Write your XHTML/HTML and CSS according to the W3C specifications and make sure they validate. The goal here is to avoid browser quirks modes and as a bonus make it much easier to work with non-traditional browsers like screen readers and mobile devices.</li><li>Understand how JavaScript is processed in the browser.</li><li>Understand how JavaScript, style sheets, and other resources used by your page are loaded and consider their impact on perceived performance. It is now widely regarded as appropriate to move scripts to the bottom of your pages with exceptions typically being things like analytics apps or HTML5 shims.</li><li>Understand how the JavaScript sandbox works, especially if you intend to use iframes.</li><li>Be aware that JavaScript can and will be disabled, and that AJAX is therefore an extension, not a baseline. Even if most normal users leave it on now, remember that NoScript is becoming more popular, mobile devices may not work as expected, and Google won’t run most of your JavaScript when indexing the site.</li><li>Learn the difference between 301 and 302 redirects (this is also an SEO issue).</li><li>Learn as much as you possibly can about your deployment platform.</li><li>Consider using a Reset Style Sheet or normalize.css.</li><li>Consider JavaScript frameworks (such as jQuery, MooTools, Prototype, Dojo or YUI 3), which will hide a lot of the browser differences when using JavaScript for DOM manipulation.</li><li>Taking perceived performance and JS frameworks together, consider using a service such as the Google Libraries API to load frameworks so that a browser can use a copy of the framework it has already cached rather than downloading a duplicate copy from your site.</li><li>Don’t reinvent the wheel. Before doing ANYTHING search for a component or example on how to do it. There is a 99% chance that someone has done it and released an OSS version of the code.</li><li>On the flipside of that, don’t start with 20 libraries before you’ve even decided what your needs are. Particularly on the client-side web where it’s almost always ultimately more important to keep things lightweight, fast, and flexible.</li></ul><h2 id="Bug-fixing"><a href="#Bug-fixing" class="headerlink" title="Bug fixing"></a>Bug fixing</h2><ul><li>Understand you’ll spend 20% of your time coding and 80% of it maintaining, so code accordingly.</li><li>Set up a good error reporting solution.</li><li>Have a system for people to contact you with suggestions and criticisms.</li><li>Document how the application works for future support staff and people performing maintenance.</li><li>Make frequent backups! (And make sure those backups are functional) Have a restore strategy, not just a backup strategy.</li><li>Use a version control system to store your files, such as Subversion, Mercurial or Git.</li><li>Don’t forget to do your Acceptance Testing. Frameworks like Selenium can help. Especially if you fully automate your testing, perhaps by using a Continuous Integration tool, such as Jenkins.</li><li>Make sure you have sufficient logging in place using frameworks such as log4j, log4net or log4r. If something goes wrong on your live site, you’ll need a way of finding out what.</li><li>When logging make sure you capture both handled exceptions, and unhandled exceptions. Report/analyse the log output, as it’ll show you where the key issues are in your site.</li></ul><h2 id="Other"><a href="#Other" class="headerlink" title="Other"></a>Other</h2><ul><li>Implement both server-side and client-side monitoring and analytics (one should be proactive rather than reactive).</li><li>Use services like UserVoice and Intercom (or any other similar tools) to constantly keep in touch with your users.</li><li>Follow Vincent Driessen’s Git branching model</li></ul><p>Lots of stuff omitted not necessarily because they’re not useful answers, but because they’re either too detailed, out of scope, or go a bit too far for someone looking to get an overview of the things they should know. Please feel free to edit this as well, I probably missed some stuff or made some mistakes.</p>]]></content>
      
      
      
        <tags>
            
            <tag> web应用 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cookie和session的区别</title>
      <link href="/2019/04/25/%E7%BD%91%E7%BB%9C/cookie%E5%92%8Csession%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/04/25/%E7%BD%91%E7%BB%9C/cookie%E5%92%8Csession%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h1 id="cookie和session的区别"><a href="#cookie和session的区别" class="headerlink" title="cookie和session的区别"></a>cookie和session的区别</h1><ol><li>由于HTTP协议是无状态的协议，所以服务端需要记录用户的状态时，就需要用某种机制来识具体的用户，这个机制就是Session.典型的场景比如购物车，当你点击下单按钮时，由于HTTP协议无状态，所以并不知道是哪个用户操作的，所以服务端要为特定的用户创建了特定的Session，用用于标识这个用户，并且跟踪用户，这样才知道购物车里面有几本书。这个Session是保存在服务端的，有一个唯一标识。在服务端保存Session的方法很多，内存、数据库、文件都有。集群的时候也要考虑Session的转移，在大型的网站，一般会有专门的Session服务器集群，用来保存用户会话，这个时候 Session 信息都是放在内存的，使用一些缓存服务比如Memcached之类的来放 Session。</li><li>思考一下服务端如何识别特定的客户？这个时候Cookie就登场了。每次HTTP请求的时候，客户端都会发送相应的Cookie信息到服务端。实际上大多数的应用都是用 Cookie 来实现Session跟踪的，第一次创建Session的时候，服务端会在HTTP协议中告诉客户端，需要在 Cookie 里面记录一个Session ID，以后每次请求把这个会话ID发送到服务器，我就知道你是谁了。有人问，如果客户端的浏览器禁用了 Cookie 怎么办？一般这种情况下，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如 sid=xxxxx 这样的参数，服务端据此来识别用户。</li><li>Cookie其实还可以用在一些方便用户的场景下，设想你某次登陆过一个网站，下次登录的时候不想再次输入账号了，怎么办？这个信息可以写到Cookie里面，访问网站的时候，网站页面的脚本可以读取这个信息，就自动帮你把用户名给填了，能够方便一下用户。这也是Cookie名称的由来，给用户的一点甜头。</li></ol><p>所以，总结一下：Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中；Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，也是实现Session的一种方式。</p><hr><ol><li>session 在服务器端，cookie 在客户端（浏览器）</li><li>session 默认被存在在服务器的一个文件里（不是内存）</li><li>session 的运行依赖 session id，而 session id 是存在 cookie 中的，也就是说，如果浏览器禁用了 cookie ，同时 session 也会失效（但是可以通过其它方式实现，比如在 url 中传递 session_id）</li><li>session 可以放在 文件、数据库、或内存中都可以。</li><li>用户验证这种场合一般会用 session</li></ol><hr>]]></content>
      
      
      
        <tags>
            
            <tag> cookie </tag>
            
            <tag> session </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发送短信</title>
      <link href="/2019/04/22/%E6%80%BB%E7%BB%93/%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1/"/>
      <url>/2019/04/22/%E6%80%BB%E7%BB%93/%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="发送短信"><a href="#发送短信" class="headerlink" title="发送短信"></a>发送短信</h1><p>安装MD5</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i md5</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timestamp = <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>()) / <span class="number">1000</span></span><br><span class="line"><span class="keyword">const</span> nonce = <span class="keyword">this</span>.generateCode()</span><br><span class="line"><span class="keyword">const</span> originString = <span class="keyword">this</span>.platform.jscode + timestamp + nonce + <span class="keyword">this</span>.state.phoneNumber</span><br><span class="line"><span class="keyword">const</span> sign = md5(originString)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line">self</span><br><span class="line">  .am(<span class="string">'sms'</span>, &#123;</span><br><span class="line">    mobile: <span class="keyword">this</span>.state.phoneNumber,</span><br><span class="line">    <span class="comment">// jscode: this.state.jscode,</span></span><br><span class="line">    timestamp,</span><br><span class="line">    nonce,</span><br><span class="line">    sign</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成6位随机数字</span></span><br><span class="line">generateCode() &#123;</span><br><span class="line">  <span class="keyword">let</span> arr = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="built_in">Math</span>.random() * <span class="number">9</span></span><br><span class="line">    num = <span class="built_in">parseInt</span>(num, <span class="number">10</span>)</span><br><span class="line">    arr.push(num);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr.join(<span class="string">''</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 短信 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>koa学习</title>
      <link href="/2019/04/22/koa/koa%E5%AD%A6%E4%B9%A0/"/>
      <url>/2019/04/22/koa/koa%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="koa-学习"><a href="#koa-学习" class="headerlink" title="koa 学习"></a>koa 学习</h1><h2 id="洋葱模型"><a href="#洋葱模型" class="headerlink" title="洋葱模型"></a>洋葱模型</h2><p><img src="https://camo.githubusercontent.com/d80cf3b511ef4898bcde9a464de491fa15a50d06/68747470733a2f2f7261772e6769746875622e636f6d2f66656e676d6b322f6b6f612d67756964652f6d61737465722f6f6e696f6e2e706e67" alt></p><h2 id="Middleware"><a href="#Middleware" class="headerlink" title="Middleware"></a>Middleware</h2><h3 id="Router"><a href="#Router" class="headerlink" title="Router"></a>Router</h3><p><code>koa-router</code></p><p><a href="https://github.com/ZijianHe/koa-router" target="_blank" rel="noopener">link</a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p><code>npm install koa-router</code></p><h4 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">var</span> Router = <span class="built_in">require</span>(<span class="string">'koa-router'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> Router();</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/'</span>, (ctx, next) =&gt; &#123;</span><br><span class="line">  <span class="comment">// ctx.router available</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app</span><br><span class="line">  .use(router.routes())</span><br><span class="line">  .use(router.allowedMethods());</span><br></pre></td></tr></table></figure><p>Additionaly, <code>router.all()</code> can be used to match against all methods.</p><h4 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/:id'</span>, (ctx, next) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.params)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="url传值"><a href="#url传值" class="headerlink" title="url传值"></a>url传值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/news'</span>, (ctx, next) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.query) <span class="comment">// -&gt; 推荐</span></span><br><span class="line">  <span class="built_in">console</span>.log(ctx.querystring)</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.url)</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.url)</span><br><span class="line">  <span class="built_in">console</span>.log(ctx.request.query)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="公共数据"><a href="#公共数据" class="headerlink" title="公共数据"></a>公共数据</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.use(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">  ctx.state = &#123;</span><br><span class="line">    session: <span class="keyword">this</span>.session,</span><br><span class="line">    title: <span class="string">'app'</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="ejs模板引擎"><a href="#ejs模板引擎" class="headerlink" title="ejs模板引擎"></a>ejs模板引擎</h3><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><p><code>npm i ejs koa-views</code></p><h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> views = <span class="built_in">require</span>(<span class="string">'koa-views'</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line">app.use(views(path.join(__dirname, <span class="string">'../views'</span>), &#123;</span><br><span class="line">  extension: <span class="string">'ejs'</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.use(views('views', &#123; extension: 'ejs' &#125;)) // 后缀名ejs</span></span><br><span class="line"><span class="comment">// app.use(views('views', &#123; map: &#123;html: 'ejs' &#125;&#125;)) // 后缀名html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在views文件夹下新建index.ejs</span></span><br><span class="line">app.use(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> ctx.render(<span class="string">'index'</span>, &#123;</span><br><span class="line">    title: <span class="string">'hello'</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ejs语法"><a href="#ejs语法" class="headerlink" title="ejs语法"></a>ejs语法</h4><h5 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h5><p><code>&lt;%= title %&gt;</code></p><h5 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h5><p>list是绑定的数据</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">for</span>(<span class="keyword">let</span> i; i&lt; list.length: i++) &#123; %&gt;</span><br><span class="line">  &lt;%= list[i] %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h5 id="引入模板"><a href="#引入模板" class="headerlink" title="引入模板"></a>引入模板</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// public/header.ejs</span></span><br><span class="line">&lt;h2&gt;Header&lt;<span class="regexp">/h2&gt;</span></span><br></pre></td></tr></table></figure><p><code>&lt;% include public/header.ejs %&gt;</code></p><h5 id="绑定html数据"><a href="#绑定html数据" class="headerlink" title="绑定html数据"></a>绑定html数据</h5><p><code>&lt;%- html %&gt;</code></p><h3 id="获取post提交的数据"><a href="#获取post提交的数据" class="headerlink" title="获取post提交的数据"></a>获取post提交的数据</h3><h4 id="原生"><a href="#原生" class="headerlink" title="原生"></a>原生</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( ctx.url === <span class="string">'/'</span> &amp;&amp; ctx.method === <span class="string">'GET'</span> ) &#123;</span><br><span class="line">    <span class="comment">// 当GET请求时候返回表单页面</span></span><br><span class="line">    <span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;h1&gt;koa2 request post demo&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;form method="POST" action="/"&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;userName&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="userName" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;nickName&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="nickName" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;email&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="email" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;button type="submit"&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="string">      &lt;/form&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    ctx.body = html</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( ctx.url === <span class="string">'/'</span> &amp;&amp; ctx.method === <span class="string">'POST'</span> ) &#123;</span><br><span class="line">    <span class="comment">// 当POST请求的时候，解析POST表单里的数据，并显示出来</span></span><br><span class="line">    <span class="keyword">let</span> postData = <span class="keyword">await</span> parsePostData( ctx )</span><br><span class="line">    ctx.body = postData</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 其他请求显示404</span></span><br><span class="line">    ctx.body = <span class="string">'&lt;h1&gt;404！！！ o(╯□╰)o&lt;/h1&gt;'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解析上下文里node原生请求的POST参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parsePostData</span>(<span class="params"> ctx </span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> postdata = <span class="string">""</span>;</span><br><span class="line">      ctx.req.addListener(<span class="string">'data'</span>, (data) =&gt; &#123;</span><br><span class="line">        postdata += data</span><br><span class="line">      &#125;)</span><br><span class="line">      ctx.req.addListener(<span class="string">"end"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> parseData = parseQueryStr( postdata )</span><br><span class="line">        resolve( parseData )</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> ( err ) &#123;</span><br><span class="line">      reject(err)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将POST请求参数字符串解析成JSON</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parseQueryStr</span>(<span class="params"> queryStr </span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> queryData = &#123;&#125;</span><br><span class="line">  <span class="keyword">let</span> queryStrList = queryStr.split(<span class="string">'&amp;'</span>)</span><br><span class="line">  <span class="built_in">console</span>.log( queryStrList )</span><br><span class="line">  <span class="keyword">for</span> (  <span class="keyword">let</span> [ index, queryStr ] <span class="keyword">of</span> queryStrList.entries()  ) &#123;</span><br><span class="line">    <span class="keyword">let</span> itemList = queryStr.split(<span class="string">'='</span>)</span><br><span class="line">    queryData[ itemList[<span class="number">0</span>] ] = <span class="built_in">decodeURIComponent</span>(itemList[<span class="number">1</span>])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> queryData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="koa-bodyparser中间件"><a href="#koa-bodyparser中间件" class="headerlink" title="koa-bodyparser中间件"></a>koa-bodyparser中间件</h4><p><code>npm i koa-bodyparser</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">'koa-bodyparser'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用ctx.body解析中间件</span></span><br><span class="line">app.use(bodyParser())</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( ctx.url === <span class="string">'/'</span> &amp;&amp; ctx.method === <span class="string">'GET'</span> ) &#123;</span><br><span class="line">    <span class="comment">// 当GET请求时候返回表单页面</span></span><br><span class="line">    <span class="keyword">let</span> html = <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;h1&gt;koa2 request post demo&lt;/h1&gt;</span></span><br><span class="line"><span class="string">      &lt;form method="POST" action="/"&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;userName&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="userName" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;nickName&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="nickName" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;p&gt;email&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;input name="email" /&gt;&lt;br/&gt;</span></span><br><span class="line"><span class="string">        &lt;button type="submit"&gt;submit&lt;/button&gt;</span></span><br><span class="line"><span class="string">      &lt;/form&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    ctx.body = html</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( ctx.url === <span class="string">'/'</span> &amp;&amp; ctx.method === <span class="string">'POST'</span> ) &#123;</span><br><span class="line">    <span class="comment">// 当POST请求的时候，中间件koa-bodyparser解析POST表单里的数据，并显示出来</span></span><br><span class="line">    <span class="keyword">let</span> postData = ctx.request.body <span class="comment">// -&gt; 就是这一句</span></span><br><span class="line">    ctx.body = postData</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 其他请求显示404</span></span><br><span class="line">    ctx.body = <span class="string">'&lt;h1&gt;404！！！ o(╯□╰)o&lt;/h1&gt;'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="静态资源"><a href="#静态资源" class="headerlink" title="静态资源"></a>静态资源</h3><h4 id="原生-1"><a href="#原生-1" class="headerlink" title="原生"></a>原生</h4><p><a href="https://github.com/ChenShenhai/koa2-note/blob/master/note/static/server.md" target="_blank" rel="noopener">link</a></p><h4 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h4><p><code>koa-static</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">static</span> = <span class="built_in">require</span>(<span class="string">'koa-static'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态资源目录对于相对入口文件index.js的路径</span></span><br><span class="line"><span class="keyword">const</span> staticPath = <span class="string">'./static'</span></span><br><span class="line"></span><br><span class="line">app.use(<span class="keyword">static</span>(</span><br><span class="line">  path.join( __dirname,  staticPath)</span><br><span class="line">))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line">  ctx.body = <span class="string">'hello world'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'[demo] static-use-middleware is starting at port 3000'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="art-template模板引擎"><a href="#art-template模板引擎" class="headerlink" title="art-template模板引擎"></a>art-template模板引擎</h3><ul><li>速度极快</li><li>支持ejs语法</li></ul><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><p><code>npm install --save art-template koa-art-template</code></p><h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>);</span><br><span class="line"><span class="keyword">const</span> render = <span class="built_in">require</span>(<span class="string">'koa-art-template'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa();</span><br><span class="line">render(app, &#123;</span><br><span class="line">  root: path.join(__dirname, <span class="string">'view'</span>),</span><br><span class="line">  extname: <span class="string">'.art'</span>,</span><br><span class="line">  debug: process.env.NODE_ENV !== <span class="string">'production'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.use(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params">ctx</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> ctx.render(<span class="string">'user'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">8080</span>);</span><br></pre></td></tr></table></figure><h4 id="syntax"><a href="#syntax" class="headerlink" title="syntax"></a>syntax</h4><p><a href="https://aui.github.io/art-template/docs/syntax.html" target="_blank" rel="noopener">link</a></p><p><code></code></p><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>koa提供了从上下文直接读取、写入cookie的方法</p><ul><li>ctx.cookies.get(name, [options]) 读取上下文请求中的cookie</li><li>ctx.cookies.set(name, value, [options]) 在上下文中写入cookie</li></ul><p>koa2 中操作的cookies是使用了npm的cookies模块，源码在<a href="https://github.com/pillarjs/cookies" target="_blank" rel="noopener">https://github.com/pillarjs/cookies</a>，所以在读写cookie的使用参数与该模块的使用一致。</p><h3 id="例子代码"><a href="#例子代码" class="headerlink" title="例子代码"></a>例子代码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> ( ctx.url === <span class="string">'/index'</span> ) &#123;</span><br><span class="line">    ctx.cookies.set(</span><br><span class="line">      <span class="string">'cid'</span>,</span><br><span class="line">      <span class="string">'hello world'</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        domain: <span class="string">'localhost'</span>,  <span class="comment">// 写cookie所在的域名</span></span><br><span class="line">        path: <span class="string">'/index'</span>,       <span class="comment">// 写cookie所在的路径</span></span><br><span class="line">        maxAge: <span class="number">10</span> * <span class="number">60</span> * <span class="number">1000</span>, <span class="comment">// cookie有效时长</span></span><br><span class="line">        expires: <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2017-02-15'</span>),  <span class="comment">// cookie失效时间</span></span><br><span class="line">        httpOnly: <span class="literal">false</span>,  <span class="comment">// 是否只用于http请求中获取</span></span><br><span class="line">        overwrite: <span class="literal">false</span>  <span class="comment">// 是否允许重写</span></span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    ctx.body = <span class="string">'cookie is ok'</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ctx.body = <span class="string">'hello world'</span> </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'[demo] cookie is starting at port 3000'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="session"><a href="#session" class="headerlink" title="session"></a>session</h2><p>koa2原生功能只提供了cookie的操作，但是没有提供session操作。session就只用自己实现或者通过第三方中间件实现。在koa2中实现session的方案有一下几种</p><ul><li>如果session数据量很小，可以直接存在内存中</li><li>如果session数据量很大，则需要存储介质存放session数据</li></ul><h3 id="数据库存储方案"><a href="#数据库存储方案" class="headerlink" title="数据库存储方案"></a>数据库存储方案</h3><ul><li>将session存放在MySQL数据库中</li><li>需要用到中间件<ul><li>koa-session-minimal 适用于koa2 的session中间件，提供存储介质的读写接口 。</li><li>koa-mysql-session 为koa-session-minimal中间件提供MySQL数据库的session数据读写操作。</li><li>将sessionId和对应的数据存到数据库</li></ul></li><li>将数据库的存储的sessionId存到页面的cookie中</li><li>根据cookie的sessionId去获取对于的session信息</li></ul><h3 id="例子代码-1"><a href="#例子代码-1" class="headerlink" title="例子代码"></a>例子代码</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">'koa-session-minimal'</span>)</span><br><span class="line"><span class="keyword">const</span> MysqlSession = <span class="built_in">require</span>(<span class="string">'koa-mysql-session'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 配置存储session信息的mysql</span></span><br><span class="line"><span class="keyword">let</span> store = <span class="keyword">new</span> MysqlSession(&#123;</span><br><span class="line">  user: <span class="string">'root'</span>,</span><br><span class="line">  password: <span class="string">'abc123'</span>,</span><br><span class="line">  database: <span class="string">'koa_demo'</span>,</span><br><span class="line">  host: <span class="string">'127.0.0.1'</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 存放sessionId的cookie配置</span></span><br><span class="line"><span class="keyword">let</span> cookie = &#123;</span><br><span class="line">  maxAge: <span class="string">''</span>, <span class="comment">// cookie有效时长</span></span><br><span class="line">  expires: <span class="string">''</span>,  <span class="comment">// cookie失效时间</span></span><br><span class="line">  path: <span class="string">''</span>, <span class="comment">// 写cookie所在的路径</span></span><br><span class="line">  domain: <span class="string">''</span>, <span class="comment">// 写cookie所在的域名</span></span><br><span class="line">  httpOnly: <span class="string">''</span>, <span class="comment">// 是否只用于http请求中获取</span></span><br><span class="line">  overwrite: <span class="string">''</span>,  <span class="comment">// 是否允许重写</span></span><br><span class="line">  secure: <span class="string">''</span>,</span><br><span class="line">  sameSite: <span class="string">''</span>,</span><br><span class="line">  signed: <span class="string">''</span>,</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用session中间件</span></span><br><span class="line">app.use(session(&#123;</span><br><span class="line">  key: <span class="string">'SESSION_ID'</span>,</span><br><span class="line">  store: store,</span><br><span class="line">  cookie: cookie</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">app.use( <span class="keyword">async</span> ( ctx ) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置session</span></span><br><span class="line">  <span class="keyword">if</span> ( ctx.url === <span class="string">'/set'</span> ) &#123;</span><br><span class="line">    ctx.session = &#123;</span><br><span class="line">      user_id: <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).substr(<span class="number">2</span>),</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    ctx.body = ctx.session</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( ctx.url === <span class="string">'/'</span> ) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 读取session信息</span></span><br><span class="line">    ctx.session.count = ctx.session.count + <span class="number">1</span></span><br><span class="line">    ctx.body = ctx.session</span><br><span class="line">  &#125; </span><br><span class="line">  </span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'[demo] session is starting at port 3000'</span>)</span><br></pre></td></tr></table></figure><h2 id="验证码"><a href="#验证码" class="headerlink" title="验证码"></a>验证码</h2><p><code>npm install --save svg-captcha</code></p><h3 id="Usage-2"><a href="#Usage-2" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svgCaptcha = <span class="built_in">require</span>(<span class="string">'svg-captcha'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> captcha = svgCaptcha.create();</span><br><span class="line"><span class="built_in">console</span>.log(captcha);</span><br><span class="line"><span class="comment">// &#123;data: '&lt;svg.../svg&gt;', text: 'abcd'&#125;</span></span><br></pre></td></tr></table></figure><p>with express</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svgCaptcha = <span class="built_in">require</span>(<span class="string">'svg-captcha'</span>);</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/captcha'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> captcha = svgCaptcha.create();</span><br><span class="line">req.session.captcha = captcha.text;</span><br><span class="line"></span><br><span class="line">res.type(<span class="string">'svg'</span>);</span><br><span class="line">res.status(<span class="number">200</span>).send(captcha.data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>with koa</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> captcha = svgCaptcha.create(&#123;</span><br><span class="line">  size: <span class="number">6</span>,</span><br><span class="line">  fontSize: <span class="number">50</span>,</span><br><span class="line">  width: <span class="number">100</span>,</span><br><span class="line">  height: <span class="number">40</span>,</span><br><span class="line">  background: <span class="string">'#cc9966'</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ctx.session.code = captcha.text</span><br><span class="line">ctx.response.type = <span class="string">'image/svg+xml'</span></span><br><span class="line">ctx.body = captcha.data</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> koa </tag>
            
            <tag> nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决微信小程序滚动穿透的问题</title>
      <link href="/2019/04/18/%E6%80%BB%E7%BB%93/%E8%A7%A3%E5%86%B3%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%BB%9A%E5%8A%A8%E7%A9%BF%E9%80%8F%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2019/04/18/%E6%80%BB%E7%BB%93/%E8%A7%A3%E5%86%B3%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%BB%9A%E5%8A%A8%E7%A9%BF%E9%80%8F%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="解决微信小程序滚动穿透的问题"><a href="#解决微信小程序滚动穿透的问题" class="headerlink" title="解决微信小程序滚动穿透的问题"></a>解决微信小程序滚动穿透的问题</h1><p><a href="https://blog.csdn.net/lamenw/article/details/80621549" target="_blank" rel="noopener">参考</a></p><h2 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"modal-view"</span> hidden=<span class="string">"&#123;&#123;!showModal&#125;&#125;"</span> bindtap=<span class="string">"toggleModal"</span> catchtouchmove=<span class="string">"ture"</span>&gt;</span><br><span class="line">  &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"modal"</span>&gt;</span><br><span class="line">  &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"modal-item"</span> catchtap=<span class="string">"makePhoneCall"</span>&gt;&#123;&#123;site.phone&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">  &lt;view class="modal-item" catchtap="toggleModal"&gt;取消&lt;/</span>view&gt;</span><br><span class="line">  &lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>view&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
            <tag> 滚动穿透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序实现侧滑删除</title>
      <link href="/2019/04/09/%E6%80%BB%E7%BB%93/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E4%BE%A7%E6%BB%91%E5%88%A0%E9%99%A4/"/>
      <url>/2019/04/09/%E6%80%BB%E7%BB%93/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AE%9E%E7%8E%B0%E4%BE%A7%E6%BB%91%E5%88%A0%E9%99%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="微信小程序实现侧滑删除"><a href="#微信小程序实现侧滑删除" class="headerlink" title="微信小程序实现侧滑删除"></a>微信小程序实现侧滑删除</h1><p>三种办法： scroll-view, movable-view配合movable-area, view</p><h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><p>删除上一行后，下一行的删除按钮会显示，这个问题在scroll-view的方法中还是存在</p><p>目前就是在点击删除的时候，把删除按钮隐藏</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;View,Button&#125; <span class="keyword">from</span> <span class="string">'@tarojs/components'</span></span><br><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'../../lib/component'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./sliderLeft.scss'</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SliderLeft</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    style: <span class="string">''</span>,</span><br><span class="line">    delBtnWidth: <span class="number">100</span>,</span><br><span class="line">    startX: <span class="number">0</span>,</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  touchStart(e) &#123;</span><br><span class="line">    <span class="keyword">if</span>(e.touches.length==<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        <span class="comment">//设置触摸起始点水平方向位置</span></span><br><span class="line">        startX:e.touches[<span class="number">0</span>].clientX</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  touchEnd(e) &#123;</span><br><span class="line">    <span class="keyword">if</span>(e.changedTouches.length==<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="comment">//手指移动结束后水平位置</span></span><br><span class="line">      <span class="keyword">const</span> endX = e.changedTouches[<span class="number">0</span>].clientX;</span><br><span class="line">      <span class="comment">//触摸开始与结束，手指移动的距离</span></span><br><span class="line">      <span class="keyword">const</span> disX = <span class="keyword">this</span>.state.startX - endX;</span><br><span class="line">      <span class="keyword">const</span> delBtnWidth = <span class="keyword">this</span>.state.delBtnWidth;</span><br><span class="line">      <span class="comment">//如果距离小于删除按钮的1/5，不显示删除按钮</span></span><br><span class="line">      <span class="keyword">const</span> txtStyle = disX &gt; delBtnWidth/<span class="number">5</span> ? <span class="string">"left:-"</span>+delBtnWidth+<span class="string">"rpx"</span>:<span class="string">"left:0rpx"</span>;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        style: txtStyle</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  touchMove(e) &#123;</span><br><span class="line">    <span class="keyword">if</span>(e.touches.length==<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="comment">//手指移动时水平方向位置</span></span><br><span class="line">      <span class="keyword">const</span> moveX = e.touches[<span class="number">0</span>].clientX;</span><br><span class="line">      <span class="comment">//手指起始点位置与移动期间的差值</span></span><br><span class="line">      <span class="keyword">const</span> disX = <span class="keyword">this</span>.state.startX - moveX;</span><br><span class="line">      <span class="keyword">const</span> delBtnWidth = <span class="keyword">this</span>.state.delBtnWidth;</span><br><span class="line">      <span class="keyword">let</span> txtStyle = <span class="string">""</span>;</span><br><span class="line">      <span class="keyword">if</span>(disX &lt;= <span class="number">0</span>)&#123;<span class="comment">//如果移动距离小于等于0，文本层位置不变</span></span><br><span class="line">        txtStyle = <span class="string">"left:0rpx"</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(disX &gt; <span class="number">0</span> )&#123;<span class="comment">//移动距离大于0，文本层left值等于手指移动距离</span></span><br><span class="line">        txtStyle = <span class="string">"left:-"</span>+disX+<span class="string">"rpx"</span>;</span><br><span class="line">        <span class="keyword">if</span>(disX&gt;=delBtnWidth)&#123;</span><br><span class="line">          <span class="comment">//控制手指移动距离最大值为删除按钮的宽度</span></span><br><span class="line">          txtStyle = <span class="string">"left:-"</span>+delBtnWidth+<span class="string">"rpx"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        style: txtStyle</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render () &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;View className=<span class="string">'item-scroll'</span> onTouchStart=&#123;<span class="keyword">this</span>.touchStart&#125; onTouchEnd=&#123;<span class="keyword">this</span>.touchEnd&#125; onTouchMove=&#123;<span class="keyword">this</span>.touchMove&#125; style=&#123;<span class="keyword">this</span>.state.style&#125;&gt;</span><br><span class="line">        &lt;View className=<span class="string">'item'</span>&gt;</span><br><span class="line">          &#123;<span class="keyword">this</span>.state.checkedItems.includes(item.orderItemId) ? (</span><br><span class="line">            &lt;View className=<span class="string">'check'</span> onClick=&#123;<span class="keyword">this</span>.uncheckItem.bind(<span class="keyword">this</span>, item.orderItemId, item.quantity)&#125;&gt;</span><br><span class="line">              &lt;Image src=&#123;CheckImage&#125; <span class="class"><span class="keyword">class</span></span>=<span class="string">'checkImage'</span> mode=<span class="string">'scaleToFill'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Image</span>&gt;</span></span></span><br><span class="line">            &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">          ) : (</span></span><br><span class="line"><span class="regexp">            &lt;View className='check' onClick=&#123;this.checkItem.bind(this, item.orderItemId, item.quantity)&#125;&gt;</span></span><br><span class="line"><span class="regexp">              &lt;View className='check-item'&gt;&lt;/</span>View&gt;</span><br><span class="line">            &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">          )&#125;</span></span><br><span class="line"><span class="regexp">          &lt;Image src=&#123;item.imageUrl&#125; className='item-image' mode='scaleToFill'&gt;&lt;/</span>Image&gt;</span><br><span class="line">          &lt;View className=<span class="string">'item-intro'</span>&gt;</span><br><span class="line">            &lt;View className=<span class="string">'item-name'</span>&gt;&#123;item.productDesc&#125;&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">            &lt;View className='item-price-quantity'&gt;</span></span><br><span class="line"><span class="regexp">              &lt;Text className='item-promotion-price'&gt;￥&#123;item.itemGrand&#125;&lt;/</span>Text&gt;</span><br><span class="line">              &#123;<span class="comment">/* 加减按钮 */</span>&#125;</span><br><span class="line">              &lt;View className=<span class="string">'plus'</span>&gt;</span><br><span class="line">                &lt;View className=&#123;item.quantity &gt; <span class="number">1</span> ? <span class="string">'plus-reduce'</span> : <span class="string">'plus-reduce-disable'</span>&#125; onClick=&#123;<span class="keyword">this</span>.decreaseItem.bind(<span class="keyword">this</span>, item.orderItemId, item.quantity)&#125;&gt;-<span class="xml"><span class="tag">&lt;/<span class="name">View</span>&gt;</span></span></span><br><span class="line">                &lt;View className=<span class="string">'plus-content'</span>&gt;&#123;item.quantity&#125;&lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">                &lt;View className='plus-plus' onClick=&#123;this.increaseItem.bind(this, item.orderItemId, item.quantity)&#125;&gt;+&lt;/</span>View&gt;</span><br><span class="line">              &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>View&gt;</span><br><span class="line">          &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">          &#123;/</span>* 删除整行 *<span class="regexp">/&#125;</span></span><br><span class="line"><span class="regexp">          &lt;View className='item-del' onClick=&#123;this.clearItem.bind(this, item.orderItemId, item.quantity)&#125;&gt;</span></span><br><span class="line"><span class="regexp">            删除</span></span><br><span class="line"><span class="regexp">          &lt;/</span>View&gt;</span><br><span class="line">        &lt;<span class="regexp">/View&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>View&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> SliderLeft</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
            <tag> 侧滑删除 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019-04-09CSS</title>
      <link href="/2019/04/09/%E6%80%BB%E7%BB%93/%E5%8D%95%E8%A1%8C%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7/"/>
      <url>/2019/04/09/%E6%80%BB%E7%BB%93/%E5%8D%95%E8%A1%8C%E5%A4%9A%E8%A1%8C%E6%96%87%E6%9C%AC%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS实现单行、多行文本溢出显示省略号"><a href="#CSS实现单行、多行文本溢出显示省略号" class="headerlink" title="CSS实现单行、多行文本溢出显示省略号"></a>CSS实现单行、多行文本溢出显示省略号</h1><p><a href="http://www.daqianduan.com/6179.html" target="_blank" rel="noopener">参考</a></p><h2 id="单行"><a href="#单行" class="headerlink" title="单行"></a>单行</h2><p>如果实现单行文本的溢出显示省略号可以用text-overflow:ellipsis属性来，当然还需要加宽度width属来兼容部分浏览。</p><p>实现方法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span><span class="selector-pseudo">:ellipsis</span>;</span><br><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br></pre></td></tr></table></figure><h2 id="多行"><a href="#多行" class="headerlink" title="多行"></a>多行</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</span><br><span class="line"><span class="selector-tag">-webkit-line-clamp</span>: 3;</span><br><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br></pre></td></tr></table></figure><p>适用范围：<br>因使用了WebKit的CSS扩展属性，该方法适用于WebKit浏览器及移动端；</p><p>注：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-webkit-line-clamp 用来限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他的WebKit属性。常见结合属性：</span><br><span class="line">display: -webkit-box; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。</span><br><span class="line">-webkit-box-orient 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019-04-04项目部分功能逻辑梳理</title>
      <link href="/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04%E9%A1%B9%E7%9B%AE%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E9%80%BB%E8%BE%91%E6%A2%B3%E7%90%86/"/>
      <url>/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04%E9%A1%B9%E7%9B%AE%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E9%80%BB%E8%BE%91%E6%A2%B3%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="商城项目部分逻辑梳理"><a href="#商城项目部分逻辑梳理" class="headerlink" title="商城项目部分逻辑梳理"></a>商城项目部分逻辑梳理</h1><h2 id="用户注册（需要获取到手机号）"><a href="#用户注册（需要获取到手机号）" class="headerlink" title="用户注册（需要获取到手机号）"></a>用户注册（需要获取到手机号）</h2><p>用户第一次登录微信小程序会有openid</p><p>可以选择微信注册（老版本的微信注册可能会不需要手机号）或者手机号注册</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button open-type=<span class="string">'getPhoneNumber'</span> onGetPhoneNumber=&#123;处理后续注册操作&#125;&gt;<span class="xml"><span class="tag">&lt;/<span class="name">Button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>微信注册后，得到unionid</p><h2 id="手机注册"><a href="#手机注册" class="headerlink" title="手机注册"></a>手机注册</h2><h3 id="手机号验证"><a href="#手机号验证" class="headerlink" title="手机号验证"></a>手机号验证</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="regexp">/^(((13[0-9]&#123;1&#125;)|(14[0-9]&#123;1&#125;)|(15[0-9]&#123;1&#125;)|(16[0-9]&#123;1&#125;)|(17[0-9]&#123;1&#125;)|(18[0-9]&#123;1&#125;)|(19[0-9]&#123;1&#125;))+\d&#123;8&#125;)$/</span>.test(phoneNumber)</span><br></pre></td></tr></table></figure><h3 id="短信验证码发送倒计时"><a href="#短信验证码发送倒计时" class="headerlink" title="短信验证码发送倒计时"></a>短信验证码发送倒计时</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// state = &#123; timeCountDown: 60 &#125;</span></span><br><span class="line">timeCountDownFunc () &#123;</span><br><span class="line">    <span class="keyword">const</span> countdown = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        timeCountDown: --<span class="keyword">this</span>.state.timeCountDown</span><br><span class="line">      &#125;, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.state.timeCountDown===<span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">            checkCodeClicked: <span class="literal">false</span>,</span><br><span class="line">            timeCountDown: <span class="number">60</span></span><br><span class="line">          &#125;)</span><br><span class="line">          clearInterval(countdown)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="短信验证码验证"><a href="#短信验证码验证" class="headerlink" title="短信验证码验证"></a>短信验证码验证</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!<span class="regexp">/^([0-9]&#123;6&#125;)$/</span>.test(checkCode)</span><br></pre></td></tr></table></figure><h3 id="功能检验"><a href="#功能检验" class="headerlink" title="功能检验"></a>功能检验</h3><ul><li>判断手机号是否正确</li><li>判断短信验证码是否正确</li><li>判断后端返回的错误信息</li><li>执行手机号注册功能</li></ul><h2 id="商品加入购物车、直接购买"><a href="#商品加入购物车、直接购买" class="headerlink" title="商品加入购物车、直接购买"></a>商品加入购物车、直接购买</h2><h3 id="功能检验-1"><a href="#功能检验-1" class="headerlink" title="功能检验"></a>功能检验</h3><ul><li>判断商品库存</li><li>判断是否是在团购、秒杀等时间内</li><li>判断后端返回的错误信息</li><li>执行加入购物车、立即购买功能</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 逻辑 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019-04-04CSS总结</title>
      <link href="/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04CSS%E6%80%BB%E7%BB%93/"/>
      <url>/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04CSS%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS总结"><a href="#CSS总结" class="headerlink" title="CSS总结"></a>CSS总结</h1><p><a href="http://css.doyoe.com/" target="_blank" rel="noopener">CSS参考手册</a></p><h2 id="居中三连"><a href="#居中三连" class="headerlink" title="居中三连"></a>居中三连</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line"><span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span>;</span><br></pre></td></tr></table></figure><h2 id="flex-wrap的妙用"><a href="#flex-wrap的妙用" class="headerlink" title="flex-wrap的妙用"></a>flex-wrap的妙用</h2><p>四宫格什么的</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line"><span class="selector-tag">flex-wrap</span>: <span class="selector-tag">wrap</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2019-04-04小程序总结</title>
      <link href="/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%80%BB%E7%BB%93/"/>
      <url>/2019/04/04/%E6%80%BB%E7%BB%93/2019-04-04%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="总结微信小程序项目中遇到的问题"><a href="#总结微信小程序项目中遇到的问题" class="headerlink" title="总结微信小程序项目中遇到的问题"></a>总结微信小程序项目中遇到的问题</h1><h2 id="模拟器中日期正常显示，ios系统上显示出问题-IOS为NaN的问题"><a href="#模拟器中日期正常显示，ios系统上显示出问题-IOS为NaN的问题" class="headerlink" title="模拟器中日期正常显示，ios系统上显示出问题(IOS为NaN的问题)"></a>模拟器中日期正常显示，ios系统上显示出问题(IOS为NaN的问题)</h2><h3 id="原因：ios系统对Date-parse-解析有限制"><a href="#原因：ios系统对Date-parse-解析有限制" class="headerlink" title="原因：ios系统对Date.parse()解析有限制"></a>原因：ios系统对Date.parse()解析有限制</h3><p>IOS系统不支持2017-01-01格式的时间导致的，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mydata = <span class="string">'2017-01-01 11:00:00'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"返回时间："</span> + mydata);</span><br><span class="line"><span class="keyword">var</span> time = <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>(mydata)) / <span class="number">1000</span>;</span><br></pre></td></tr></table></figure><p>这样的代码安卓手机开发手机测试都没有问题，唯独IOS获取的日期为NaN,若干次百度调试后发现，原来IOS只识别2017/01/01这样的日期格式，<br>下面用正则替换2017-01-01日期格式为2017/01/01后问题解决(代码如下)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mydata = <span class="string">'2017-01-01 11:00:00'</span>;  </span><br><span class="line">mydata=data.replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>);  </span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"返回时间："</span> + mydata);  </span><br><span class="line"><span class="keyword">var</span> time = <span class="built_in">Date</span>.parse(<span class="keyword">new</span> <span class="built_in">Date</span>(mydata)) / <span class="number">1000</span>;</span><br></pre></td></tr></table></figure><hr><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2017-12-08 00:00:00'</span>);   <span class="comment">//ios中starTime为NaN</span></span><br></pre></td></tr></table></figure><p>Android 和 PC端浏览器都没有问题，IOS 浏览器会报NaN，解决方法就是，把中间的空格替换为T</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">startTime.replace(<span class="string">' '</span>,<span class="string">'T'</span>);</span><br><span class="line"><span class="keyword">var</span> startTime2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2017-12-08T00:00:00'</span>);</span><br></pre></td></tr></table></figure><h2 id="canvas生成海报"><a href="#canvas生成海报" class="headerlink" title="canvas生成海报"></a>canvas生成海报</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> canvasImg = <span class="string">''</span></span><br><span class="line">  <span class="keyword">await</span> Taro.downloadFile(&#123;</span><br><span class="line">    url: prodimg</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    canvasImg = res.tempFilePath</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> context = Taro.createCanvasContext(<span class="string">"imageCanvas"</span>,<span class="keyword">this</span>.$scope)</span><br><span class="line">  context.drawImage(canvasImg,<span class="number">57</span>,<span class="number">10</span>,<span class="number">260</span>,<span class="number">260</span>);</span><br><span class="line">  context.save();</span><br></pre></td></tr></table></figure><h3 id="ios必须打开调试才能出现图片的问题"><a href="#ios必须打开调试才能出现图片的问题" class="headerlink" title="ios必须打开调试才能出现图片的问题"></a>ios必须打开调试才能出现图片的问题</h3><p>添加图片域名到小程序的downloadFile安全域名下</p><p><a href="https://developers.weixin.qq.com/community/develop/doc/0002c0cddf05c81490a6649cf51c00" target="_blank" rel="noopener">参考</a></p><h3 id="保存图片"><a href="#保存图片" class="headerlink" title="保存图片"></a>保存图片</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">saveImage() &#123;</span><br><span class="line">  <span class="keyword">const</span> self = <span class="keyword">this</span></span><br><span class="line">  Taro.canvasToTempFilePath(&#123;</span><br><span class="line">    canvasId: <span class="string">'imageCanvas'</span>,</span><br><span class="line">    fileType: <span class="string">'jpg'</span>,</span><br><span class="line">    success(res) &#123;</span><br><span class="line">      Taro.authorize(&#123;</span><br><span class="line">        scope: <span class="string">'scope.writePhotosAlbum'</span>,</span><br><span class="line">        success() &#123;</span><br><span class="line">          Taro.saveImageToPhotosAlbum(&#123;</span><br><span class="line">            filePath: res.tempFilePath,</span><br><span class="line">            success() &#123;</span><br><span class="line">              Taro.showToast(&#123;</span><br><span class="line">                title: <span class="string">'保存成功！'</span>,</span><br><span class="line">                icon: <span class="string">'none'</span>,</span><br><span class="line">                mask: <span class="literal">true</span>,</span><br><span class="line">                complete: Taro.hideLoading()</span><br><span class="line">              &#125;)</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">"保存成功！"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="keyword">this</span>.$scope)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Button按钮去除边框"><a href="#Button按钮去除边框" class="headerlink" title="Button按钮去除边框"></a>Button按钮去除边框</h2><p><code>button::after{ border: none; }</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
